/*! For license information please see main.2c4823f4.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},60:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const l=a(n(373)),c=a(n(462)),u=o(n(68)),d=new("function"!==typeof TextDecoder?u.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=Buffer.from(e,"utf8")),c.default.encode(Buffer.from(e))},t.baseDecode=function(e){return Buffer.from(c.default.decode(e))};const h=1024;class f extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=f;class p{constructor(){this.buf=Buffer.alloc(h),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(h)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(h)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function g(e,t,n){const r=n.value;n.value=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new f("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=p;class m{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new l.default(e,"le")}readU128(){const e=this.readBuffer(16);return new l.default(e,"le")}readU256(){const e=this.readBuffer(32);return new l.default(e,"le")}readU512(){const e=this.readBuffer(64);return new l.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new f(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return d.decode(t)}catch(n){throw new f(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function v(e,t,n,r,i){try{if("string"===typeof r)i[`write${y(r)}`](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new f(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"===typeof r[1]){if(n.length!==r[1])throw new f(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let t=0;t<r[1];t++)v(e,null,n[t],r[0],i)}else i.writeArray(n,(n=>{v(e,t,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null===n||void 0===n?i.writeU8(0):(i.writeU8(1),v(e,t,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,s)=>{v(e,t,s,r.key,i),v(e,t,n,r.value,i)}));break;default:throw new f(`FieldType ${r} unrecognized`)}else b(e,n,i)}catch(s){throw s instanceof f&&s.addToFieldPath(t),s}}function b(e,t,n){if("function"===typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new f(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((r=>{let[i,s]=r;v(e,i,t[i],s,n)}));else{if("enum"!==r.kind)throw new f(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const i=t[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),v(e,o,t[o],a,n);break}}}}}function w(e,t,n,r){try{if("string"===typeof n)return r[`read${y(n)}`]();if(n instanceof Array){if("number"===typeof n[0])return r.readFixedArray(n[0]);if("number"===typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(w(e,null,n[0],r));return t}return r.readArray((()=>w(e,t,n[0],r)))}if("option"===n.kind){return r.readU8()?w(e,t,n.type,r):void 0}if("map"===n.kind){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const s=w(e,t,n.key,r),o=w(e,t,n.value,r);i.set(s,o)}return i}return k(e,n,r)}catch(i){throw i instanceof f&&i.addToFieldPath(t),i}}function k(e,t,n){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new f(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,s]of e.get(t).fields)r[i]=w(e,i,s,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new f(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=w(e,s,o,n);return new t({[s]:a})}throw new f(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}s([g],m.prototype,"readU8",null),s([g],m.prototype,"readU16",null),s([g],m.prototype,"readU32",null),s([g],m.prototype,"readU64",null),s([g],m.prototype,"readU128",null),s([g],m.prototype,"readU256",null),s([g],m.prototype,"readU512",null),s([g],m.prototype,"readString",null),s([g],m.prototype,"readFixedArray",null),s([g],m.prototype,"readArray",null),t.BinaryReader=m,t.serialize=function(e,t){const n=new(arguments.length>2&&void 0!==arguments[2]?arguments[2]:p);return b(e,t,n),n.toArray()},t.deserialize=function(e,t,n){const r=new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:m)(n),i=k(e,t,r);if(r.offset<n.length)throw new f(`Unexpected ${n.length-r.offset} bytes after deserialized data`);return i},t.deserializeUnchecked=function(e,t,n){return k(e,t,new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:m)(n))}},68:(e,t,n)=>{"use strict";function r(e,t,n){return t<=e&&e<=n}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}n.r(t),n.d(t,{TextDecoder:()=>c,TextEncoder:()=>u});function s(e){this.tokens=[].slice.call(e)}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var o=-1;function a(e,t){if(e)throw TypeError("Decoder error");return t||65533}var l="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function d(e){var t=e.fatal,n=0,i=0,s=0,l=128,c=191;this.handler=function(e,u){if(-1===u&&0!==s)return s=0,a(t);if(-1===u)return o;if(0===s){if(r(u,0,127))return u;if(r(u,194,223))s=1,n=u-192;else if(r(u,224,239))224===u&&(l=160),237===u&&(c=159),s=2,n=u-224;else{if(!r(u,240,244))return a(t);240===u&&(l=144),244===u&&(c=143),s=3,n=u-240}return n<<=6*s,null}if(!r(u,l,c))return n=s=i=0,l=128,c=191,e.prepend(u),a(t);if(l=128,c=191,n+=u-128<<6*(s-(i+=1)),i!==s)return null;var d=n;return n=s=i=0,d}}function h(e){e.fatal;this.handler=function(e,t){if(-1===t)return o;if(r(t,0,127))return t;var n,i;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var s=[(t>>6*n)+i];n>0;){var a=t>>6*(n-1);s.push(128|63&a),n-=1}return s}}c.prototype={decode:function(e,t){var n;n="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new d({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,a=new s(n),l=[];!a.endOfStream()&&(r=this._decoder.handler(a,a.read()))!==o;)null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r));if(!this._streaming){do{if((r=this._decoder.handler(a,a.read()))===o)break;null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r))}while(!a.endOfStream());this._decoder=null}return l.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===l[0]?(this._BOMseen=!0,l.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(l)}},u.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(t.stream);for(var n,r=[],a=new s(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var s=t.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=e.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=1023&s,l=1023&o;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}(e));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}}},81:(e,t)=>{"use strict";t.k5=function(e){{const t=Buffer.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},t.Bq=function(e,t){{const n=e.toString(16),r=Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}}},92:(e,t,n)=>{"use strict";var r;n.d(t,{v4:()=>d});var i=new Uint8Array(16);function s(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(e){return"string"===typeof e&&o.test(e)};for(var l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));const u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};const d=function(e,t,n){var r=(e=e||{}).random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return u(r)}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:x.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+T(l,0):s,k(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",k(e))for(var c=0;c<e.length;c++){var u=s+T(a=e[c],c);l+=C(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=C(a=a.value,t,i,u=s+T(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},B={transition:null},M={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:B,ReactCurrentOwner:x};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=B.transition;B.transition={};try{e()}finally{B.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(829)),s=r(n(736)),o=n(745);class a{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new i.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:i=!1,count:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]})).forEach((e=>{let[t,n]=e;a.searchParams.append(t,n)}))):(t="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new s.default({method:t,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=a},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,B(_);else{var t=r(u);null!==t&&M(k,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,v(A),A=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(k,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,A=-1,I=5,T=-1;function C(){return!(t.unstable_now()-T<I)}function P(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(P)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,N=j.port2;j.port1.onmessage=P,x=function(){N.postMessage(null)}}else x=function(){y(P,0)};function B(e){E=e,S||(S=!0,x())}function M(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,B(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(m?(v(A),A=-1):m=!0,M(k,s-o))):(e.sortIndex=a,n(c,e),g||p||(g=!0,B(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},256:(e,t)=>{"use strict";function n(e,t,n){void 0===n&&(n=!1),n&&(t/=e,e=1);var r,i=[],s=0,o=0,a=function(){var n=s+t,l=Date.now();if(l<n)return void 0!==r&&clearTimeout(r),void(r=setTimeout(a,n-l));s=l,o=0;for(var c=0,u=i.splice(0,e);c<u.length;c++){var d=u[c];o++,d()}r=i.length?setTimeout(a,t):void 0};return function(n){return new Promise((function(l,c){var u=function(){return Promise.resolve().then(n).then(l).catch(c)},d=Date.now();void 0===r&&d-s>t&&(s=d,o=0),o++<e?u():(i.push(u),void 0===r&&(r=setTimeout(a,s+t-d)))}))}}Object.defineProperty(t,"__esModule",{value:!0}),e.exports=n,t.default=n},281:(e,t,n)=>{"use strict";var r=n(966).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,s=0;e[n]===l;)i++,n++;for(var o=(e.length-n)*c+1>>>0,u=new Uint8Array(o);n<e.length;){var d=e.charCodeAt(n);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=o-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=a*u[p]>>>0,u[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=f,n++}for(var g=o-s;g!==o&&0===u[g];)g++;var m=r.allocUnsafe(i+(o-g));m.fill(0,0,i);for(var y=i;g!==o;)m[y++]=u[g++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,n++;for(var c=(o-s)*u+1>>>0,d=new Uint8Array(c);s!==o;){for(var h=t[s],f=0,p=c-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,s++}for(var g=c-i;g!==c&&0===d[g];)g++;for(var m=l.repeat(n);g<c;++g)m+=e.charAt(d[g]);return m},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(630)),s=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let i=null,o=null,a=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&s&&s.length>1&&(a=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,a=null,l=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(r=null===i||void 0===i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,l=200,c="OK"),i&&this.shouldThrowOnError)throw new s.default(i)}return{error:i,data:o,count:a,status:l,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},328:(e,t,n)=>{"use strict";t.I0=t.DH=t.NX=t.u8=t.cY=void 0,t.av=t.O6=t.w3=t.Wg=void 0;const r=n(382);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(e){return i(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}class o{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class l extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class u extends l{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!(e instanceof o))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof d||this.layout instanceof h}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.decode(e,t+this.offset)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.layout.encode(e,t,n+this.offset)}}class d extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e).readUIntLE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).writeUIntLE(e,n,this.span),this.span}}class h extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e).readUIntBE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).writeUIntBE(e,n,this.span),this.span}}class f extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e).readIntLE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).writeIntLE(e,n,this.span),this.span}}class p extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e).readIntBE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).writeIntBE(e,n,this.span),this.span}}const g=Math.pow(2,32);function m(e){const t=Math.floor(e/g);return{hi32:t,lo32:e-t*g}}function y(e,t){return e*g+t}class v extends o{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=s(e),r=n.readUInt32LE(t);return y(n.readUInt32LE(t+4),r)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=m(e),i=s(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class b extends o{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=s(e);return y(n.readUInt32BE(t),n.readUInt32BE(t+4))}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=m(e),i=s(t);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class w extends o{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=s(e),r=n.readUInt32LE(t);return y(n.readInt32LE(t+4),r)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=m(e),i=s(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class k extends o{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=s(e);return y(n.readInt32BE(t),n.readUInt32BE(t+4))}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=m(e),i=s(t);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class _ extends o{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e).readFloatLE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).writeFloatLE(e,n),4}}class x extends o{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e).readFloatBE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).writeFloatBE(e,n),4}}class S extends o{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e).readDoubleLE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).writeDoubleLE(e,n),8}}class E extends o{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e).readDoubleBE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).writeDoubleBE(e,n),8}}class A extends o{constructor(e,t,n){if(!(e instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof l&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof l)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof l&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];let r=0,i=this.count;for(i instanceof l&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof l&&this.count.encode(e.length,t,n),i}}class I extends o{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof o),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===n&&(n=t,t=void 0);for(const s of e)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=n;let i=0,s=0;for(const o of this.fields){let r=o.span;if(s=0<r?r:0,void 0!==o.property){const i=e[o.property];void 0!==i&&(s=o.encode(i,t,n),0>r&&(r=o.getSpan(t,n)))}i=n,n+=r}return i+s-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class T{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}class C extends T{constructor(e,t){if(!(e instanceof l&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class P extends o{constructor(e,t,n){let r;if(e instanceof d||e instanceof h)r=new C(new u(e));else if(e instanceof l&&e.isCount())r=new C(e);else{if(!(e instanceof T))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=e}if(void 0===t&&(t=null),!(null===t||t instanceof o))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof d||e instanceof h)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=e instanceof d||e instanceof h,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator,i=r.decode(e,n),s=this.registry[i];if(void 0===s){const s=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=r.layout.span),t=this.makeDestinationObject(),t[r.property]=i,t[s.property]=s.decode(e,n+o)}else t=s.decode(e,n);return t}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(e[r.property],t,n),s+i.encode(e[i.property],t,n+s)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new j(this,e,t,n);return this.registry[e]=r,r}getVariant(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=e instanceof Uint8Array?this.discriminator.decode(e,n):e,this.registry[t]}}class j extends o{constructor(e,t,n,r){if(!(e instanceof P))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof o))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function N(e){return 0>e&&(e+=4294967296),e}class B extends o{constructor(e,t,n){if(!(e instanceof d||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=N(e),this},this._packedGetValue=function(){return r}}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(e));return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.word.decode(t,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new M(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new O(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class M{constructor(e,t,n){if(!(e instanceof B))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=N(this.valueMask<<this.start),this.property=n}decode(e,t){return N(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!==typeof e||!Number.isInteger(e)||e!==N(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=N(e<<this.start);this.container._packedSetValue(N(t&~this.wordMask)|n)}}class O extends M{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"===typeof e&&(e=+e),super.encode(e)}}class R extends o{constructor(e,t){if(!(e instanceof l&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof l||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.span;return 0>n&&(n=this.length.decode(e,t)),s(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof l&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=s(e);return s(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof l&&this.length.encode(r,t,n),r}}class L extends o{constructor(e){super(-1,e)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.getSpan(e,t);return s(e).slice(t,t+n-1).toString("utf-8")}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),o=i.length;if(n+o>t.length)throw new RangeError("encoding overruns Buffer");const a=s(t);return i.copy(a,n),a[n+o]=0,o+1}}class z extends o{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e),e.length-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return s(e).slice(t,t+n).toString("utf-8")}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(s(t),n),o}}class U extends o{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}t.cY=(e,t,n)=>new u(e,t,n),t.u8=e=>new d(1,e),t.NX=e=>new d(2,e),t.DH=e=>new d(4,e),t.I0=e=>new v(e),t.Wg=e=>new w(e),t.w3=(e,t,n)=>new I(e,t,n),t.O6=(e,t,n)=>new A(e,t,n),t.av=(e,t)=>new R(e,t)},373:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(790).Buffer}catch(T){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function l(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function c(e,t,n,i){for(var s=0,o=0,a=Math.min(e.length,n),l=t;l<a;l++){var c=e.charCodeAt(l)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&o<i,"Invalid character"),s+=o}return s}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},s.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},s.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=l(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=l(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var s=e.length-n,o=s%r,a=Math.min(s,s-o)+n,l=0,u=n;u<a;u+=r)l=c(e,u,u+r,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var d=1;for(l=c(e,u,e.length,t),u=0;u<o;u++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){u(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(T){s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],l=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?h[6-l.length]+l+n:l+n}for(0!==s&&(n=s.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=f[e],u=p[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var g=d.modrn(u).toString(e);n=(d=d.idivn(u)).isZero()?g+n:h[c-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function g(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,l=o/67108864|0;n.words[0]=a;for(var c=1;c<r;c++){for(var u=l>>>26,d=67108863&l,h=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=h;f++){var p=c-f|0;u+=(o=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&o}n.words[c]=0|d,l=0|u}return 0!==l?n.words[c]=0|l:n.length--,n._strip()}s.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;e[n++]=255&o,n<e.length&&(e[n++]=o>>8&255),n<e.length&&(e[n++]=o>>16&255),6===s?(n<e.length&&(e[n++]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;e[n--]=255&o,n>=0&&(e[n--]=o>>8&255),n>=0&&(e[n--]=o>>16&255),6===s?(n>=0&&(e[n--]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},s.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(t=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<n.length;o++)s=(t=(0|n.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,n){var r,i,s,o=e.words,a=t.words,l=n.words,c=0,u=0|o[0],d=8191&u,h=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,m=0|o[2],y=8191&m,v=m>>>13,b=0|o[3],w=8191&b,k=b>>>13,_=0|o[4],x=8191&_,S=_>>>13,E=0|o[5],A=8191&E,I=E>>>13,T=0|o[6],C=8191&T,P=T>>>13,j=0|o[7],N=8191&j,B=j>>>13,M=0|o[8],O=8191&M,R=M>>>13,L=0|o[9],z=8191&L,U=L>>>13,D=0|a[0],$=8191&D,W=D>>>13,F=0|a[1],q=8191&F,H=F>>>13,K=0|a[2],V=8191&K,J=K>>>13,G=0|a[3],Y=8191&G,Z=G>>>13,Q=0|a[4],X=8191&Q,ee=Q>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],le=8191&ae,ce=ae>>>13,ue=0|a[8],de=8191&ue,he=ue>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(c+(r=Math.imul(d,$))|0)+((8191&(i=(i=Math.imul(d,W))+Math.imul(h,$)|0))<<13)|0;c=((s=Math.imul(h,W))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(p,$),i=(i=Math.imul(p,W))+Math.imul(g,$)|0,s=Math.imul(g,W);var ye=(c+(r=r+Math.imul(d,q)|0)|0)+((8191&(i=(i=i+Math.imul(d,H)|0)+Math.imul(h,q)|0))<<13)|0;c=((s=s+Math.imul(h,H)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,$),i=(i=Math.imul(y,W))+Math.imul(v,$)|0,s=Math.imul(v,W),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(g,q)|0,s=s+Math.imul(g,H)|0;var ve=(c+(r=r+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,V)|0))<<13)|0;c=((s=s+Math.imul(h,J)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(w,$),i=(i=Math.imul(w,W))+Math.imul(k,$)|0,s=Math.imul(k,W),r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,q)|0,s=s+Math.imul(v,H)|0,r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,J)|0;var be=(c+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(h,Y)|0))<<13)|0;c=((s=s+Math.imul(h,Z)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(x,$),i=(i=Math.imul(x,W))+Math.imul(S,$)|0,s=Math.imul(S,W),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,H)|0,r=r+Math.imul(y,V)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,V)|0,s=s+Math.imul(v,J)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,Y)|0,s=s+Math.imul(g,Z)|0;var we=(c+(r=r+Math.imul(d,X)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,X)|0))<<13)|0;c=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(A,$),i=(i=Math.imul(A,W))+Math.imul(I,$)|0,s=Math.imul(I,W),r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,H)|0,r=r+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,J)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,Y)|0,s=s+Math.imul(v,Z)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,X)|0,s=s+Math.imul(g,ee)|0;var ke=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;c=((s=s+Math.imul(h,re)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(C,$),i=(i=Math.imul(C,W))+Math.imul(P,$)|0,s=Math.imul(P,W),r=r+Math.imul(A,q)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,H)|0,r=r+Math.imul(x,V)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,J)|0,r=r+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(k,Y)|0,s=s+Math.imul(k,Z)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,s=s+Math.imul(g,re)|0;var _e=(c+(r=r+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,oe)|0)+Math.imul(h,se)|0))<<13)|0;c=((s=s+Math.imul(h,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(N,$),i=(i=Math.imul(N,W))+Math.imul(B,$)|0,s=Math.imul(B,W),r=r+Math.imul(C,q)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(P,q)|0,s=s+Math.imul(P,H)|0,r=r+Math.imul(A,V)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,J)|0,r=r+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(S,Y)|0,s=s+Math.imul(S,Z)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(v,ne)|0,s=s+Math.imul(v,re)|0,r=r+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0;var xe=(c+(r=r+Math.imul(d,le)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(h,le)|0))<<13)|0;c=((s=s+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(O,$),i=(i=Math.imul(O,W))+Math.imul(R,$)|0,s=Math.imul(R,W),r=r+Math.imul(N,q)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,H)|0,r=r+Math.imul(C,V)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(P,V)|0,s=s+Math.imul(P,J)|0,r=r+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(I,Y)|0,s=s+Math.imul(I,Z)|0,r=r+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(k,ne)|0,s=s+Math.imul(k,re)|0,r=r+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(v,se)|0,s=s+Math.imul(v,oe)|0,r=r+Math.imul(p,le)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(g,le)|0,s=s+Math.imul(g,ce)|0;var Se=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;c=((s=s+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(z,$),i=(i=Math.imul(z,W))+Math.imul(U,$)|0,s=Math.imul(U,W),r=r+Math.imul(O,q)|0,i=(i=i+Math.imul(O,H)|0)+Math.imul(R,q)|0,s=s+Math.imul(R,H)|0,r=r+Math.imul(N,V)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,J)|0,r=r+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(P,Y)|0,s=s+Math.imul(P,Z)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,ee)|0,r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(S,ne)|0,s=s+Math.imul(S,re)|0,r=r+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(k,se)|0,s=s+Math.imul(k,oe)|0,r=r+Math.imul(y,le)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(v,le)|0,s=s+Math.imul(v,ce)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,de)|0,s=s+Math.imul(g,he)|0;var Ee=(c+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ge)|0)+Math.imul(h,pe)|0))<<13)|0;c=((s=s+Math.imul(h,ge)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(z,q),i=(i=Math.imul(z,H))+Math.imul(U,q)|0,s=Math.imul(U,H),r=r+Math.imul(O,V)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,J)|0,r=r+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(B,Y)|0,s=s+Math.imul(B,Z)|0,r=r+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(I,ne)|0,s=s+Math.imul(I,re)|0,r=r+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,oe)|0,r=r+Math.imul(w,le)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(k,le)|0,s=s+Math.imul(k,ce)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(v,de)|0,s=s+Math.imul(v,he)|0;var Ae=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;c=((s=s+Math.imul(g,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(z,V),i=(i=Math.imul(z,J))+Math.imul(U,V)|0,s=Math.imul(U,J),r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(R,Y)|0,s=s+Math.imul(R,Z)|0,r=r+Math.imul(N,X)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(P,ne)|0,s=s+Math.imul(P,re)|0,r=r+Math.imul(A,se)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,oe)|0,r=r+Math.imul(x,le)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(S,le)|0,s=s+Math.imul(S,ce)|0,r=r+Math.imul(w,de)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(k,de)|0,s=s+Math.imul(k,he)|0;var Ie=(c+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(v,pe)|0))<<13)|0;c=((s=s+Math.imul(v,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(z,Y),i=(i=Math.imul(z,Z))+Math.imul(U,Y)|0,s=Math.imul(U,Z),r=r+Math.imul(O,X)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,r=r+Math.imul(N,ne)|0,i=(i=i+Math.imul(N,re)|0)+Math.imul(B,ne)|0,s=s+Math.imul(B,re)|0,r=r+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(P,se)|0,s=s+Math.imul(P,oe)|0,r=r+Math.imul(A,le)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(I,le)|0,s=s+Math.imul(I,ce)|0,r=r+Math.imul(x,de)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(S,de)|0,s=s+Math.imul(S,he)|0;var Te=(c+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ge)|0)+Math.imul(k,pe)|0))<<13)|0;c=((s=s+Math.imul(k,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(z,X),i=(i=Math.imul(z,ee))+Math.imul(U,X)|0,s=Math.imul(U,ee),r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(R,ne)|0,s=s+Math.imul(R,re)|0,r=r+Math.imul(N,se)|0,i=(i=i+Math.imul(N,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,r=r+Math.imul(C,le)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(P,le)|0,s=s+Math.imul(P,ce)|0,r=r+Math.imul(A,de)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(I,de)|0,s=s+Math.imul(I,he)|0;var Ce=(c+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ge)|0)+Math.imul(S,pe)|0))<<13)|0;c=((s=s+Math.imul(S,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(z,ne),i=(i=Math.imul(z,re))+Math.imul(U,ne)|0,s=Math.imul(U,re),r=r+Math.imul(O,se)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,r=r+Math.imul(N,le)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(B,le)|0,s=s+Math.imul(B,ce)|0,r=r+Math.imul(C,de)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(P,de)|0,s=s+Math.imul(P,he)|0;var Pe=(c+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ge)|0)+Math.imul(I,pe)|0))<<13)|0;c=((s=s+Math.imul(I,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(z,se),i=(i=Math.imul(z,oe))+Math.imul(U,se)|0,s=Math.imul(U,oe),r=r+Math.imul(O,le)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(R,le)|0,s=s+Math.imul(R,ce)|0,r=r+Math.imul(N,de)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(B,de)|0,s=s+Math.imul(B,he)|0;var je=(c+(r=r+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ge)|0)+Math.imul(P,pe)|0))<<13)|0;c=((s=s+Math.imul(P,ge)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(z,le),i=(i=Math.imul(z,ce))+Math.imul(U,le)|0,s=Math.imul(U,ce),r=r+Math.imul(O,de)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(R,de)|0,s=s+Math.imul(R,he)|0;var Ne=(c+(r=r+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ge)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(z,de),i=(i=Math.imul(z,he))+Math.imul(U,de)|0,s=Math.imul(U,he);var Be=(c+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,ge)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Me=(c+(r=Math.imul(z,pe))|0)+((8191&(i=(i=Math.imul(z,ge))+Math.imul(U,pe)|0))<<13)|0;return c=((s=Math.imul(U,ge))+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,l[0]=me,l[1]=ye,l[2]=ve,l[3]=be,l[4]=we,l[5]=ke,l[6]=_e,l[7]=xe,l[8]=Se,l[9]=Ee,l[10]=Ae,l[11]=Ie,l[12]=Te,l[13]=Ce,l[14]=Pe,l[15]=je,l[16]=Ne,l[17]=Be,l[18]=Me,0!==c&&(l[19]=c,n.length++),n};function y(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,l=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=l;c++){var u=s-c,d=(0|e.words[u])*(0|t.words[c]),h=67108863&d;a=67108863&(h=h+a|0),i+=(o=(o=o+(d/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function v(e,t,n){return y(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(m=g),s.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?g(this,e,t):n<1024?y(this,e,t):v(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=s.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,i,s){for(var o=0;o<s;o++)r[o]=t[e[o]],i[o]=n[e[o]]},b.prototype.transform=function(e,t,n,r,i,s){this.permute(s,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,l=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),u=0;u<i;u+=a)for(var d=l,h=c,f=0;f<o;f++){var p=n[u+f],g=r[u+f],m=n[u+f+o],y=r[u+f+o],v=d*m-h*y;y=d*y+h*m,m=v,n[u+f]=p+m,r[u+f]=g+y,n[u+f+o]=p-m,r[u+f+o]=g-y,f!==a&&(v=l*d-c*h,h=l*h+c*d,d=v)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===s),r(0===(-8192&s))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),l=new Array(r),c=new Array(r),u=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,c,r),this.transform(o,s,a,l,r,i),this.transform(c,s,u,d,r,i);for(var f=0;f<r;f++){var p=a[f]*u[f]-l[f]*d[f];l[f]=a[f]*d[f]+l[f]*u[f],a[f]=p}return this.conjugate(a,l,r),this.transform(a,l,h,s,r,i),this.conjugate(h,s,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),v(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,l=(0|this.words[t])-a<<n;this.words[t]=l|o,o=a>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,l=n;if(i-=o,i=Math.max(0,i),l){for(var c=0;c<o;c++)l.words[c]=this.words[c];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=i);c--){var d=0|this.words[c];this.words[c]=u<<26-s|d>>>s,u=d&a}return l&&0!==u&&(l.words[l.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,n){var i,s,o=e.length+n;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var l=(0|e.words[i])*t;a=((s-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,l=r.length-i.length;if("mod"!==t){(a=new s(null)).length=l+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var u=r.clone()._ishlnsubmul(i,1,l);0===u.negative&&(r=u,a&&(a.words[l]=1));for(var d=l-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/o|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/e|0,n=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),l=new s(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var u=n.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(u),o.isub(d)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(u),l.isub(d)),a.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),o.isub(l)):(n.isub(t),a.isub(i),l.isub(o))}return{a:a,b:l,gcd:n.iushln(c)}},s.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;0===(t.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var d=0,h=1;0===(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a)):(n.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var s=t;t=n,n=s}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new A(e)},s.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function k(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},k.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},k.prototype.split=function(e,t){e.iushrn(this.n,0,t)},k.prototype.imulK=function(e){return e.imul(this.k)},i(_,k),_.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,k),i(S,k),i(E,k),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new x;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return w[e]=t,t},A.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},A.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new s(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),l=a.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,c).cmp(l);)u.redIAdd(l);for(var d=this.pow(u,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var g=f,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(d,new s(1).iushln(p-m-1));h=h.redMul(y),d=y.redSqr(),f=f.redMul(d),p=m}return h},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],o=0,a=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],u=l-1;u>=0;u--){var d=c>>u&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==o?(o<<=1,o|=d,(4===++a||0===r&&0===u)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}l=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new I(e)},i(I,A),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(286));class s extends i.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="undefined"===typeof r?"offset":`${r}.offset`,s="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},382:(e,t,n)=>{"use strict";const r=n(445),i=n(900),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Y(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(i)return r?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let s,o=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let r=-1;for(s=n;s<a;s++)if(c(e,s)===c(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===l)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){let n=!0;for(let r=0;r<l;r++)if(c(e,s+r)!==c(t,r)){n=!1;break}if(n)return s}return-1}function w(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=t.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if(Y(r))return o;e[n+o]=r}return o}function k(e,t,n,r){return J(K(t,e.length-n),e,n,r)}function _(e,t,n,r){return J(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return J(V(t),e,n,r)}function S(e,t,n,r){return J(function(e,t){let n,r,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=n){let n,r,a,l;switch(o){case 1:t<128&&(s=t);break;case 2:n=e[i+1],128===(192&n)&&(l=(31&t)<<6|63&n,l>127&&(s=l));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(r,i),u=e.slice(t,n);for(let l=0;l<a;++l)if(c[l]!==u[l]){s=c[l],o=u[l];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let s=t;s<n;++s)i+=Z[e[s]];return i}function j(e,t,n){const r=e.slice(t,n);let i="";for(let s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,i,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r,i){W(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function O(e,t,n,r,i){W(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function R(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,s){return t=+t,n>>>=0,s||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,s){return t=+t,n>>>=0,s||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Q((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Q((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=t,i=1,s=this[e+--r];for(;r>0&&(i*=256);)s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Q((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Q((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Q((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Q((function(e){return O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}let i=0,s=1,o=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}let i=n-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Q((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Q((function(e){return O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const s=l.isBuffer(e)?e:l.from(e,r),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%o]}return this};const U={};function D(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function W(e,t,n,r,i,s){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){F(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,s)}function F(e,t){if("number"!==typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw F(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=$(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=$(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function V(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function J(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Q(e){return"undefined"===typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},445:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=a(e),o=s[0],l=s[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),u=0,d=l>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=16383,a=0,c=r-i;a<c;a+=o)s.push(l(e,a,a+o>c?c:a+o));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,s,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},462:(e,t,n)=>{var r=n(281);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},493:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},536:function(e,t,n){var r;e=n.nmd(e),function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,f=1/0,p=9007199254740991,g=NaN,m=4294967295,y=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],v="[object Arguments]",b="[object Array]",w="[object Boolean]",k="[object Date]",_="[object Error]",x="[object Function]",S="[object GeneratorFunction]",E="[object Map]",A="[object Number]",I="[object Object]",T="[object Promise]",C="[object RegExp]",P="[object Set]",j="[object String]",N="[object Symbol]",B="[object WeakMap]",M="[object ArrayBuffer]",O="[object DataView]",R="[object Float32Array]",L="[object Float64Array]",z="[object Int8Array]",U="[object Int16Array]",D="[object Int32Array]",$="[object Uint8Array]",W="[object Uint8ClampedArray]",F="[object Uint16Array]",q="[object Uint32Array]",H=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,Y=RegExp(J.source),Z=RegExp(G.source),Q=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,se=RegExp(ie.source),oe=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ae="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",je="['\u2019]",Ne="["+Se+"]",Be="["+Pe+"]",Me="["+Ee+"]",Oe="\\d+",Re="["+Ae+"]",Le="["+Ie+"]",ze="[^"+Se+Pe+Oe+Ae+Ie+Te+"]",Ue="\\ud83c[\\udffb-\\udfff]",De="[^"+Se+"]",$e="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Te+"]",qe="\\u200d",He="(?:"+Le+"|"+ze+")",Ke="(?:"+Fe+"|"+ze+")",Ve="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Je="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Me+"|"+Ue+")"+"?",Ye="["+Ce+"]?",Ze=Ye+Ge+("(?:"+qe+"(?:"+[De,$e,We].join("|")+")"+Ye+Ge+")*"),Qe="(?:"+[Re,$e,We].join("|")+")"+Ze,Xe="(?:"+[De+Me+"?",Me,$e,We,Ne].join("|")+")",et=RegExp(je,"g"),tt=RegExp(Me,"g"),nt=RegExp(Ue+"(?="+Ue+")|"+Xe+Ze,"g"),rt=RegExp([Fe+"?"+Le+"+"+Ve+"(?="+[Be,Fe,"$"].join("|")+")",Ke+"+"+Je+"(?="+[Be,Fe+He,"$"].join("|")+")",Fe+"?"+He+"+"+Ve,Fe+"+"+Je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Qe].join("|"),"g"),it=RegExp("["+qe+Se+Ee+Ce+"]"),st=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[R]=lt[L]=lt[z]=lt[U]=lt[D]=lt[$]=lt[W]=lt[F]=lt[q]=!0,lt[v]=lt[b]=lt[M]=lt[w]=lt[O]=lt[k]=lt[_]=lt[x]=lt[E]=lt[A]=lt[I]=lt[C]=lt[P]=lt[j]=lt[B]=!1;var ct={};ct[v]=ct[b]=ct[M]=ct[O]=ct[w]=ct[k]=ct[R]=ct[L]=ct[z]=ct[U]=ct[D]=ct[E]=ct[A]=ct[I]=ct[C]=ct[P]=ct[j]=ct[N]=ct[$]=ct[W]=ct[F]=ct[q]=!0,ct[_]=ct[x]=ct[B]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=ft||pt||Function("return this")(),mt=t&&!t.nodeType&&t,yt=mt&&e&&!e.nodeType&&e,vt=yt&&yt.exports===mt,bt=vt&&ft.process,wt=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),kt=wt&&wt.isArrayBuffer,_t=wt&&wt.isDate,xt=wt&&wt.isMap,St=wt&&wt.isRegExp,Et=wt&&wt.isSet,At=wt&&wt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function Bt(e,t){return!!(null==e?0:e.length)&&Ft(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Rt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function zt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Dt=Vt("length");function $t(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Wt(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Ft(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Wt(e,Ht,n)}function qt(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function Ht(e){return e!==e}function Kt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:g}function Vt(e){return function(t){return null==t?i:t[e]}}function Jt(e){return function(t){return null==e?i:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function Yt(e,t){for(var n,r=-1,s=e.length;++r<s;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function Xt(e){return function(t){return e(t)}}function en(e,t){return Ot(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ft(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ft(t,e[n],0)>-1;);return n}var sn=Jt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function ln(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n];o!==t&&o!==a||(e[n]=a,s[i++]=n)}return s}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Dt(e)}function gn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var yn=Jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n=(t=null==t?gt:vn.defaults(gt.Object(),t,vn.pick(gt,ot))).Array,r=t.Date,ae=t.Error,Se=t.Function,Ee=t.Math,Ae=t.Object,Ie=t.RegExp,Te=t.String,Ce=t.TypeError,Pe=n.prototype,je=Se.prototype,Ne=Ae.prototype,Be=t["__core-js_shared__"],Me=je.toString,Oe=Ne.hasOwnProperty,Re=0,Le=function(){var e=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ze=Ne.toString,Ue=Me.call(Ae),De=gt._,$e=Ie("^"+Me.call(Oe).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=vt?t.Buffer:i,Fe=t.Symbol,qe=t.Uint8Array,He=We?We.allocUnsafe:i,Ke=un(Ae.getPrototypeOf,Ae),Ve=Ae.create,Je=Ne.propertyIsEnumerable,Ge=Pe.splice,Ye=Fe?Fe.isConcatSpreadable:i,Ze=Fe?Fe.iterator:i,Qe=Fe?Fe.toStringTag:i,Xe=function(){try{var e=ds(Ae,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,it=r&&r.now!==gt.Date.now&&r.now,ut=t.setTimeout!==gt.setTimeout&&t.setTimeout,ft=Ee.ceil,pt=Ee.floor,mt=Ae.getOwnPropertySymbols,yt=We?We.isBuffer:i,bt=t.isFinite,wt=Pe.join,Dt=un(Ae.keys,Ae),Jt=Ee.max,bn=Ee.min,wn=r.now,kn=t.parseInt,_n=Ee.random,xn=Pe.reverse,Sn=ds(t,"DataView"),En=ds(t,"Map"),An=ds(t,"Promise"),In=ds(t,"Set"),Tn=ds(t,"WeakMap"),Cn=ds(Ae,"create"),Pn=Tn&&new Tn,jn={},Nn=Ls(Sn),Bn=Ls(En),Mn=Ls(An),On=Ls(In),Rn=Ls(Tn),Ln=Fe?Fe.prototype:i,zn=Ln?Ln.valueOf:i,Un=Ln?Ln.toString:i;function Dn(e){if(ta(e)&&!qo(e)&&!(e instanceof qn)){if(e instanceof Fn)return e;if(Oe.call(e,"__wrapped__"))return zs(e)}return new Fn(e)}var $n=function(){function e(){}return function(t){if(!ea(t))return{};if(Ve)return Ve(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Wn(){}function Fn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Vn;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new Kn(e);this.size=t.size}function Yn(e,t){var n=qo(e),r=!n&&Fo(e),i=!n&&!r&&Jo(e),s=!n&&!r&&!i&&ca(e),o=n||r||i||s,a=o?Zt(e.length,Te):[],l=a.length;for(var c in e)!t&&!Oe.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vs(c,l))||a.push(c);return a}function Zn(e){var t=e.length;return t?e[Jr(0,t-1)]:i}function Qn(e,t){return Ms(Ci(e),ar(t,0,e.length))}function Xn(e){return Ms(Ci(e))}function er(e,t,n){(n!==i&&!Do(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function tr(e,t,n){var r=e[t];Oe.call(e,t)&&Do(r,n)&&(n!==i||t in e)||sr(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Do(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,i,s){t(r,e,n(e),s)})),r}function ir(e,t){return e&&Pi(t,ja(t),e)}function sr(e,t,n){"__proto__"==t&&Xe?Xe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,s=t.length,o=n(s),a=null==e;++r<s;)o[r]=a?i:Aa(e,t[r]);return o}function ar(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,s,o){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=s?n(e,r,s,o):n(e)),a!==i)return a;if(!ea(e))return e;var d=qo(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Oe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ci(e,a)}else{var h=ps(e),f=h==x||h==S;if(Jo(e))return xi(e,l);if(h==I||h==v||f&&!s){if(a=c||f?{}:ms(e),!l)return c?function(e,t){return Pi(e,fs(e),t)}(e,function(e,t){return e&&Pi(t,Na(t),e)}(a,e)):function(e,t){return Pi(e,hs(e),t)}(e,ir(a,e))}else{if(!ct[h])return s?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case M:return Si(e);case w:case k:return new r(+e);case O:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case L:case z:case U:case D:case $:case W:case F:case q:return Ei(e,n);case E:return new r;case A:case j:return new r(e);case C:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new r;case N:return i=e,zn?Ae(zn.call(i)):{}}var i}(e,h,l)}}o||(o=new Gn);var p=o.get(e);if(p)return p;o.set(e,a),oa(e)?e.forEach((function(r){a.add(lr(r,t,n,r,e,o))})):na(e)&&e.forEach((function(r,i){a.set(i,lr(r,t,n,i,e,o))}));var g=d?i:(u?c?is:rs:c?Na:ja)(e);return Ct(g||e,(function(r,i){g&&(r=e[i=r]),tr(a,i,lr(r,t,n,i,e,o))})),a}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ae(e);r--;){var s=n[r],o=t[s],a=e[s];if(a===i&&!(s in e)||!o(a))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Ce(s);return Ps((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var i=-1,s=Bt,o=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Ot(t,Xt(n))),r?(s=Mt,o=!1):t.length>=200&&(s=tn,o=!1,t=new Jn(t));e:for(;++i<a;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,o&&d===d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else s(t,d,r)||l.push(u)}return l}Dn.templateSettings={escape:Q,evaluate:X,interpolate:ee,variable:"",imports:{_:Dn}},Dn.prototype=Wn.prototype,Dn.prototype.constructor=Dn,Fn.prototype=$n(Wn.prototype),Fn.prototype.constructor=Fn,qn.prototype=$n(Wn.prototype),qn.prototype.constructor=qn,Hn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===o?i:n}return Oe.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==i:Oe.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===i?o:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return nr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(En||Kn),string:new Hn}},Vn.prototype.delete=function(e){var t=cs(this,e).delete(e);return this.size-=t?1:0,t},Vn.prototype.get=function(e){return cs(this,e).get(e)},Vn.prototype.has=function(e){return cs(this,e).has(e)},Vn.prototype.set=function(e,t){var n=cs(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,o),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(e,t),this.size=n.size,this};var hr=Bi(wr),fr=Bi(kr,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,s=e.length;++r<s;){var o=e[r],a=t(o);if(null!=a&&(l===i?a===a&&!la(a):n(a,l)))var l=a,c=o}return c}function mr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=ys),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?yr(a,t-1,n,r,i):Rt(i,a):r||(i[i.length]=a)}return i}var vr=Mi(),br=Mi(!0);function wr(e,t){return e&&vr(e,t,ja)}function kr(e,t){return e&&br(e,t,ja)}function _r(e,t){return Nt(t,(function(t){return Zo(e[t])}))}function xr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Rs(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return qo(e)?r:Rt(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Ae(e)?function(e){var t=Oe.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(o){}var s=ze.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return s}(e):function(e){return ze.call(e)}(e)}function Ar(e,t){return e>t}function Ir(e,t){return null!=e&&Oe.call(e,t)}function Tr(e,t){return null!=e&&t in Ae(e)}function Cr(e,t,r){for(var s=r?Mt:Bt,o=e[0].length,a=e.length,l=a,c=n(a),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Ot(h,Xt(t))),u=bn(h.length,u),c[l]=!r&&(t||o>=120&&h.length>=120)?new Jn(l&&h):i}h=e[0];var f=-1,p=c[0];e:for(;++f<o&&d.length<u;){var g=h[f],m=t?t(g):g;if(g=r||0!==g?g:0,!(p?tn(p,m):s(d,m,r))){for(l=a;--l;){var y=c[l];if(!(y?tn(y,m):s(e[l],m,r)))continue e}p&&p.push(m),d.push(g)}}return d}function Pr(e,t,n){var r=null==(e=Is(e,t=bi(t,e)))?e:e[Rs(Gs(t))];return null==r?i:It(r,e,n)}function jr(e){return ta(e)&&Er(e)==v}function Nr(e,t,n,r,s){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,s,o){var a=qo(e),l=qo(t),c=a?b:ps(e),u=l?b:ps(t),d=(c=c==v?I:c)==I,h=(u=u==v?I:u)==I,f=c==u;if(f&&Jo(e)){if(!Jo(t))return!1;a=!0,d=!1}if(f&&!d)return o||(o=new Gn),a||ca(e)?ts(e,t,n,r,s,o):function(e,t,n,r,i,s,o){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!s(new qe(e),new qe(t)));case w:case k:case A:return Do(+e,+t);case _:return e.name==t.name&&e.message==t.message;case C:case j:return e==t+"";case E:var a=cn;case P:var l=1&r;if(a||(a=hn),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=ts(a(e),a(t),r,i,s,o);return o.delete(e),u;case N:if(zn)return zn.call(e)==zn.call(t)}return!1}(e,t,c,n,r,s,o);if(!(1&n)){var p=d&&Oe.call(e,"__wrapped__"),g=h&&Oe.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return o||(o=new Gn),s(m,y,n,r,o)}}if(!f)return!1;return o||(o=new Gn),function(e,t,n,r,s,o){var a=1&n,l=rs(e),c=l.length,u=rs(t),d=u.length;if(c!=d&&!a)return!1;var h=c;for(;h--;){var f=l[h];if(!(a?f in t:Oe.call(t,f)))return!1}var p=o.get(e),g=o.get(t);if(p&&g)return p==t&&g==e;var m=!0;o.set(e,t),o.set(t,e);var y=a;for(;++h<c;){var v=e[f=l[h]],b=t[f];if(r)var w=a?r(b,v,f,t,e,o):r(v,b,f,e,t,o);if(!(w===i?v===b||s(v,b,n,r,o):w)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var k=e.constructor,_=t.constructor;k==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof _&&_ instanceof _||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,s,o)}(e,t,n,r,Nr,s))}function Br(e,t,n,r){var s=n.length,o=s,a=!r;if(null==e)return!o;for(e=Ae(e);s--;){var l=n[s];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){var c=(l=n[s])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===i&&!(c in e))return!1}else{var h=new Gn;if(r)var f=r(u,d,c,e,t,h);if(!(f===i?Nr(d,u,3,r,h):f))return!1}}return!0}function Mr(e){return!(!ea(e)||(t=e,Le&&Le in t))&&(Zo(e)?$e:ve).test(Ls(e));var t}function Or(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?qo(e)?$r(e[0],e[1]):Dr(e):hl(e)}function Rr(e){if(!xs(e))return Dt(e);var t=[];for(var n in Ae(e))Oe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=xs(e),n=[];for(var r in e)("constructor"!=r||!t&&Oe.call(e,r))&&n.push(r);return n}function zr(e,t){return e<t}function Ur(e,t){var r=-1,i=Ko(e)?n(e.length):[];return hr(e,(function(e,n,s){i[++r]=t(e,n,s)})),i}function Dr(e){var t=us(e);return 1==t.length&&t[0][2]?Es(t[0][0],t[0][1]):function(n){return n===e||Br(n,e,t)}}function $r(e,t){return ws(e)&&Ss(t)?Es(Rs(e),t):function(n){var r=Aa(n,e);return r===i&&r===t?Ia(n,e):Nr(t,r,3)}}function Wr(e,t,n,r,s){e!==t&&vr(t,(function(o,a){if(s||(s=new Gn),ea(o))!function(e,t,n,r,s,o,a){var l=Ts(e,n),c=Ts(t,n),u=a.get(c);if(u)return void er(e,n,u);var d=o?o(l,c,n+"",e,t,a):i,h=d===i;if(h){var f=qo(c),p=!f&&Jo(c),g=!f&&!p&&ca(c);d=c,f||p||g?qo(l)?d=l:Vo(l)?d=Ci(l):p?(h=!1,d=xi(c,!0)):g?(h=!1,d=Ei(c,!0)):d=[]:ia(c)||Fo(c)?(d=l,Fo(l)?d=ya(l):ea(l)&&!Zo(l)||(d=ms(c))):h=!1}h&&(a.set(c,d),s(d,c,r,o,a),a.delete(c));er(e,n,d)}(e,t,a,n,Wr,r,s);else{var l=r?r(Ts(e,a),o,a+"",e,t,s):i;l===i&&(l=o),er(e,a,l)}}),Na)}function Fr(e,t){var n=e.length;if(n)return vs(t+=t<0?n:0,n)?e[t]:i}function qr(e,t,n){t=t.length?Ot(t,(function(e){return qo(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Ot(t,Xt(ls()));var i=Ur(e,(function(e,n,i){var s=Ot(t,(function(t){return t(e)}));return{criteria:s,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;for(;++r<o;){var l=Ai(i[r],s[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=xr(e,o);n(a,o)&&Xr(s,bi(o,e),a)}return s}function Kr(e,t,n,r){var i=r?qt:Ft,s=-1,o=t.length,a=e;for(e===t&&(t=Ci(t)),n&&(a=Ot(e,Xt(n)));++s<o;)for(var l=0,c=t[s],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Ge.call(a,l,1),Ge.call(e,l,1);return e}function Vr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;vs(i)?Ge.call(e,i,1):di(e,i)}}return e}function Jr(e,t){return e+pt(_n()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return js(As(e,t,rl),e+"")}function Zr(e){return Zn(Da(e))}function Qr(e,t){var n=Da(e);return Ms(n,ar(t,0,n.length))}function Xr(e,t,n,r){if(!ea(e))return e;for(var s=-1,o=(t=bi(t,e)).length,a=o-1,l=e;null!=l&&++s<o;){var c=Rs(t[s]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(s!=a){var d=l[c];(u=r?r(d,c,l):i)===i&&(u=ea(d)?d:vs(t[s+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var ei=Pn?function(e,t){return Pn.set(e,t),e}:rl,ti=Xe?function(e,t){return Xe(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ni(e){return Ms(Da(e))}function ri(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=n(s);++i<s;)o[i]=e[i+t];return o}function ii(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!la(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return oi(e,t,rl,n)}function oi(e,t,n,r){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!==t,l=null===t,c=la(t),u=t===i;s<o;){var d=pt((s+o)/2),h=n(e[d]),f=h!==i,p=null===h,g=h===h,m=la(h);if(a)var y=r||g;else y=u?g&&(r||f):l?g&&f&&(r||!p):c?g&&f&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);y?s=d+1:o=d}return bn(o,4294967294)}function ai(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Do(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function li(e){return"number"==typeof e?e:la(e)?g:+e}function ci(e){if("string"==typeof e)return e;if(qo(e))return Ot(e,ci)+"";if(la(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=Bt,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=Mt;else if(s>=200){var c=t?null:Gi(e);if(c)return hn(c);o=!1,i=tn,l=new Jn}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function di(e,t){return null==(e=Is(e,t=bi(t,e)))||delete e[Rs(Gs(t))]}function hi(e,t,n,r){return Xr(e,t,n(xr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?ri(e,r?0:s,r?s+1:i):ri(e,r?s+1:0,r?i:s)}function pi(e,t){var n=e;return n instanceof qn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var s=-1,o=n(i);++s<i;)for(var a=e[s],l=-1;++l<i;)l!=s&&(o[s]=dr(o[s]||a,e[l],t,r));return ui(yr(o,1),t,r)}function mi(e,t,n){for(var r=-1,s=e.length,o=t.length,a={};++r<s;){var l=r<o?t[r]:i;n(a,e[r],l)}return a}function yi(e){return Vo(e)?e:[]}function vi(e){return"function"==typeof e?e:rl}function bi(e,t){return qo(e)?e:ws(e,t)?[e]:Os(va(e))}var wi=Yr;function ki(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var _i=nt||function(e){return gt.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Ei(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ai(e,t){if(e!==t){var n=e!==i,r=null===e,s=e===e,o=la(e),a=t!==i,l=null===t,c=t===t,u=la(t);if(!l&&!u&&!o&&e>t||o&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!s)return 1;if(!r&&!o&&!u&&e<t||u&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!c)return-1}return 0}function Ii(e,t,r,i){for(var s=-1,o=e.length,a=r.length,l=-1,c=t.length,u=Jt(o-a,0),d=n(c+u),h=!i;++l<c;)d[l]=t[l];for(;++s<a;)(h||s<o)&&(d[r[s]]=e[s]);for(;u--;)d[l++]=e[s++];return d}function Ti(e,t,r,i){for(var s=-1,o=e.length,a=-1,l=r.length,c=-1,u=t.length,d=Jt(o-l,0),h=n(d+u),f=!i;++s<d;)h[s]=e[s];for(var p=s;++c<u;)h[p+c]=t[c];for(;++a<l;)(f||s<o)&&(h[p+r[a]]=e[s++]);return h}function Ci(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Pi(e,t,n,r){var s=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var l=t[o],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),s?sr(n,l,c):tr(n,l,c)}return n}function ji(e,t){return function(n,r){var i=qo(n)?Tt:rr,s=t?t():{};return i(n,e,ls(r,2),s)}}function Ni(e){return Yr((function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(s--,o):i,a&&bs(n[0],n[1],a)&&(o=s<3?i:o,s=1),t=Ae(t);++r<s;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Bi(e,t){return function(n,r){if(null==n)return n;if(!Ko(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Ae(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Mi(e){return function(t,n,r){for(var i=-1,s=Ae(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}function Oi(e){return function(t){var n=ln(t=va(t))?gn(t):i,r=n?n[0]:t.charAt(0),s=n?ki(n,1).join(""):t.slice(1);return r[e]()+s}}function Ri(e){return function(t){return Lt(Za(Fa(t).replace(et,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=$n(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function zi(e){return function(t,n,r){var s=Ae(t);if(!Ko(t)){var o=ls(n,3);t=ja(t),n=function(e){return o(s[e],e,s)}}var a=e(t,n,r);return a>-1?s[o?t[a]:a]:i}}function Ui(e){return ns((function(t){var n=t.length,r=n,o=Fn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ce(s);if(o&&!l&&"wrapper"==os(a))var l=new Fn([],!0)}for(r=l?r:n;++r<n;){var c=os(a=t[r]),u="wrapper"==c?ss(a):i;l=u&&ks(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[os(u[0])].apply(l,u[3]):1==a.length&&ks(a)?l[c]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&qo(r))return l.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}}))}function Di(e,t,r,s,o,a,l,c,u,h){var f=t&d,p=1&t,g=2&t,m=24&t,y=512&t,v=g?i:Li(e);return function d(){for(var b=arguments.length,w=n(b),k=b;k--;)w[k]=arguments[k];if(m)var _=as(d),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,_);if(s&&(w=Ii(w,s,o,m)),a&&(w=Ti(w,a,l,m)),b-=x,m&&b<h){var S=dn(w,_);return Vi(e,t,Di,d.placeholder,r,w,S,c,u,h-b)}var E=p?r:this,A=g?E[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,r=bn(t.length,n),s=Ci(e);for(;r--;){var o=t[r];e[r]=vs(o,n)?s[o]:i}return e}(w,c):y&&b>1&&w.reverse(),f&&u<b&&(w.length=u),this&&this!==gt&&this instanceof d&&(A=v||Li(A)),A.apply(E,w)}}function $i(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function Wi(e,t){return function(n,r){var s;if(n===i&&r===i)return t;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),s=e(n,r)}return s}}function Fi(e){return ns((function(t){return t=Ot(t,Xt(ls())),Yr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function qi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Gr(t,e):t;var r=Gr(t,ft(e/pn(t)));return ln(t)?ki(gn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,s){return s&&"number"!=typeof s&&bs(t,r,s)&&(r=s=i),t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r,i){for(var s=-1,o=Jt(ft((t-e)/(r||1)),0),a=n(o);o--;)a[i?o:++s]=e,e+=r;return a}(t,r,s=s===i?t<r?1:-1:fa(s),e)}}function Ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ma(t),n=ma(n)),e(t,n)}}function Vi(e,t,n,r,s,o,a,l,d,h){var f=8&t;t|=f?c:u,4&(t&=~(f?u:c))||(t&=-4);var p=[e,t,s,f?o:i,f?a:i,f?i:o,f?i:a,l,d,h],g=n.apply(i,p);return ks(e)&&Cs(g,p),g.placeholder=r,Ns(g,e,t)}function Ji(e){var t=Ee[e];return function(e,n){if(e=ma(e),(n=null==n?0:bn(pa(n),292))&&bt(e)){var r=(va(e)+"e").split("e");return+((r=(va(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Gi=In&&1/hn(new In([,-0]))[1]==f?function(e){return new In(e)}:ll;function Yi(e){return function(t){var n=ps(t);return n==E?cn(t):n==P?fn(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,t,r,o,f,p,g,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Ce(s);var v=o?o.length:0;if(v||(t&=-97,o=f=i),g=g===i?g:Jt(pa(g),0),m=m===i?m:pa(m),v-=f?f.length:0,t&u){var b=o,w=f;o=f=i}var k=y?i:ss(e),_=[e,t,r,o,f,b,w,p,g,m];if(k&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,o=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ii(c,l,t[4]):l,e[4]=c?dn(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ti(c,l,t[6]):l,e[6]=c?dn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,k),e=_[0],t=_[1],r=_[2],o=_[3],f=_[4],!(m=_[9]=_[9]===i?y?0:e.length:Jt(_[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==l?function(e,t,r){var s=Li(e);return function o(){for(var a=arguments.length,l=n(a),c=a,u=as(o);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:dn(l,u);return(a-=d.length)<r?Vi(e,t,Di,o.placeholder,i,l,d,i,i,r-a):It(this&&this!==gt&&this instanceof o?s:e,this,l)}}(e,t,m):t!=c&&33!=t||f.length?Di.apply(i,_):function(e,t,r,i){var s=1&t,o=Li(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,d=n(u+l),h=this&&this!==gt&&this instanceof t?o:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++a];return It(h,s?r:this,d)}}(e,t,r,o);else var x=function(e,t,n){var r=1&t,i=Li(e);return function t(){return(this&&this!==gt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ns((k?ei:Cs)(x,_),e,t)}function Qi(e,t,n,r){return e===i||Do(e,Ne[n])&&!Oe.call(r,n)?t:e}function Xi(e,t,n,r,s,o){return ea(e)&&ea(t)&&(o.set(t,e),Wr(e,t,i,Xi,o),o.delete(t)),e}function es(e){return ia(e)?i:e}function ts(e,t,n,r,s,o){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=2&n?new Jn:i;for(o.set(e,t),o.set(t,e);++h<l;){var g=e[h],m=t[h];if(r)var y=a?r(m,g,h,t,e,o):r(g,m,h,e,t,o);if(y!==i){if(y)continue;f=!1;break}if(p){if(!Ut(t,(function(e,t){if(!tn(p,t)&&(g===e||s(g,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(g!==m&&!s(g,m,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function ns(e){return js(As(e,i,qs),e+"")}function rs(e){return Sr(e,ja,hs)}function is(e){return Sr(e,Na,fs)}var ss=Pn?function(e){return Pn.get(e)}:ll;function os(e){for(var t=e.name+"",n=jn[t],r=Oe.call(jn,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function as(e){return(Oe.call(Dn,"placeholder")?Dn:e).placeholder}function ls(){var e=Dn.iteratee||il;return e=e===il?Or:e,arguments.length?e(arguments[0],arguments[1]):e}function cs(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function us(e){for(var t=ja(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ss(i)]}return t}function ds(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var hs=mt?function(e){return null==e?[]:(e=Ae(e),Nt(mt(e),(function(t){return Je.call(e,t)})))}:gl,fs=mt?function(e){for(var t=[];e;)Rt(t,hs(e)),e=Ke(e);return t}:gl,ps=Er;function gs(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,s=!1;++r<i;){var o=Rs(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&Xo(i)&&vs(o,i)&&(qo(e)||Fo(e))}function ms(e){return"function"!=typeof e.constructor||xs(e)?{}:$n(Ke(e))}function ys(e){return qo(e)||Fo(e)||!!(Ye&&e&&e[Ye])}function vs(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function bs(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Ko(n)&&vs(t,n.length):"string"==r&&t in n)&&Do(n[t],e)}function ws(e,t){if(qo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!la(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ae(t))}function ks(e){var t=os(e),n=Dn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=ss(n);return!!r&&e===r[0]}(Sn&&ps(new Sn(new ArrayBuffer(1)))!=O||En&&ps(new En)!=E||An&&ps(An.resolve())!=T||In&&ps(new In)!=P||Tn&&ps(new Tn)!=B)&&(ps=function(e){var t=Er(e),n=t==I?e.constructor:i,r=n?Ls(n):"";if(r)switch(r){case Nn:return O;case Bn:return E;case Mn:return T;case On:return P;case Rn:return B}return t});var _s=Be?Zo:ml;function xs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Ss(e){return e===e&&!ea(e)}function Es(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ae(n)))}}function As(e,t,r){return t=Jt(t===i?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=Jt(i.length-t,0),a=n(o);++s<o;)a[s]=i[t+s];s=-1;for(var l=n(t+1);++s<t;)l[s]=i[s];return l[t]=r(a),It(e,this,l)}}function Is(e,t){return t.length<2?e:xr(e,ri(t,0,-1))}function Ts(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Cs=Bs(ei),Ps=ut||function(e,t){return gt.setTimeout(e,t)},js=Bs(ti);function Ns(e,t,n){var r=t+"";return js(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(y,(function(n){var r="_."+n[0];t&n[1]&&!Bt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Bs(e){var t=0,n=0;return function(){var r=wn(),s=16-(r-n);if(n=r,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ms(e,t){var n=-1,r=e.length,s=r-1;for(t=t===i?r:t;++n<t;){var o=Jr(n,s),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var Os=function(e){var t=Mo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Rs(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ls(e){if(null!=e){try{return Me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function zs(e){if(e instanceof qn)return e.clone();var t=new Fn(e.__wrapped__,e.__chain__);return t.__actions__=Ci(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Us=Yr((function(e,t){return Vo(e)?dr(e,yr(t,1,Vo,!0)):[]})),Ds=Yr((function(e,t){var n=Gs(t);return Vo(n)&&(n=i),Vo(e)?dr(e,yr(t,1,Vo,!0),ls(n,2)):[]})),$s=Yr((function(e,t){var n=Gs(t);return Vo(n)&&(n=i),Vo(e)?dr(e,yr(t,1,Vo,!0),i,n):[]}));function Ws(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Jt(r+i,0)),Wt(e,ls(t,3),i)}function Fs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r-1;return n!==i&&(s=pa(n),s=n<0?Jt(r+s,0):bn(s,r-1)),Wt(e,ls(t,3),s,!0)}function qs(e){return(null==e?0:e.length)?yr(e,1):[]}function Hs(e){return e&&e.length?e[0]:i}var Ks=Yr((function(e){var t=Ot(e,yi);return t.length&&t[0]===e[0]?Cr(t):[]})),Vs=Yr((function(e){var t=Gs(e),n=Ot(e,yi);return t===Gs(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Cr(n,ls(t,2)):[]})),Js=Yr((function(e){var t=Gs(e),n=Ot(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,i,t):[]}));function Gs(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ys=Yr(Zs);function Zs(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var Qs=ns((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Vr(e,Ot(t,(function(e){return vs(e,n)?+e:e})).sort(Ai)),r}));function Xs(e){return null==e?e:xn.call(e)}var eo=Yr((function(e){return ui(yr(e,1,Vo,!0))})),to=Yr((function(e){var t=Gs(e);return Vo(t)&&(t=i),ui(yr(e,1,Vo,!0),ls(t,2))})),no=Yr((function(e){var t=Gs(e);return t="function"==typeof t?t:i,ui(yr(e,1,Vo,!0),i,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Vo(e))return t=Jt(e.length,t),!0})),Zt(t,(function(t){return Ot(e,Vt(t))}))}function io(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Ot(n,(function(e){return It(t,i,e)}))}var so=Yr((function(e,t){return Vo(e)?dr(e,t):[]})),oo=Yr((function(e){return gi(Nt(e,Vo))})),ao=Yr((function(e){var t=Gs(e);return Vo(t)&&(t=i),gi(Nt(e,Vo),ls(t,2))})),lo=Yr((function(e){var t=Gs(e);return t="function"==typeof t?t:i,gi(Nt(e,Vo),i,t)})),co=Yr(ro);var uo=Yr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,io(e,n)}));function ho(e){var t=Dn(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var po=ns((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof qn&&vs(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fo,args:[s],thisArg:i}),new Fn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(s)}));var go=ji((function(e,t,n){Oe.call(e,n)?++e[n]:sr(e,n,1)}));var mo=zi(Ws),yo=zi(Fs);function vo(e,t){return(qo(e)?Ct:hr)(e,ls(t,3))}function bo(e,t){return(qo(e)?Pt:fr)(e,ls(t,3))}var wo=ji((function(e,t,n){Oe.call(e,n)?e[n].push(t):sr(e,n,[t])}));var ko=Yr((function(e,t,r){var i=-1,s="function"==typeof t,o=Ko(e)?n(e.length):[];return hr(e,(function(e){o[++i]=s?It(t,e,r):Pr(e,t,r)})),o})),_o=ji((function(e,t,n){sr(e,n,t)}));function xo(e,t){return(qo(e)?Ot:Ur)(e,ls(t,3))}var So=ji((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Eo=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bs(e,t[0],t[1])?t=[]:n>2&&bs(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,yr(t,1),[])})),Ao=it||function(){return gt.Date.now()};function Io(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Zi(e,d,i,i,i,i,t)}function To(e,t){var n;if("function"!=typeof t)throw new Ce(s);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Co=Yr((function(e,t,n){var r=1;if(n.length){var i=dn(n,as(Co));r|=c}return Zi(e,r,t,n,i)})),Po=Yr((function(e,t,n){var r=3;if(n.length){var i=dn(n,as(Po));r|=c}return Zi(t,r,e,n,i)}));function jo(e,t,n){var r,o,a,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ce(s);function g(t){var n=r,s=o;return r=o=i,d=t,l=e.apply(s,n)}function m(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=a}function y(){var e=Ao();if(m(e))return v(e);c=Ps(y,function(e){var n=t-(e-u);return f?bn(n,a-(e-d)):n}(e))}function v(e){return c=i,p&&r?g(e):(r=o=i,l)}function b(){var e=Ao(),n=m(e);if(r=arguments,o=this,u=e,n){if(c===i)return function(e){return d=e,c=Ps(y,t),h?g(e):l}(u);if(f)return _i(c),c=Ps(y,t),g(u)}return c===i&&(c=Ps(y,t)),l}return t=ma(t)||0,ea(n)&&(h=!!n.leading,a=(f="maxWait"in n)?Jt(ma(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&_i(c),d=0,r=u=o=c=i},b.flush=function(){return c===i?l:v(Ao())},b}var No=Yr((function(e,t){return ur(e,1,t)})),Bo=Yr((function(e,t,n){return ur(e,ma(t)||0,n)}));function Mo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(s);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Mo.Cache||Vn),n}function Oo(e){if("function"!=typeof e)throw new Ce(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Mo.Cache=Vn;var Ro=wi((function(e,t){var n=(t=1==t.length&&qo(t[0])?Ot(t[0],Xt(ls())):Ot(yr(t,1),Xt(ls()))).length;return Yr((function(r){for(var i=-1,s=bn(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return It(e,this,r)}))})),Lo=Yr((function(e,t){var n=dn(t,as(Lo));return Zi(e,c,i,t,n)})),zo=Yr((function(e,t){var n=dn(t,as(zo));return Zi(e,u,i,t,n)})),Uo=ns((function(e,t){return Zi(e,h,i,i,i,t)}));function Do(e,t){return e===t||e!==e&&t!==t}var $o=Ki(Ar),Wo=Ki((function(e,t){return e>=t})),Fo=jr(function(){return arguments}())?jr:function(e){return ta(e)&&Oe.call(e,"callee")&&!Je.call(e,"callee")},qo=n.isArray,Ho=kt?Xt(kt):function(e){return ta(e)&&Er(e)==M};function Ko(e){return null!=e&&Xo(e.length)&&!Zo(e)}function Vo(e){return ta(e)&&Ko(e)}var Jo=yt||ml,Go=_t?Xt(_t):function(e){return ta(e)&&Er(e)==k};function Yo(e){if(!ta(e))return!1;var t=Er(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function Zo(e){if(!ea(e))return!1;var t=Er(e);return t==x||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qo(e){return"number"==typeof e&&e==pa(e)}function Xo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=xt?Xt(xt):function(e){return ta(e)&&ps(e)==E};function ra(e){return"number"==typeof e||ta(e)&&Er(e)==A}function ia(e){if(!ta(e)||Er(e)!=I)return!1;var t=Ke(e);if(null===t)return!0;var n=Oe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Ue}var sa=St?Xt(St):function(e){return ta(e)&&Er(e)==C};var oa=Et?Xt(Et):function(e){return ta(e)&&ps(e)==P};function aa(e){return"string"==typeof e||!qo(e)&&ta(e)&&Er(e)==j}function la(e){return"symbol"==typeof e||ta(e)&&Er(e)==N}var ca=At?Xt(At):function(e){return ta(e)&&Xo(e.length)&&!!lt[Er(e)]};var ua=Ki(zr),da=Ki((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(Ko(e))return aa(e)?gn(e):Ci(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=ps(e);return(t==E?cn:t==P?hn:Da)(e)}function fa(e){return e?(e=ma(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pa(e){var t=fa(e),n=t%1;return t===t?n?t-n:t:0}function ga(e){return e?ar(pa(e),0,m):0}function ma(e){if("number"==typeof e)return e;if(la(e))return g;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ye.test(e);return n||be.test(e)?ht(e.slice(2),n?2:8):me.test(e)?g:+e}function ya(e){return Pi(e,Na(e))}function va(e){return null==e?"":ci(e)}var ba=Ni((function(e,t){if(xs(t)||Ko(t))Pi(t,ja(t),e);else for(var n in t)Oe.call(t,n)&&tr(e,n,t[n])})),wa=Ni((function(e,t){Pi(t,Na(t),e)})),ka=Ni((function(e,t,n,r){Pi(t,Na(t),e,r)})),_a=Ni((function(e,t,n,r){Pi(t,ja(t),e,r)})),xa=ns(or);var Sa=Yr((function(e,t){e=Ae(e);var n=-1,r=t.length,s=r>2?t[2]:i;for(s&&bs(t[0],t[1],s)&&(r=1);++n<r;)for(var o=t[n],a=Na(o),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===i||Do(d,Ne[u])&&!Oe.call(e,u))&&(e[u]=o[u])}return e})),Ea=Yr((function(e){return e.push(i,Xi),It(Ma,i,e)}));function Aa(e,t,n){var r=null==e?i:xr(e,t);return r===i?n:r}function Ia(e,t){return null!=e&&gs(e,t,Tr)}var Ta=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=n}),el(rl)),Ca=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),Oe.call(e,t)?e[t].push(n):e[t]=[n]}),ls),Pa=Yr(Pr);function ja(e){return Ko(e)?Yn(e):Rr(e)}function Na(e){return Ko(e)?Yn(e,!0):Lr(e)}var Ba=Ni((function(e,t,n){Wr(e,t,n)})),Ma=Ni((function(e,t,n,r){Wr(e,t,n,r)})),Oa=ns((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Pi(e,is(e),n),r&&(n=lr(n,7,es));for(var i=t.length;i--;)di(n,t[i]);return n}));var Ra=ns((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ia(e,n)}))}(e,t)}));function La(e,t){if(null==e)return{};var n=Ot(is(e),(function(e){return[e]}));return t=ls(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var za=Yi(ja),Ua=Yi(Na);function Da(e){return null==e?[]:en(e,ja(e))}var $a=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Wa(t):t)}));function Wa(e){return Ya(va(e).toLowerCase())}function Fa(e){return(e=va(e))&&e.replace(ke,sn).replace(tt,"")}var qa=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ha=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ka=Oi("toLowerCase");var Va=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ja=Ri((function(e,t,n){return e+(n?" ":"")+Ya(t)}));var Ga=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ya=Oi("toUpperCase");function Za(e,t,n){return e=va(e),(t=n?i:t)===i?function(e){return st.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qa=Yr((function(e,t){try{return It(e,i,t)}catch(n){return Yo(n)?n:new ae(n)}})),Xa=ns((function(e,t){return Ct(t,(function(t){t=Rs(t),sr(e,t,Co(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Ui(),nl=Ui(!0);function rl(e){return e}function il(e){return Or("function"==typeof e?e:lr(e,1))}var sl=Yr((function(e,t){return function(n){return Pr(n,e,t)}})),ol=Yr((function(e,t){return function(n){return Pr(e,n,t)}}));function al(e,t,n){var r=ja(t),i=_r(t,r);null!=n||ea(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,ja(t)));var s=!(ea(n)&&"chain"in n)||!!n.chain,o=Zo(e);return Ct(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=Ci(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})})),e}function ll(){}var cl=Fi(Ot),ul=Fi(jt),dl=Fi(Ut);function hl(e){return ws(e)?Vt(Rs(e)):function(e){return function(t){return xr(t,e)}}(e)}var fl=Hi(),pl=Hi(!0);function gl(){return[]}function ml(){return!1}var yl=Wi((function(e,t){return e+t}),0),vl=Ji("ceil"),bl=Wi((function(e,t){return e/t}),1),wl=Ji("floor");var kl=Wi((function(e,t){return e*t}),1),_l=Ji("round"),xl=Wi((function(e,t){return e-t}),0);return Dn.after=function(e,t){if("function"!=typeof t)throw new Ce(s);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Dn.ary=Io,Dn.assign=ba,Dn.assignIn=wa,Dn.assignInWith=ka,Dn.assignWith=_a,Dn.at=xa,Dn.before=To,Dn.bind=Co,Dn.bindAll=Xa,Dn.bindKey=Po,Dn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qo(e)?e:[e]},Dn.chain=ho,Dn.chunk=function(e,t,r){t=(r?bs(e,t,r):t===i)?1:Jt(pa(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var o=0,a=0,l=n(ft(s/t));o<s;)l[a++]=ri(e,o,o+=t);return l},Dn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Dn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Rt(qo(r)?Ci(r):[r],yr(t,1))},Dn.cond=function(e){var t=null==e?0:e.length,n=ls();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new Ce(s);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var i=e[r];if(It(i[0],this,n))return It(i[1],this,n)}}))},Dn.conforms=function(e){return function(e){var t=ja(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Dn.constant=el,Dn.countBy=go,Dn.create=function(e,t){var n=$n(e);return null==t?n:ir(n,t)},Dn.curry=function e(t,n,r){var s=Zi(t,8,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Dn.curryRight=function e(t,n,r){var s=Zi(t,l,i,i,i,i,i,n=r?i:n);return s.placeholder=e.placeholder,s},Dn.debounce=jo,Dn.defaults=Sa,Dn.defaultsDeep=Ea,Dn.defer=No,Dn.delay=Bo,Dn.difference=Us,Dn.differenceBy=Ds,Dn.differenceWith=$s,Dn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:pa(t))<0?0:t,r):[]},Dn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:pa(t)))<0?0:t):[]},Dn.dropRightWhile=function(e,t){return e&&e.length?fi(e,ls(t,3),!0,!0):[]},Dn.dropWhile=function(e,t){return e&&e.length?fi(e,ls(t,3),!0):[]},Dn.fill=function(e,t,n,r){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&bs(e,t,n)&&(n=0,r=s),function(e,t,n,r){var s=e.length;for((n=pa(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:pa(r))<0&&(r+=s),r=n>r?0:ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Dn.filter=function(e,t){return(qo(e)?Nt:mr)(e,ls(t,3))},Dn.flatMap=function(e,t){return yr(xo(e,t),1)},Dn.flatMapDeep=function(e,t){return yr(xo(e,t),f)},Dn.flatMapDepth=function(e,t,n){return n=n===i?1:pa(n),yr(xo(e,t),n)},Dn.flatten=qs,Dn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,f):[]},Dn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:pa(t)):[]},Dn.flip=function(e){return Zi(e,512)},Dn.flow=tl,Dn.flowRight=nl,Dn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Dn.functions=function(e){return null==e?[]:_r(e,ja(e))},Dn.functionsIn=function(e){return null==e?[]:_r(e,Na(e))},Dn.groupBy=wo,Dn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Dn.intersection=Ks,Dn.intersectionBy=Vs,Dn.intersectionWith=Js,Dn.invert=Ta,Dn.invertBy=Ca,Dn.invokeMap=ko,Dn.iteratee=il,Dn.keyBy=_o,Dn.keys=ja,Dn.keysIn=Na,Dn.map=xo,Dn.mapKeys=function(e,t){var n={};return t=ls(t,3),wr(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Dn.mapValues=function(e,t){var n={};return t=ls(t,3),wr(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Dn.matches=function(e){return Dr(lr(e,1))},Dn.matchesProperty=function(e,t){return $r(e,lr(t,1))},Dn.memoize=Mo,Dn.merge=Ba,Dn.mergeWith=Ma,Dn.method=sl,Dn.methodOf=ol,Dn.mixin=al,Dn.negate=Oo,Dn.nthArg=function(e){return e=pa(e),Yr((function(t){return Fr(t,e)}))},Dn.omit=Oa,Dn.omitBy=function(e,t){return La(e,Oo(ls(t)))},Dn.once=function(e){return To(2,e)},Dn.orderBy=function(e,t,n,r){return null==e?[]:(qo(t)||(t=null==t?[]:[t]),qo(n=r?i:n)||(n=null==n?[]:[n]),qr(e,t,n))},Dn.over=cl,Dn.overArgs=Ro,Dn.overEvery=ul,Dn.overSome=dl,Dn.partial=Lo,Dn.partialRight=zo,Dn.partition=So,Dn.pick=Ra,Dn.pickBy=La,Dn.property=hl,Dn.propertyOf=function(e){return function(t){return null==e?i:xr(e,t)}},Dn.pull=Ys,Dn.pullAll=Zs,Dn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,ls(n,2)):e},Dn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Dn.pullAt=Qs,Dn.range=fl,Dn.rangeRight=pl,Dn.rearg=Uo,Dn.reject=function(e,t){return(qo(e)?Nt:mr)(e,Oo(ls(t,3)))},Dn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=ls(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Vr(e,i),n},Dn.rest=function(e,t){if("function"!=typeof e)throw new Ce(s);return Yr(e,t=t===i?t:pa(t))},Dn.reverse=Xs,Dn.sampleSize=function(e,t,n){return t=(n?bs(e,t,n):t===i)?1:pa(t),(qo(e)?Qn:Qr)(e,t)},Dn.set=function(e,t,n){return null==e?e:Xr(e,t,n)},Dn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Xr(e,t,n,r)},Dn.shuffle=function(e){return(qo(e)?Xn:ni)(e)},Dn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bs(e,t,n)?(t=0,n=r):(t=null==t?0:pa(t),n=n===i?r:pa(n)),ri(e,t,n)):[]},Dn.sortBy=Eo,Dn.sortedUniq=function(e){return e&&e.length?ai(e):[]},Dn.sortedUniqBy=function(e,t){return e&&e.length?ai(e,ls(t,2)):[]},Dn.split=function(e,t,n){return n&&"number"!=typeof n&&bs(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ci(t))&&ln(e)?ki(gn(e),0,n):e.split(t,n):[]},Dn.spread=function(e,t){if("function"!=typeof e)throw new Ce(s);return t=null==t?0:Jt(pa(t),0),Yr((function(n){var r=n[t],i=ki(n,0,t);return r&&Rt(i,r),It(e,this,i)}))},Dn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Dn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:pa(t))<0?0:t):[]},Dn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:pa(t)))<0?0:t,r):[]},Dn.takeRightWhile=function(e,t){return e&&e.length?fi(e,ls(t,3),!1,!0):[]},Dn.takeWhile=function(e,t){return e&&e.length?fi(e,ls(t,3)):[]},Dn.tap=function(e,t){return t(e),e},Dn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ce(s);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),jo(e,t,{leading:r,maxWait:t,trailing:i})},Dn.thru=fo,Dn.toArray=ha,Dn.toPairs=za,Dn.toPairsIn=Ua,Dn.toPath=function(e){return qo(e)?Ot(e,Rs):la(e)?[e]:Ci(Os(va(e)))},Dn.toPlainObject=ya,Dn.transform=function(e,t,n){var r=qo(e),i=r||Jo(e)||ca(e);if(t=ls(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:ea(e)&&Zo(s)?$n(Ke(e)):{}}return(i?Ct:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Dn.unary=function(e){return Io(e,1)},Dn.union=eo,Dn.unionBy=to,Dn.unionWith=no,Dn.uniq=function(e){return e&&e.length?ui(e):[]},Dn.uniqBy=function(e,t){return e&&e.length?ui(e,ls(t,2)):[]},Dn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},Dn.unset=function(e,t){return null==e||di(e,t)},Dn.unzip=ro,Dn.unzipWith=io,Dn.update=function(e,t,n){return null==e?e:hi(e,t,vi(n))},Dn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,vi(n),r)},Dn.values=Da,Dn.valuesIn=function(e){return null==e?[]:en(e,Na(e))},Dn.without=so,Dn.words=Za,Dn.wrap=function(e,t){return Lo(vi(t),e)},Dn.xor=oo,Dn.xorBy=ao,Dn.xorWith=lo,Dn.zip=co,Dn.zipObject=function(e,t){return mi(e||[],t||[],tr)},Dn.zipObjectDeep=function(e,t){return mi(e||[],t||[],Xr)},Dn.zipWith=uo,Dn.entries=za,Dn.entriesIn=Ua,Dn.extend=wa,Dn.extendWith=ka,al(Dn,Dn),Dn.add=yl,Dn.attempt=Qa,Dn.camelCase=$a,Dn.capitalize=Wa,Dn.ceil=vl,Dn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ma(n))===n?n:0),t!==i&&(t=(t=ma(t))===t?t:0),ar(ma(e),t,n)},Dn.clone=function(e){return lr(e,4)},Dn.cloneDeep=function(e){return lr(e,5)},Dn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Dn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Dn.conformsTo=function(e,t){return null==t||cr(e,t,ja(t))},Dn.deburr=Fa,Dn.defaultTo=function(e,t){return null==e||e!==e?t:e},Dn.divide=bl,Dn.endsWith=function(e,t,n){e=va(e),t=ci(t);var r=e.length,s=n=n===i?r:ar(pa(n),0,r);return(n-=t.length)>=0&&e.slice(n,s)==t},Dn.eq=Do,Dn.escape=function(e){return(e=va(e))&&Z.test(e)?e.replace(G,on):e},Dn.escapeRegExp=function(e){return(e=va(e))&&se.test(e)?e.replace(ie,"\\$&"):e},Dn.every=function(e,t,n){var r=qo(e)?jt:pr;return n&&bs(e,t,n)&&(t=i),r(e,ls(t,3))},Dn.find=mo,Dn.findIndex=Ws,Dn.findKey=function(e,t){return $t(e,ls(t,3),wr)},Dn.findLast=yo,Dn.findLastIndex=Fs,Dn.findLastKey=function(e,t){return $t(e,ls(t,3),kr)},Dn.floor=wl,Dn.forEach=vo,Dn.forEachRight=bo,Dn.forIn=function(e,t){return null==e?e:vr(e,ls(t,3),Na)},Dn.forInRight=function(e,t){return null==e?e:br(e,ls(t,3),Na)},Dn.forOwn=function(e,t){return e&&wr(e,ls(t,3))},Dn.forOwnRight=function(e,t){return e&&kr(e,ls(t,3))},Dn.get=Aa,Dn.gt=$o,Dn.gte=Wo,Dn.has=function(e,t){return null!=e&&gs(e,t,Ir)},Dn.hasIn=Ia,Dn.head=Hs,Dn.identity=rl,Dn.includes=function(e,t,n,r){e=Ko(e)?e:Da(e),n=n&&!r?pa(n):0;var i=e.length;return n<0&&(n=Jt(i+n,0)),aa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ft(e,t,n)>-1},Dn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Jt(r+i,0)),Ft(e,t,i)},Dn.inRange=function(e,t,n){return t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n){return e>=bn(t,n)&&e<Jt(t,n)}(e=ma(e),t,n)},Dn.invoke=Pa,Dn.isArguments=Fo,Dn.isArray=qo,Dn.isArrayBuffer=Ho,Dn.isArrayLike=Ko,Dn.isArrayLikeObject=Vo,Dn.isBoolean=function(e){return!0===e||!1===e||ta(e)&&Er(e)==w},Dn.isBuffer=Jo,Dn.isDate=Go,Dn.isElement=function(e){return ta(e)&&1===e.nodeType&&!ia(e)},Dn.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(qo(e)||"string"==typeof e||"function"==typeof e.splice||Jo(e)||ca(e)||Fo(e)))return!e.length;var t=ps(e);if(t==E||t==P)return!e.size;if(xs(e))return!Rr(e).length;for(var n in e)if(Oe.call(e,n))return!1;return!0},Dn.isEqual=function(e,t){return Nr(e,t)},Dn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Nr(e,t,i,n):!!r},Dn.isError=Yo,Dn.isFinite=function(e){return"number"==typeof e&&bt(e)},Dn.isFunction=Zo,Dn.isInteger=Qo,Dn.isLength=Xo,Dn.isMap=na,Dn.isMatch=function(e,t){return e===t||Br(e,t,us(t))},Dn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Br(e,t,us(t),n)},Dn.isNaN=function(e){return ra(e)&&e!=+e},Dn.isNative=function(e){if(_s(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Dn.isNil=function(e){return null==e},Dn.isNull=function(e){return null===e},Dn.isNumber=ra,Dn.isObject=ea,Dn.isObjectLike=ta,Dn.isPlainObject=ia,Dn.isRegExp=sa,Dn.isSafeInteger=function(e){return Qo(e)&&e>=-9007199254740991&&e<=p},Dn.isSet=oa,Dn.isString=aa,Dn.isSymbol=la,Dn.isTypedArray=ca,Dn.isUndefined=function(e){return e===i},Dn.isWeakMap=function(e){return ta(e)&&ps(e)==B},Dn.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==Er(e)},Dn.join=function(e,t){return null==e?"":wt.call(e,t)},Dn.kebabCase=qa,Dn.last=Gs,Dn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=pa(n))<0?Jt(r+s,0):bn(s,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):Wt(e,Ht,s,!0)},Dn.lowerCase=Ha,Dn.lowerFirst=Ka,Dn.lt=ua,Dn.lte=da,Dn.max=function(e){return e&&e.length?gr(e,rl,Ar):i},Dn.maxBy=function(e,t){return e&&e.length?gr(e,ls(t,2),Ar):i},Dn.mean=function(e){return Kt(e,rl)},Dn.meanBy=function(e,t){return Kt(e,ls(t,2))},Dn.min=function(e){return e&&e.length?gr(e,rl,zr):i},Dn.minBy=function(e,t){return e&&e.length?gr(e,ls(t,2),zr):i},Dn.stubArray=gl,Dn.stubFalse=ml,Dn.stubObject=function(){return{}},Dn.stubString=function(){return""},Dn.stubTrue=function(){return!0},Dn.multiply=kl,Dn.nth=function(e,t){return e&&e.length?Fr(e,pa(t)):i},Dn.noConflict=function(){return gt._===this&&(gt._=De),this},Dn.noop=ll,Dn.now=Ao,Dn.pad=function(e,t,n){e=va(e);var r=(t=pa(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return qi(pt(i),n)+e+qi(ft(i),n)},Dn.padEnd=function(e,t,n){e=va(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?e+qi(t-r,n):e},Dn.padStart=function(e,t,n){e=va(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?qi(t-r,n)+e:e},Dn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(va(e).replace(oe,""),t||0)},Dn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bs(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=_n();return bn(e+s*(t-e+dt("1e-"+((s+"").length-1))),t)}return Jr(e,t)},Dn.reduce=function(e,t,n){var r=qo(e)?Lt:Gt,i=arguments.length<3;return r(e,ls(t,4),n,i,hr)},Dn.reduceRight=function(e,t,n){var r=qo(e)?zt:Gt,i=arguments.length<3;return r(e,ls(t,4),n,i,fr)},Dn.repeat=function(e,t,n){return t=(n?bs(e,t,n):t===i)?1:pa(t),Gr(va(e),t)},Dn.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Dn.result=function(e,t,n){var r=-1,s=(t=bi(t,e)).length;for(s||(s=1,e=i);++r<s;){var o=null==e?i:e[Rs(t[r])];o===i&&(r=s,o=n),e=Zo(o)?o.call(e):o}return e},Dn.round=_l,Dn.runInContext=e,Dn.sample=function(e){return(qo(e)?Zn:Zr)(e)},Dn.size=function(e){if(null==e)return 0;if(Ko(e))return aa(e)?pn(e):e.length;var t=ps(e);return t==E||t==P?e.size:Rr(e).length},Dn.snakeCase=Va,Dn.some=function(e,t,n){var r=qo(e)?Ut:ii;return n&&bs(e,t,n)&&(t=i),r(e,ls(t,3))},Dn.sortedIndex=function(e,t){return si(e,t)},Dn.sortedIndexBy=function(e,t,n){return oi(e,t,ls(n,2))},Dn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Do(e[r],t))return r}return-1},Dn.sortedLastIndex=function(e,t){return si(e,t,!0)},Dn.sortedLastIndexBy=function(e,t,n){return oi(e,t,ls(n,2),!0)},Dn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Do(e[n],t))return n}return-1},Dn.startCase=Ja,Dn.startsWith=function(e,t,n){return e=va(e),n=null==n?0:ar(pa(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Dn.subtract=xl,Dn.sum=function(e){return e&&e.length?Yt(e,rl):0},Dn.sumBy=function(e,t){return e&&e.length?Yt(e,ls(t,2)):0},Dn.template=function(e,t,n){var r=Dn.templateSettings;n&&bs(e,t,n)&&(t=i),e=va(e),t=ka({},t,r,Qi);var s,o,a=ka({},t.imports,r.imports,Qi),l=ja(a),c=en(a,l),u=0,d=t.interpolate||_e,h="__p += '",f=Ie((t.escape||_e).source+"|"+d.source+"|"+(d===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Oe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(f,(function(t,n,r,i,a,l){return r||(r=i),h+=e.slice(u,l).replace(xe,an),n&&(s=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var g=Oe.call(t,"variable")&&t.variable;if(g){if(he.test(g))throw new ae("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(H,""):h).replace(K,"$1").replace(V,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Qa((function(){return Se(l,p+"return "+h).apply(i,c)}));if(m.source=h,Yo(m))throw m;return m},Dn.times=function(e,t){if((e=pa(e))<1||e>p)return[];var n=m,r=bn(e,m);t=ls(t),e-=m;for(var i=Zt(r,t);++n<e;)t(n);return i},Dn.toFinite=fa,Dn.toInteger=pa,Dn.toLength=ga,Dn.toLower=function(e){return va(e).toLowerCase()},Dn.toNumber=ma,Dn.toSafeInteger=function(e){return e?ar(pa(e),-9007199254740991,p):0===e?e:0},Dn.toString=va,Dn.toUpper=function(e){return va(e).toUpperCase()},Dn.trim=function(e,t,n){if((e=va(e))&&(n||t===i))return Qt(e);if(!e||!(t=ci(t)))return e;var r=gn(e),s=gn(t);return ki(r,nn(r,s),rn(r,s)+1).join("")},Dn.trimEnd=function(e,t,n){if((e=va(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ci(t)))return e;var r=gn(e);return ki(r,0,rn(r,gn(t))+1).join("")},Dn.trimStart=function(e,t,n){if((e=va(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var r=gn(e);return ki(r,nn(r,gn(t))).join("")},Dn.truncate=function(e,t){var n=30,r="...";if(ea(t)){var s="separator"in t?t.separator:s;n="length"in t?pa(t.length):n,r="omission"in t?ci(t.omission):r}var o=(e=va(e)).length;if(ln(e)){var a=gn(e);o=a.length}if(n>=o)return e;var l=n-pn(r);if(l<1)return r;var c=a?ki(a,0,l).join(""):e.slice(0,l);if(s===i)return c+r;if(a&&(l+=c.length-l),sa(s)){if(e.slice(l).search(s)){var u,d=c;for(s.global||(s=Ie(s.source,va(ge.exec(s))+"g")),s.lastIndex=0;u=s.exec(d);)var h=u.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(ci(s),l)!=l){var f=c.lastIndexOf(s);f>-1&&(c=c.slice(0,f))}return c+r},Dn.unescape=function(e){return(e=va(e))&&Y.test(e)?e.replace(J,yn):e},Dn.uniqueId=function(e){var t=++Re;return va(e)+t},Dn.upperCase=Ga,Dn.upperFirst=Ya,Dn.each=vo,Dn.eachRight=bo,Dn.first=Hs,al(Dn,function(){var e={};return wr(Dn,(function(t,n){Oe.call(Dn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Dn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Dn[e].placeholder=Dn})),Ct(["drop","take"],(function(e,t){qn.prototype[e]=function(n){n=n===i?1:Jt(pa(n),0);var r=this.__filtered__&&!t?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ls(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(rl)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return Pr(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Oo(ls(e)))},qn.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(m)},wr(qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=Dn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);s&&(Dn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof qn,c=a[0],u=l||qo(t),d=function(e){var t=s.apply(Dn,Rt([e],a));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,g=l&&!f;if(!o&&u){t=g?t:new qn(this);var m=e.apply(t,a);return m.__actions__.push({func:fo,args:[d],thisArg:i}),new Fn(m,h)}return p&&g?e.apply(this,a):(m=this.thru(d),p?r?m.value()[0]:m.value():m)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Dn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(qo(i)?i:[],e)}return this[n]((function(n){return t.apply(qo(n)?n:[],e)}))}})),wr(qn.prototype,(function(e,t){var n=Dn[t];if(n){var r=n.name+"";Oe.call(jn,r)||(jn[r]=[]),jn[r].push({name:t,func:n})}})),jn[Di(i,2).name]=[{name:"wrapper",func:i}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=Ci(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ci(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ci(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qo(e),r=t<0,i=n?e.length:0,s=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=Jt(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,c=r?a:o-1,u=this.__iteratees__,d=u.length,h=0,f=bn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var g=-1,m=e[c+=t];++g<d;){var y=u[g],v=y.iteratee,b=y.type,w=v(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}p[h++]=m}return p},Dn.prototype.at=po,Dn.prototype.chain=function(){return ho(this)},Dn.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},Dn.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Dn.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var r=zs(n);r.__index__=0,r.__values__=i,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t},Dn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:fo,args:[Xs],thisArg:i}),new Fn(t,this.__chain__)}return this.thru(Xs)},Dn.prototype.toJSON=Dn.prototype.valueOf=Dn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Dn.prototype.first=Dn.prototype.head,Ze&&(Dn.prototype[Ze]=function(){return this}),Dn}();gt._=vn,(r=function(){return vn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},579:(e,t,n)=>{"use strict";e.exports=n(153)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>o,Request:()=>a,Response:()=>l,default:()=>s,fetch:()=>i});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const i=r.fetch,s=r.fetch.bind(r),o=r.Headers,a=r.Request,l=r.Response},656:(e,t,n)=>{"use strict";const r=n(92).v4;e.exports=function(e,t,n,i){if("string"!==typeof e)throw new TypeError(e+" must be a string");const s="number"===typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:e};if(2===s&&(o.jsonrpc="2.0"),t){if("object"!==typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if("undefined"===typeof n){const e="function"===typeof i.generator?i.generator:function(){return r()};o.id=e(o,i)}else 2===s&&null===n?i.notificationIdNull&&(o.id=null):o.id=n;return o}},709:(e,t,n)=>{"use strict";n.d(t,{N:()=>Nt});class r extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class i extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class s extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var a;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(a||(a={}));var l=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class c{constructor(e){let{headers:t={},customFetch:r,region:i=a.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=i,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return l(this,void 0,void 0,(function*(){try{const{headers:r,method:a,body:l}=t;let c,u={},{region:d}=t;d||(d=this.region),d&&"any"!==d&&(u["x-region"]=d),l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=l):"string"===typeof l?(u["Content-Type"]="text/plain",c=l):"undefined"!==typeof FormData&&l instanceof FormData?c=l:(u["Content-Type"]="application/json",c=JSON.stringify(l)));const h=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),r),body:c}).catch((e=>{throw new i(e)})),f=h.headers.get("x-relay-error");if(f&&"true"===f)throw new s(h);if(!h.ok)throw new o(h);let p,g=(null!==(n=h.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return p="application/json"===g?yield h.json():"application/octet-stream"===g?yield h.blob():"text/event-stream"===g?h:"multipart/form-data"===g?yield h.formData():yield h.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}}))}}var u=n(980);const{PostgrestClient:d,PostgrestQueryBuilder:h,PostgrestFilterBuilder:f,PostgrestTransformBuilder:p,PostgrestBuilder:g,PostgrestError:m}=u,y={"X-Client-Info":"realtime-js/2.11.2"};var v,b,w,k,_,x;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(v||(v={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(b||(b={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(w||(w={})),function(e){e.websocket="websocket"}(k||(k={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(_||(_={}));class S{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+r));s+=r;const a=n.decode(e.slice(s,s+i));s+=i;return{ref:null,topic:o,event:a,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class E{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(x||(x={}));const A=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,i)=>(n[i]=I(i,e,t,r),n)),{})},I=(e,t,n,r)=>{const i=t.find((t=>t.name===e)),s=null===i||void 0===i?void 0:i.type,o=n[e];return s&&!r.includes(s)?T(s,o):C(o)},T=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return B(t,n)}switch(e){case x.bool:return P(t);case x.float4:case x.float8:case x.int2:case x.int4:case x.int8:case x.numeric:case x.oid:return j(t);case x.json:case x.jsonb:return N(t);case x.timestamp:return M(t);case x.abstime:case x.date:case x.daterange:case x.int4range:case x.int8range:case x.money:case x.reltime:case x.text:case x.time:case x.timestamptz:case x.timetz:case x.tsrange:case x.tstzrange:default:return C(t)}},C=e=>e,P=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},j=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},N=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},B=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(i){r=s?s.split(","):[]}return r.map((e=>T(t,e)))}return e},M=e=>"string"===typeof e?e.replace(" ","T"):e,O=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class R{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var L,z,U,D;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(L||(L={}));class ${constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=$.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=$.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const i=this.cloneDeep(e),s=this.transformState(t),o={},a={};return this.map(i,((e,t)=>{s[e]||(a[e]=t)})),this.map(s,((e,t)=>{const n=i[e];if(n){const r=t.map((e=>e.presence_ref)),i=n.map((e=>e.presence_ref)),s=t.filter((e=>i.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));s.length>0&&(o[e]=s),l.length>0&&(a[e]=l)}else o[e]=t})),this.syncDiff(i,{joins:o,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,((t,r)=>{var i;const s=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map((e=>e.presence_ref)),r=s.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,s,r)})),this.map(s,((t,n)=>{let i=e[t];if(!i)return;const s=n.map((e=>e.presence_ref));i=i.filter((e=>s.indexOf(e.presence_ref)<0)),e[t]=i,r(t,i,n),0===i.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(z||(z={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(U||(U={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(D||(D={}));class W{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=b.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new R(this,w.join,this.params,this.timeout),this.rejoinTimer=new E((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=b.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=b.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this._on(w.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new $(this),this.broadcastEndpointURL=O(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(D.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(D.CLOSED)));const a={},l={broadcast:i,presence:s,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:o};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,i=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<i;r++){const i=t[r],{filter:{event:o,schema:a,table:l,filter:c}}=i,u=n&&n[r];if(!u||u.event!==o||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e(D.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(D.SUBSCRIBED))}null===e||void 0===e||e(D.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(D.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(D.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,i,s;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===s?void 0:s.ack)||n("ok"),o.receive("ok",(()=>n("ok"))),o.receive("error",(()=>n("error"))),o.receive("timeout",(()=>n("timed out")))}));{const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=b.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(w.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new R(this,w.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout((()=>r.abort()),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new R(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const s=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:c}=w;if(n&&[o,a,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s})).map((e=>e.callback(u,n))):null===(i=this.bindings[s])||void 0===i||i.filter((e=>{var n,r,i,o,a,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(a=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:s}=e,o={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:s};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===b.closed}_isJoined(){return this.state===b.joined}_isJoining(){return this.state===b.joining}_isLeaving(){return this.state===b.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&W.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(w.close,{},e)}_onError(e){this._on(w.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=b.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=A(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=A(e.columns,e.old_record)),t}}const F=()=>{},q="undefined"!==typeof WebSocket;class H{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=y,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=F,this.conn=null,this.sendBuffer=[],this.serializer=new S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${k.websocket}`,this.httpEndpoint=O(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(q)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new K(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(198).then(n.t.bind(n,198,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case v.connecting:return _.Connecting;case v.open:return _.Open;case v.closing:return _.Closing;default:return _.Closed}}isConnected(){return this.connectionState()===_.Open}channel(e){const t=new W(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:n,payload:r,ref:i}=e,s=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(w.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:i}=e;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,i))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(w.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class K{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=v.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class V extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function J(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class G extends V{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Y extends V{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Z=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const Q=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},X=e=>{if(Array.isArray(e))return e.map((e=>X(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const i=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[i]=X(r)})),t};var ee=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const te=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ne=(e,t,r)=>ee(void 0,void 0,void 0,(function*(){const i=yield Z(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response}));e instanceof i&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{t(new G(te(n),e.status||500))})).catch((e=>{t(new Y(te(e),e))})):t(new Y(te(e),e))}));function re(e,t,n,r,i,s){return ee(this,void 0,void 0,(function*(){return new Promise(((o,a)=>{e(n,((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))})(t,r,i,s)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>o(e))).catch((e=>ne(e,a,r)))}))}))}function ie(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"GET",t,n,r)}))}function se(e,t,n,r,i){return ee(this,void 0,void 0,(function*(){return re(e,"POST",t,r,i,n)}))}function oe(e,t,n,r,i){return ee(this,void 0,void 0,(function*(){return re(e,"DELETE",t,r,i,n)}))}var ae=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const le={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ce={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Q(r)}uploadOrUpdate(e,t,n,r){return ae(this,void 0,void 0,(function*(){try{let i;const s=Object.assign(Object.assign({},ce),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const a=s.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null===r||void 0===r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:o},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(i){if(J(i))return{data:null,error:i};throw i}}))}upload(e,t,n){return ae(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return ae(this,void 0,void 0,(function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ce.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);const a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:s}),l=yield a.json();if(a.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(a){if(J(a))return{data:null,error:a};throw a}}))}createSignedUploadUrl(e,t){return ae(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const i=yield se(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new V("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}))}update(e,t,n){return ae(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return ae(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return ae(this,void 0,void 0,(function*(){try{return{data:{path:(yield se(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return ae(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),i=yield se(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const s=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return ae(this,void 0,void 0,(function*(){try{const r=yield se(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null}))),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}download(e,t){return ae(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),i=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield ie(this.fetch,`${this.url}/${n}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}))}info(e){return ae(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield ie(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:X(e),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}))}exists(e){return ae(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(J(n)&&n instanceof Y){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${a}`)}}}remove(e){return ae(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}list(e,t,n){return ae(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},le),t),{prefix:e||""});return{data:yield se(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const de={"X-Client-Info":"storage-js/2.7.1"};var he=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class fe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},de),t),this.fetch=Q(n)}listBuckets(){return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}}))}getBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return he(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return he(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,i){return ee(this,void 0,void 0,(function*(){return re(e,"PUT",t,r,i,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}))}}class pe extends fe{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new ue(this.url,this.headers,e,this.fetch)}}let ge="";ge="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const me={headers:{"X-Client-Info":`supabase-js-${ge}/2.49.1`}},ye={schema:"public"},ve={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},be={};var we=n(630),ke=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const _e=e=>{let t;return t=e||("undefined"===typeof fetch?we.default:fetch),function(){return t(...arguments)}},xe=(e,t,n)=>{const r=_e(n),i="undefined"===typeof Headers?we.Headers:Headers;return(n,s)=>ke(void 0,void 0,void 0,(function*(){var o;const a=null!==(o=yield t())&&void 0!==o?o:e;let l=new i(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},s),{headers:l}))}))};var Se=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};const Ee="2.68.0",Ae=3e4,Ie=9e4,Te={"X-Client-Info":`gotrue-js/${Ee}`},Ce="X-Supabase-Api-Version",Pe={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"};const je=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Ne={tested:!1,writable:!1},Be=()=>{if(!je())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Ne.tested)return Ne.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ne.tested=!0,Ne.writable=!0}catch(t){Ne.tested=!0,Ne.writable=!1}return Ne.writable};const Me=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},Oe=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Re=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Le=async(e,t)=>{await e.removeItem(t)};class ze{constructor(){this.promise=new ze.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Ue(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,i,s,o,a,l,c="",u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=t.indexOf(e.charAt(u++)),o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),n=s<<2|o>>4,r=(15&o)<<4|a>>2,i=(3&a)<<6|l,c+=String.fromCharCode(n),64!=a&&0!=r&&(c+=String.fromCharCode(r)),64!=l&&0!=i&&(c+=String.fromCharCode(i));return c}(n))}function De(e){return("0"+e.toString(16)).substr(-2)}async function $e(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function We(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,De).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Oe(e,`${t}-code-verifier`,i);const s=await $e(r);return[s,r===s?"plain":"s256"]}ze.promiseConstructor=Promise;const Fe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class qe extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function He(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Ke extends qe{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Ve extends qe{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Je extends qe{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Ge extends Je{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ye extends Je{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ze extends Je{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qe extends Je{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xe extends Je{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class et extends Je{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function tt(e){return He(e)&&"AuthRetryableFetchError"===e.name}class nt extends Je{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}var rt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const it=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),st=[502,503,504];async function ot(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new et(it(e),0);if(st.includes(e.status))throw new et(it(e),e.status);let r,i;try{r=await e.json()}catch(o){throw new Ve(it(o),o)}const s=function(e){const t=e.headers.get(Ce);if(!t)return null;if(!t.match(Fe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(o){return null}}(e);if(s&&s.getTime()>=Pe.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?i=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new nt(it(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new Ge}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new nt(it(r),e.status,r.weak_password.reasons);throw new Ke(it(r),e.status||500,i)}async function at(e,t,n,r){var i;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[Ce]||(s[Ce]=Pe.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization=`Bearer ${r.jwt}`);const o=null!==(i=null===r||void 0===r?void 0:r.query)&&void 0!==i?i:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,i,s){const o=((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new et(it(l),0)}a.ok||await ot(a);if(null===r||void 0===r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(l){await ot(l)}}(e,t,n+a,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function lt(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ct(e){const t=lt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function ut(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function dt(e){return{data:e,error:null}}function ht(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=rt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},user:Object.assign({},o)},error:null}}function ft(e){return e}var pt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class gt{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Me(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await at(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await at(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ut})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=pt(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await at(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ht,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(He(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await at(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ut})}catch(t){if(He(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,s,o,a;try{const l={nextPage:null,lastPage:0,total:0},c=await at(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:ft});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(a=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(He(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await at(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ut})}catch(t){if(He(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await at(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ut})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await at(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ut})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await at(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(He(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await at(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(He(t))return{data:null,error:t};throw t}}}const mt={getItem:e=>Be()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Be()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Be()&&globalThis.localStorage.removeItem(e)}};function yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const vt=!!(globalThis&&Be()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class bt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wt extends bt{}async function kt(e,t,n){vt&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),vt&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw vt&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wt(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vt)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}vt&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{vt&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const _t={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Te,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xt(e,t,n){return await n()}class St{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=St.nextInstanceID,St.nextInstanceID+=1,this.instanceID>0&&je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},_t),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new gt({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Me(r.fetch),this.lock=r.lock||xt,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:je()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=kt:this.lock=xt,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Be()?this.storage=mt:(this.memoryStorage={},this.storage=yt(this.memoryStorage)):(this.memoryStorage={},this.storage=yt(this.memoryStorage)),je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Ee}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(r){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),je()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return He(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout((async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return He(t)?{error:t}:{error:new Ve("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:lt}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const a=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:s}=e;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await We(this.storage,this.storageKey)),i=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:a},xform:lt})}else{if(!("phone"in e))throw new Ze("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:o}=e;i=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:lt})}}const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const a=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ct})}else{if(!("phone"in e))throw new Ze("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ct})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Ye}}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await Re(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:i}=await at(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:lt});if(await Le(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new Ye}}catch(i){if(He(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:s}=e,o=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:lt}),{data:a,error:l}=o;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Ye}}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,i,s;try{if("email"in e){const{email:r,options:i}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await We(this.storage,this.storageKey));const{error:a}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null===i||void 0===i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:a}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:a}}throw new Ze("You must provide either an email or phone number.")}catch(o){if(He(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:o}=await at(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:lt});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const a=s.session,l=s.user;return(null===a||void 0===a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let i=null,s=null;return"pkce"===this.flowType&&([i,s]=await We(this.storage,this.storageKey)),await at(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:dt})}catch(i){if(He(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ge;const{error:r}=await at(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(He(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:s}=await at(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:s,error:o}=await at(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new Ze("You must provide either an email or phone number and a type")}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Re(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Ie;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ut}):await this._useSession((async e=>{var t,n,r;const{data:i,error:s}=e;if(s)throw s;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:ut}):{data:{user:null},error:new Ge}}))}catch(t){if(He(t))return function(e){return He(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Le(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Ge;const s=r.session;let o=null,a=null;"pkce"===this.flowType&&null!=e.email&&([o,a]=await We(this.storage,this.storageKey));const{data:l,error:c}=await at(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:s.access_token,xform:ut});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}}))}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return Ue(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ge;const t=Date.now()/1e3;let n=t,r=!0,i=null;const s=Ue(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(He(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Ge;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!je())throw new Qe("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qe(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Xe("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Qe("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xe("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:s,expires_in:o,expires_at:a,token_type:l}=e;if(!i||!o||!s||!l)throw new Qe("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;a&&(d=parseInt(a));const h=d-c;1e3*h<=Ae&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:g}=await this._getUser(i);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(He(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Re(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:i}=t;if(i)return{error:i};const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return He(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Le(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await We(this.storage,this.storageKey,!0));try{return await at(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(He(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(He(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,i,s,o;const{data:a,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await at(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(s=a.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})}));if(r)throw r;return je()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(He(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:i,error:s}=t;if(s)throw s;return await at(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(He(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await at(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lt})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&tt(t)&&Date.now()+n-i<Ae},new Promise(((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(i){if(!r(s,i))return void t(i)}})()})))}catch(i){if(this._debug(t,"error",i),He(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),je()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Re(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Ie;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),tt(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ge;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ze;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Ge;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),He(i)){const e={session:null,error:i};return tt(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(i){r.push(i)}}));if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Oe(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Le(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&je()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Ae);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Ae);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof bt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!je()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await We(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await at(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(He(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:i,error:s}=t;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await at(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===a||void 0===a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(t){if(He(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:s,error:o}=await at(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}))}catch(t){if(He(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await at(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(He(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),i=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:s.amr||[]},error:null}}))))}}St.nextInstanceID=0;const Et=St;class At extends Et{constructor(e){super(e)}}var It=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};class Tt{constructor(e,t,n){var r,i,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=e.replace(/\/$/,"");this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>Se(this,void 0,void 0,(function*(){return""}))};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!==n&&void 0!==n?n:{},{db:ye,realtime:be,auth:Object.assign(Object.assign({},ve),{storageKey:a}),global:me});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=xe(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new d(`${o}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return It(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:i,detectSessionInUrl:s,storage:o,storageKey:a,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new At({url:this.authUrl,headers:Object.assign(Object.assign({},d),t),storageKey:a,autoRefreshToken:r,persistSession:i,detectSessionInUrl:s,storage:o,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new H(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const Ct="https://dkdbooncywawqqmfbbll.supabase.co",Pt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRrZGJvb25jeXdhd3FxbWZiYmxsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA5NDI3NzksImV4cCI6MjA1NjUxODc3OX0.St73lJ1rEo3lvUiNEJz8aqBMYbSyjTJQ4_s4rUdZRJg",jt={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://dkdbooncywawqqmfbbll.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRrZGJvb25jeXdhd3FxbWZiYmxsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA5NDI3NzksImV4cCI6MjA1NjUxODc3OX0.St73lJ1rEo3lvUiNEJz8aqBMYbSyjTJQ4_s4rUdZRJg",REACT_APP_SOLANA_RPC_URL:"https://rpc.helius.xyz/?api-key=268519a5-accf-40b1-9fe3-d0d61fe3a5ce"}.REACT_APP_SITE_URL||window.location.origin;const Nt=((e,t,n)=>new Tt(e,t,n))(Ct,Pt,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",redirectTo:jt}})},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var R,L=Object.assign;function z(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function D(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function $(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function F(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=ki(t),_e(e.stateNode,e.type,t))}}function Ae(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Pe=!1;function je(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==xe||null!==Se)&&(Ce(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Be=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Be=!1}function Oe(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,ze=!1,Ue=null,De={onError:function(e){Re=!0,Le=e}};function $e(e,t,n,r,i,s,o,a,l){Re=!1,Le=null,Oe.apply(De,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Fe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ze=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,_t,xt,St,Et,At=!1,It=[],Tt=null,Ct=null,Pt=null,jt=new Map,Nt=new Map,Bt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Rt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Fe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){zt(e)&&n.delete(t)}function Dt(){At=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==Ct&&zt(Ct)&&(Ct=null),null!==Pt&&zt(Pt)&&(Pt=null),jt.forEach(Ut),Nt.forEach(Ut)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Dt)))}function Wt(e){function t(t){return $t(t,e)}if(0<It.length){$t(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&$t(Tt,e),null!==Ct&&$t(Ct,e),null!==Pt&&$t(Pt,e),jt.forEach(t),Nt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Bt.shift()}var Ft=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=bt,s=Ft.transition;Ft.transition=null;try{bt=1,Vt(e,t,n,r)}finally{bt=i,Ft.transition=s}}function Kt(e,t,n,r){var i=bt,s=Ft.transition;Ft.transition=null;try{bt=4,Vt(e,t,n,r)}finally{bt=i,Ft.transition=s}}function Vt(e,t,n,r){if(qt){var i=Gt(e,t,n,r);if(null===i)qr(e,t,r,Jt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Rt(Ct,e,t,n,r,i),!0;case"mouseover":return Pt=Rt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jt.set(s,Rt(jt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nt.set(s,Rt(Nt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&kt(s),null===(s=Gt(e,t,n,r))&&qr(e,t,r,Jt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Jt=null;function Gt(e,t,n,r){if(Jt=null,null!==(e=vi(e=ke(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Fe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(L({},fn,{dataTransfer:0})),mn=sn(L({},dn,{relatedTarget:0})),yn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(L({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var An=L({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(An),Tn=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(jn),Bn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Rn=u&&"TextEvent"in window&&!On,Ln=u&&(!Mn||On&&8<On&&11>=On),zn=String.fromCharCode(32),Un=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ae(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Vn=null;function Jn(e){zr(e,0)}function Gn(e){if(V(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Qn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Qn=Xn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Vn=Kn=null)}function nr(e){if("value"===e.propertyName&&Gn(Vn)){var t=[];Hn(t,Vn,e,ke(e)),je(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Vn)}function sr(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ar=Er("animationend"),Ir=Er("animationiteration"),Tr=Er("animationstart"),Cr=Er("transitionend"),Pr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Br=0;Br<jr.length;Br++){var Mr=jr[Br];Nr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Nr(Ar,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Tr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if($e.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,ze||(ze=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,a,c),s=l}}}if(ze)throw e=Ue,ze=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function Dr(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[$r]){e[$r]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Dr(t,!1,e),Dr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Dr("selectionchange",!1,t))}}function Fr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Vt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}je((function(){var r=s,i=ke(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Ar:case Ir:case Tr:l=yn;break;case Cr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Ne(p,h))&&u.push(Hr(p,g,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(g,p+"leave",l,n,i)).target=d,a.relatedTarget=f,g=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Vr(f))p++;for(f=0,g=h;g;g=Vr(g))f++;for(;0<p-f;)u=Vr(u),p--;for(;0<f-p;)h=Vr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Vr(u),h=Vr(h)}u=null}else u=null;null!==l&&Jr(o,a,l,u,!1),null!==c&&null!==d&&Jr(o,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(qn(a))if(Zn)m=or;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Dn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(v=en()):(Qt="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=$n(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Un=!0,zn);case"textInput":return(e=t.data)===zn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Dn(e,t)?(e=en(),Xt=Qt=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}zr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ne(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Ne(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ne(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Ne(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(s(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ki(e){return e[fi]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ai(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ti=Si(Ii),Ci=Si(!1),Pi=Ii;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bi(){Ei(Ci),Ei(Ti)}function Mi(e,t,n){if(Ti.current!==Ii)throw Error(s(168));Ai(Ti,t),Ai(Ci,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,F(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=Ti.current,Ai(Ti,e),Ai(Ci,Ci.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ti),Ai(Ti,e)):Ei(Ci),Ai(Ci,n)}var zi=null,Ui=!1,Di=!1;function $i(e){null===zi?zi=[e]:zi.push(e)}function Wi(){if(!Di&&null!==zi){Di=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Ui=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ve(Xe,Wi),i}finally{bt=t,Di=!1}}return null}var Fi=[],qi=0,Hi=null,Ki=0,Vi=[],Ji=0,Gi=null,Yi=1,Zi="";function Qi(e,t){Fi[qi++]=Ki,Fi[qi++]=Hi,Hi=e,Ki=t}function Xi(e,t,n){Vi[Ji++]=Yi,Vi[Ji++]=Zi,Vi[Ji++]=Gi,Gi=e;var r=Yi;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Zi=s+e}else Yi=1<<s|n<<i|r,Zi=e}function es(e){null!==e.return&&(Qi(e,1),Xi(e,1,0))}function ts(e){for(;e===Hi;)Hi=Fi[--qi],Fi[qi]=null,Ki=Fi[--qi],Fi[qi]=null;for(;e===Gi;)Gi=Vi[--Ji],Vi[Ji]=null,Zi=Vi[--Ji],Vi[Ji]=null,Yi=Vi[--Ji],Vi[Ji]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Yi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Si(null),vs=null,bs=null,ws=null;function ks(){ws=bs=vs=null}function _s(e){var t=ys.current;Ei(ys),e._currentValue=t}function xs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){vs=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===vs)throw Error(s(308));bs=e,vs.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var As=null;function Is(e){null===As?As=[e]:As.push(e)}function Ts(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Is(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cs(e,r)}function Cs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cs(e,n)}return null===(i=r.interleaved)?(t.next=t,Is(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cs(e,n)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Rs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ls(e,t,n,r){var i=e.updateQueue;Ps=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ps=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Ds(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var $s={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Bs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,i))&&(rc(t,e,i,r),Os(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Bs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,i))&&(rc(t,e,i,r),Os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Bs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ms(e,i,r))&&(rc(t,e,r,n),Os(t,e,r))}};function Ws(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function Fs(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=Es(s):(i=Ni(t)?Pi:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=$s,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function qs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$s.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,js(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Es(s):(s=Ni(t)?Pi:Ti.current,i.context=ji(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Ds(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&$s.enqueueReplaceState(i,i.state,null),Ls(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Js(e){return(0,e._init)(e._payload)}function Gs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&Js(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);Vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Vs(t,r)}return null}function g(i,s,a,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=f(i,d,a[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===a.length)return n(i,d),is&&Qi(i,g),c;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(s=o(d,s,g),null===u?c=d:u.sibling=d,u=d);return is&&Qi(i,g),c}for(d=r(i,d);g<a.length;g++)null!==(m=p(d,i,g,a[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),is&&Qi(i,g),c}function m(i,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(i,g),is&&Qi(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return is&&Qi(i,m),u}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach((function(e){return t(i,e)})),is&&Qi(i,m),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===x){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Js(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ks(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===x?((s=Rc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Oc(o.type,o.key,o.props,null,r.mode,l)).ref=Ks(r,s,o),l.return=r,r=l)}return a(r);case _:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(o,r.mode,l)).return=r,r=s}return a(r);case N:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(O(o))return m(r,s,o,l);Vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=zc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Ys=Gs(!0),Zs=Gs(!1),Qs={},Xs=Si(Qs),eo=Si(Qs),to=Si(Qs);function no(e){if(e===Qs)throw Error(s(174));return e}function ro(e,t){switch(Ai(to,t),Ai(eo,e),Ai(Xs,Qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Xs),Ai(Xs,t)}function io(){Ei(Xs),Ei(eo),Ei(to)}function so(e){no(to.current);var t=no(Xs.current),n=le(t,e.type);t!==n&&(Ai(eo,e),Ai(Xs,n))}function oo(e){eo.current===e&&(Ei(Xs),Ei(eo))}var ao=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,go=null,mo=null,yo=null,vo=!1,bo=!1,wo=0,ko=0;function _o(){throw Error(s(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(s(301));o+=1,yo=mo=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(bo)}if(ho.current=oa,t=null!==mo&&null!==mo.next,po=0,yo=mo=go=null,vo=!1,t)throw Error(s(300));return e}function Eo(){var e=0!==wo;return wo=0,e}function Ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?go.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?go.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?go.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,go.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,go.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function No(e,t){var n=go,r=Io(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,qo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Mo.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&po)||Bo(n,t,i)}return i}function Bo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Mo(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Lo(e)}function Oo(e,t,n){return n((function(){Ro(t)&&Lo(e)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Lo(e){var t=Cs(e,1);null!==t&&rc(t,e,1,-1)}function zo(e){var t=Ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,go,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return Io().memoizedState}function $o(e,t,n,r){var i=Ao();go.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Wo(e,t,n,r){var i=Io();r=void 0===r?null:r;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}go.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function Fo(e,t){return $o(8390656,8,e,t)}function qo(e,t){return Wo(2048,8,e,t)}function Ho(e,t){return Wo(4,2,e,t)}function Ko(e,t){return Wo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,4,Vo.bind(null,t,e),n)}function Go(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),go.lanes|=n,Ll|=n,e.baseState=!0),t)}function Xo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function ea(){return Io().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ts(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Is(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ts(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===go||null!==t&&t===go}function ia(e,t){bo=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var oa={readContext:Es,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},aa={readContext:Es,useCallback:function(e,t){return Ao().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,$o(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var n=Ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ao().memoizedState=e},useState:zo,useDebugValue:Go,useDeferredValue:function(e){return Ao().memoizedState=e},useTransition:function(){var e=zo(!1),t=e[0];return e=Xo.bind(null,e[1]),Ao().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=go,i=Ao();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&po)||Bo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Mo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ao(),t=Pl.identifierPrefix;if(is){var n=Zi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Es,useCallback:Yo,useContext:Es,useEffect:qo,useImperativeHandle:Jo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Zo,useReducer:Co,useRef:Do,useState:function(){return Co(To)},useDebugValue:Go,useDeferredValue:function(e){return Qo(Io(),mo.memoizedState,e)},useTransition:function(){return[Co(To)[0],Io().memoizedState]},useMutableSource:jo,useSyncExternalStore:No,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Es,useCallback:Yo,useContext:Es,useEffect:qo,useImperativeHandle:Jo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Zo,useReducer:Po,useRef:Do,useState:function(){return Po(To)},useDebugValue:Go,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Qo(t,mo.memoizedState,e)},useTransition:function(){return[Po(To)[0],Io().memoizedState]},useMutableSource:jo,useSyncExternalStore:No,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),ha(0,t)},n}function ga(e,t,n){(n=Bs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,Ms(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function ka(e,t,n,r){t.child=null===e?Zs(t,null,n,r):Ys(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=So(e,t,n,r,s,i),n=Eo(),null===e||wa?(is&&n&&es(t),t.flags|=1,ka(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function xa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Mc(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Ml,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Ml,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ai(Ml,Bl),Bl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ai(Ml,Bl),Bl|=r;return ka(e,t,i,n),t.child}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var s=Ni(n)?Pi:Ti.current;return s=ji(t,s),Ss(t,i),n=So(e,t,n,r,s,i),r=Eo(),null===e||wa?(is&&r&&es(t),t.flags|=1,ka(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ta(e,t,n,r,i){if(Ni(n)){var s=!0;Ri(t)}else s=!1;if(Ss(t,i),null===t.stateNode)qa(e,t),Fs(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Es(c):c=ji(t,c=Ni(n)?Pi:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&qs(t,o,r,c),Ps=!1;var h=t.memoizedState;o.state=h,Ls(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ci.current||Ps?("function"===typeof u&&(Ds(t,n,u,r),l=t.memoizedState),(a=Ps||Ws(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ns(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ms(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Es(l):l=ji(t,l=Ni(n)?Pi:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&qs(t,o,r,l),Ps=!1,h=t.memoizedState,o.state=h,Ls(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ci.current||Ps?("function"===typeof f&&(Ds(t,n,f,r),p=t.memoizedState),(c=Ps||Ws(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,s,i)}function Ca(e,t,n,r,i,s){Aa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Ha(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,a,s)):ka(e,t,a,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),ro(e,t.containerInfo)}function ja(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ka(e,t,n,r),t.child}var Na,Ba,Ma,Oa,Ra={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),e=Rc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Ra,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Da(e,t,a,r=da(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ys(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Ra,o);if(0===(1&t.mode))return Da(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Da(e,t,a,r=da(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Cs(e,i),rc(r,e,i,-1))}return mc(),Da(e,t,a,r=da(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Vi[Ji++]=Yi,Vi[Ji++]=Zi,Vi[Ji++]=Gi,Yi=e.id,Zi=e.overflow,Gi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Mc(r,a):(a=Rc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Mc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Da(e,t,n,r){return null!==r&&ps(r),Ys(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xs(e.return,t,n)}function Wa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Fa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ka(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,s);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Va(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ja(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Va(t),null;case 1:case 17:return Ni(t.type)&&Bi(),Va(t),null;case 3:return r=t.stateNode,io(),Ei(Ci),Ei(Ti),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ba(e,t),Va(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ma(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Va(t),null}if(e=no(Xs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),X(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=G(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Va(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Xs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Va(t),null;case 13:if(Ei(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Va(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Va(t),null);case 4:return io(),Ba(e,t),null===e&&Wr(t.stateNode.containerInfo),Va(t),null;case 10:return _s(t.type._context),Va(t),null;case 19:if(Ei(ao),null===(o=t.memoizedState))return Va(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Fl&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Va(t),null}else 2*Ze()-o.renderingStartTime>Fl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=ao.current,Ai(ao,r?1&n|2:1&n),t):(Va(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(Va(t),6&t.subtreeFlags&&(t.flags|=8192)):Va(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return Ni(t.type)&&Bi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ci),Ei(Ti),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ao),null;case 4:return io(),null;case 10:return _s(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(){},Ma=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xs.current);var s,o=null;switch(n){case"input":i=G(e,i),r=G(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Za=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Xa=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Za||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Wt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Za&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ec(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Za=(r=Za)||null!==n.memoizedState,fl(e,t,n),Za=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(o,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Ec(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Q(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Ze())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Za=(u=Za)||d,ml(t,e),Za=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Xa=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&gl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Ec(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Xa=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Ya;var c=Za;if(Ya=o,(Za=l)&&!c)for(Xa=i;null!==Xa;)l=(o=Xa).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,Xa=l):xl(i);for(;null!==s;)Xa=s,wl(s,t,n),s=s.sibling;Xa=i,Ya=a,Za=c}kl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xa=s):kl(e)}}function kl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Za)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ms(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&zs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(s(163))}Za||512&t.flags&&sl(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function _l(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function xl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Ec(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Ec(t,o,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Sl,El=Math.ceil,Al=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Cl=0,Pl=null,jl=null,Nl=0,Bl=0,Ml=Si(0),Ol=0,Rl=null,Ll=0,zl=0,Ul=0,Dl=null,$l=null,Wl=0,Fl=1/0,ql=null,Hl=!1,Kl=null,Vl=null,Jl=!1,Gl=null,Yl=0,Zl=0,Ql=null,Xl=-1,ec=0;function tc(){return 0!==(6&Cl)?Ze():-1!==Xl?Xl:Xl=Ze()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Nl?Nl&-Nl:null!==gs.transition?(0===ec&&(ec=gt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Zl)throw Zl=0,Ql=null,Error(s(185));yt(e,n,r),0!==(2&Cl)&&e===Pl||(e===Pl&&(0===(2&Cl)&&(zl|=n),4===Ol&&lc(e,Nl)),ic(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Fl=Ze()+500,Ui&&Wi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Pl?Nl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ui=!0,$i(e)}(cc.bind(null,e)):$i(cc.bind(null,e)),oi((function(){0===(6&Cl)&&Wi()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xl=-1,ec=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cl;Cl|=2;var o=gc();for(Pl===e&&Nl===t||(ql=null,Fl=Ze()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}ks(),Al.current=o,Cl=i,null!==jl?t=0:(Pl=null,Nl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Rl,fc(e,0),lc(e,r),ic(e,Ze()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Rl,fc(e,0),lc(e,r),ic(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,$l,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Wl+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,$l,ql),t);break}_c(e,$l,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,$l,ql),r);break}_c(e,$l,ql);break;default:throw Error(s(329))}}}return ic(e,Ze()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=$l,$l=n,null!==t&&ac(t)),e}function ac(e){null===$l?$l=e:$l.push.apply($l,e)}function lc(e,t){for(t&=~Ul,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cl))throw Error(s(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Ze()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Rl,fc(e,0),lc(e,t),ic(e,Ze()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,$l,ql),ic(e,Ze()),null}function uc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Fl=Ze()+500,Ui&&Wi())}}function dc(e){null!==Gl&&0===Gl.tag&&0===(6&Cl)&&xc();var t=Cl;Cl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Cl=t))&&Wi()}}function hc(){Bl=Ml.current,Ei(Ml)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:io(),Ei(Ci),Ei(Ti),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(ao);break;case 10:_s(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,jl=e=Mc(e.current,null),Nl=Bl=t,Ol=0,Rl=null,Ul=zl=Ll=0,$l=Dl=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}As=null}return e}function pc(e,t){for(;;){var n=jl;try{if(ks(),ho.current=oa,vo){for(var r=go.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(po=0,yo=mo=go=null,bo=!1,wo=0,Il.current=null,null===n||null===n.return){Ol=1,Rl=t,jl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ol&&(Ol=2),null===Dl?Dl=[o]:Dl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Rs(o,pa(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Rs(o,ga(o,l,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(w){t=w,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function gc(){var e=Al.current;return Al.current=oa,null===e?oa:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Pl||0===(268435455&Ll)&&0===(268435455&zl)||lc(Pl,Nl)}function yc(e,t){var n=Cl;Cl|=2;var r=gc();for(Pl===e&&Nl===t||(ql=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(ks(),Cl=n,Al.current=r,null!==jl)throw Error(s(261));return Pl=null,Nl=0,Ol}function vc(){for(;null!==jl;)wc(jl)}function bc(){for(;null!==jl&&!Ge();)wc(jl)}function wc(e){var t=Sl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?kc(e):jl=t,Il.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ja(n,t,Bl)))return void(jl=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Ol=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Ol&&(Ol=5)}function _c(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Gl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Pl&&(jl=Pl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Pc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Cl;Cl|=4,Il.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ms(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(k){Ec(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}g=nl,nl=!1}(e,n),yl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ye(),Cl=l,bt=a,Tl.transition=o}else e.current=n;if(Jl&&(Jl=!1,Gl=e,Yl=i),o=e.pendingLanes,0===o&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ql?Zl++:(Zl=0,Ql=e):Zl=0,Wi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function xc(){if(null!==Gl){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xa=u;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var f=(d=Xa).sibling,p=d.return;if(ol(d),d===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Xa=v;break e}Xa=o.return}}var b=e.current;for(Xa=b;null!==Xa;){var w=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=b;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){Ec(l,l.return,_)}if(l===a){Xa=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Xa=k;break e}Xa=l.return}}if(Cl=i,Wi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Ms(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Ms(t,e=ga(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Nl&n)===n&&(4===Ol||3===Ol&&(130023424&Nl)===Nl&&500>Ze()-Wl?fc(e,0):Ul|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Cs(e,t))&&(yt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ic(e,n)}function Pc(e,t){return Ve(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new jc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Bc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Rc(n.children,i,o,t);case S:a=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case C:return(e=Nc(13,n,t,i)).elementType=C,e.lanes=o,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=o,e;case B:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case I:a=9;break e;case T:a=11;break e;case j:a=14;break e;case N:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=B,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,i,s,o,a,l){return e=new Dc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(s),e}function Wc(e){if(!e)return Ii;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Oi(e,n,t)}return t}function Fc(e,t,n,r,i,s,o,a,l){return(e=$c(n,r,!0,e,0,s,0,a,l)).context=Wc(null),n=e.current,(s=Bs(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ms(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ms(i,t,o))&&(rc(e,i,o,s),Os(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),fs();break;case 5:so(t);break;case 1:Ni(t.type)&&Ri(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(Ai(ao,1&ao.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ai(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Ha(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Xi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=ji(t,Ti.current);Ss(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,js(t),i.updater=$s,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=Ca(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ka(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===j)return 14}return 2}(r),e=ms(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=xa(null,t,r,ms(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ns(e,t),Ls(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ja(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=ja(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Zs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}ka(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Aa(e,t),ka(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return za(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ys(t,null,r,n):ka(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 7:return ka(e,t,t.pendingProps,n),t.child;case 8:case 12:return ka(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ai(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ci.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Bs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xs(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ka(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=Es(i)),t.flags|=1,ka(e,t,r,n),t.child;case 14:return i=ms(r=t.type,t.pendingProps),xa(e,t,r,i=ms(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ms(r,i),qa(e,t),t.tag=1,Ni(r)?(e=!0,Ri(t)):e=!1,Ss(t,n),Fs(t,r,i),Hs(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return Fa(e,t,n);case 22:return Ea(e,t,n)}throw Error(s(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=Fc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,Wr(8===e.nodeType?e.parentNode:e),dc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,Wr(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Ze()),0===(6&Cl)&&(Fl=Ze()+500,Wi()))}break;case 13:dc((function(){var t=Cs(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Vc(e,1)}},_t=function(e){if(13===e.tag){var t=Cs(e,134217728);if(null!==t)rc(t,e,134217728,tc());Vc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Cs(e,t);if(null!==n)rc(n,e,t,tc());Vc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(s(90));V(r),Q(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ce=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ae,Ie,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(s(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Fc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(374));class s extends i.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const s=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=s},745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},765:(e,t,n)=>{"use strict";n.d(t,{deleteAllUserData:()=>a,eg:()=>i,u9:()=>s,xo:()=>o});var r=n(709);const i=async(e,t)=>{try{const{data:n,error:i}=await r.N.from("profiles").update({first_name:t.firstName,last_name:t.lastName,tax_year:t.taxYear,salary:t.salary,stock_income:t.stockIncome,real_estate_income:t.realEstateIncome,dividends:t.dividends,updated_at:new Date}).eq("id",e).select();if(i)throw i;return{success:!0,data:n}}catch(n){return console.error("Error updating user profile:",n),{success:!1,error:n.message}}},s=async e=>{try{const{data:t,error:n}=await r.N.from("wallets").select("*").eq("user_id",e).eq("is_active",!0).order("created_at",{ascending:!1});if(n)throw n;return{success:!0,data:t}}catch(t){return console.error("Error fetching user wallets:",t),{success:!1,error:t.message}}},o=async(e,t)=>{try{const n=t.map((t=>({wallet_id:e,signature:t.signature,block_time:t.blockTime?new Date(1e3*t.blockTime):null,success:"success"===t.status,fee:t.fee||null,transaction_type:t.type||"unknown",amount:t.amount||null,token_symbol:t.token||null,token_address:t.tokenAddress||null,usd_value:t.usdValue||null,source_address:t.sourceWallet||null,destination_address:t.destinationWallet||null,raw_data:t.rawData||{}}))),{data:i,error:s}=await r.N.from("transactions").upsert(n,{onConflict:"signature",ignoreDuplicates:!0}).select();if(s)throw s;return{success:!0,data:i}}catch(n){return console.error("Error saving transactions:",n),{success:!1,error:n.message}}},a=async e=>{try{const{data:t,error:n}=await r.N.from("wallets").select("id").eq("user_id",e);if(n)throw n;if(t&&t.length>0){const e=t.map((e=>e.id)),{error:n}=await r.N.from("transactions").delete().in("wallet_id",e);if(n)throw n}const{error:i}=await r.N.from("wallets").delete().eq("user_id",e);if(i)throw i;const{error:s}=await r.N.from("profiles").update({first_name:null,last_name:null,salary:0,stock_income:0,real_estate_income:0,dividends:0,updated_at:new Date}).eq("id",e);if(s)throw s;return{success:!0,message:"All user data deleted successfully"}}catch(t){return console.error("Error deleting user data:",t),{success:!1,error:t.message}}}},790:()=>{},829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:i}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let s=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e))).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new i.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},861:(e,t,n)=>{"use strict";const r=n(92).v4,i=n(656),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:"undefined"!==typeof t.reviver?t.reviver:null,replacer:"undefined"!==typeof t.replacer?t.replacer:null,generator:"undefined"!==typeof t.generator?t.generator:function(){return r()},version:"undefined"!==typeof t.version?t.version:2,notificationIdNull:"boolean"===typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=s,s.prototype.request=function(e,t,n,r){const s=this;let o=null;const a=Array.isArray(e)&&"function"===typeof t;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"===typeof e&&"function"===typeof t)r=t,o=e;else{"function"===typeof n&&(r=n,n=void 0);const s="function"===typeof r;try{o=i(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(s)return r(c);throw c}if(!s)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,(function(e,t){s._parseResponse(e,t,r)})),o},s.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(e){return n(e)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return"undefined"!==typeof e.error},t=function(t){return!e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r)}},900:(e,t)=>{t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=c}return(f?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,l,c=8*s-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+f]=255&o,f+=p,o/=256,c-=8);e[n+f-p]|=128*g}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},966:(e,t,n)=>{var r=n(382),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const i=r(n(210));t.PostgrestClient=i.default;const s=r(n(829));t.PostgrestQueryBuilder=s.default;const o=r(n(736));t.PostgrestFilterBuilder=o.default;const a=r(n(374));t.PostgrestTransformBuilder=a.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{198:"42e80f30",488:"a4bba71b"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="crypto-tax-app:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkcrypto_tax_app=self.webpackChunkcrypto_tax_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{aK:()=>zt,e8:()=>_t,DO:()=>kt,dJ:()=>Ut,OG:()=>Dt,My:()=>St,Ph:()=>Pt,lX:()=>jt,Id:()=>Ot,fg:()=>Ft,qj:()=>Mt,aT:()=>Ct,r4:()=>Lt,aY:()=>wt,x:()=>Kt,lq:()=>Nt,z:()=>Bt,zW:()=>Et,Q5:()=>Ht});var t,r,i=n(43),s=n.t(i,2),o=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}(r=t||(t={})).Pop="POP",r.Push="PUSH",r.Replace="REPLACE";const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=t.Pop,h=null,m=y();function y(){return(a.state||{idx:null}).idx}function v(){l=t.Pop;let e=y(),n=null==e?null:e-m;m=e,h&&h({action:l,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,a.replaceState(c({},a.state,{idx:m}),""));let w={get action(){return l},get location(){return e(s,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(u,v),h=e,()=>{s.removeEventListener(u,v),h=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){l=t.Push;let i=p(w.location,e,n);r&&r(i,e),m=y()+1;let c=f(i,m),u=w.createHref(i);try{a.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}o&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,n){l=t.Replace;let i=p(w.location,e,n);r&&r(i,e),m=y();let s=f(i,m),c=w.createHref(i);a.replaceState(s,"",c),o&&h&&h({action:l,location:w.location,delta:0})},go:e=>a.go(e)};return w}var v,b;(b=v||(v={})).data="data",b.deferred="deferred",b.redirect="redirect",b.error="error";new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){void 0===n&&(n="/");let r=M(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=k(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=B(r);s=j(i[o],e)}return s}function k(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=U([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),k(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:P(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=_(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,S=3,E=2,A=1,I=10,T=-2,C=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=T),t&&(r+=E),n.filter((e=>!C(e))).reduce(((e,t)=>e+(x.test(t)?S:""===t?A:I)),r)}function j(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:U([i,c.pathname]),pathnameBase:D(U([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=U([i,c.pathnameBase]))}return s}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function B(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=R(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function z(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),d(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:$(r),hash:W(i)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const V=i.createContext(null);const J=i.createContext(null);const G=i.createContext(null);const Y=i.createContext(null);const Z=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=i.createContext(null);function X(){return null!=i.useContext(Y)}function ee(){return X()||d(!1),i.useContext(Y).location}function te(e){i.useContext(G).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(Z);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);return te((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))}),[e,t])}():function(){X()||d(!1);let e=i.useContext(V),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:s}=i.useContext(Z),{pathname:o}=ee(),a=JSON.stringify(L(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return te((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=z(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e])}()}function re(e,n,r,s){X()||d(!1);let{navigator:o}=i.useContext(G),{matches:a}=i.useContext(Z),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(n){var p;let e="string"===typeof n?m(n):n;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=w(e,{pathname:y});let b=le(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:U([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,s);return n&&b?i.createElement(Y.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},b):b}function ie(){let e=function(){var e;let t=i.useContext(Q),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Z.Provider,{value:this.props.routeContext},i.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(V);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Z.Provider,{value:t},r)}function le(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,d=!1,h=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,c&&(u<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,s+1)),m=()=>{let t;return t=o?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=i.useContext(V);return t||d(!1),t}function he(e){let t=i.useContext(J);return t||d(!1),t}function fe(e){let t=function(){let e=i.useContext(Z);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const pe={};s.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:s}=e;X()||d(!1);let{future:o,static:a}=i.useContext(G),{matches:l}=i.useContext(Z),{pathname:c}=ee(),u=ne(),h=z(t,L(l,o.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(h);return i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:s})),[u,f,s,n,r]),null}function me(e){d(!1)}function ye(e){let{basename:n="/",children:r=null,location:s,navigationType:o=t.Pop,navigator:a,static:l=!1,future:c}=e;X()&&d(!1);let u=n.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:a,static:l,future:K({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=s,b=i.useMemo((()=>{let e=M(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:o}}),[u,f,p,g,y,v,o]);return null==b?null:i.createElement(G.Provider,{value:h},i.createElement(Y.Provider,{children:r,value:b}))}function ve(e){let{children:t,location:n}=e;return re(be(t),n)}new Promise((()=>{}));i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,s));e.type!==me&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,s)),n.push(o)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(_c){}new Map;const we=s.startTransition;l.flushSync,s.useId;function ke(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),y((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&we?we((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var _e,xe,Se,Ee;(xe=_e||(_e={})).UseScrollRestoration="useScrollRestoration",xe.UseSubmit="useSubmit",xe.UseSubmitFetcher="useSubmitFetcher",xe.UseFetcher="useFetcher",xe.useViewTransitionState="useViewTransitionState",(Ee=Se||(Se={})).UseFetcher="useFetcher",Ee.UseFetchers="useFetchers",Ee.UseScrollRestoration="useScrollRestoration";var Ae=n(709),Ie=n(579);const Te=(0,i.createContext)(),Ce=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null),d=ne(),h=async e=>{try{const{data:t,error:n}=await Ae.N.from("profiles").select("*").eq("id",e).single();if(n)throw n;return u(t),t}catch(t){return console.error("Error fetching profile:",t),null}};(0,i.useEffect)((()=>{(async()=>{var e;const{data:{session:t},error:n}=await Ae.N.auth.getSession();n&&console.error("Error fetching session:",n),o(t),r(null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:null),null!==t&&void 0!==t&&t.user&&await h(t.user.id),l(!1)})();const{data:{subscription:e}}=Ae.N.auth.onAuthStateChange((async(e,t)=>{var n;o(t),r(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null),null!==t&&void 0!==t&&t.user?await h(t.user.id):u(null),l(!1)}));return()=>e.unsubscribe()}),[]);const f={user:n,session:s,loading:a,userProfile:c,fetchUserProfile:h,signUp:async(e,t)=>{try{const{data:n,error:r}=await Ae.N.auth.signUp({email:e,password:t});if(r)throw r;if(null!==n&&void 0!==n&&n.user){const{error:e}=await Ae.N.from("profiles").insert([{id:n.user.id,first_name:"",last_name:"",created_at:(new Date).toISOString(),is_new_user:!0}]);e&&console.error("Error creating profile:",e)}return{success:!0}}catch(n){return{success:!1,error:n.message}}},signIn:async(e,t)=>{try{const{error:n}=await Ae.N.auth.signInWithPassword({email:e,password:t});if(n)throw n;return{success:!0}}catch(n){return{success:!1,error:n.message}}},signOut:async()=>{try{const{error:e}=await Ae.N.auth.signOut();if(e)throw e;return r(null),o(null),localStorage.clear(),d("/",{replace:!0}),{success:!0}}catch(e){return console.error("Error signing out:",e),{success:!1,error:e.message}}},resetPassword:async e=>{try{const{error:t}=await Ae.N.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/reset-password"});if(t)throw t;return{success:!0}}catch(t){return{success:!1,error:t.message}}},updatePassword:async e=>{try{const{error:t}=await Ae.N.auth.updateUser({password:e});if(t)throw t;return{success:!0}}catch(t){return{success:!1,error:t.message}}}};return(0,Ie.jsx)(Te.Provider,{value:f,children:t})},Pe=()=>{const e=(0,i.useContext)(Te);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},je=e=>{let{className:t="",size:n="default"}=e;return(0,Ie.jsxs)("div",{className:`flex items-center ${t}`,children:[(0,Ie.jsxs)("div",{className:`font-bold ${{small:"text-xl",default:"text-2xl",large:"text-3xl"}[n]} text-blue-500`,children:[(0,Ie.jsx)("span",{className:"font-extrabold",children:"Crypto"}),(0,Ie.jsx)("span",{className:"font-black",children:"Tax"})]}),(0,Ie.jsx)("div",{className:"ml-1",children:(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-blue-500",children:[(0,Ie.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ie.jsx)("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})},Ne=e=>{let{onSuccess:t}=e;const[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(!1),{signIn:y,signUp:v,resetPassword:b}=Pe(),w=()=>{m(!g),h(""),p("")};return(0,Ie.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-geist-accent-100 to-white dark:from-geist-background dark:to-geist-accent-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Ie.jsxs)("div",{className:"max-w-md w-full",children:[(0,Ie.jsxs)("div",{className:"text-center mb-10",children:[(0,Ie.jsx)("div",{className:"flex justify-center mb-6",children:(0,Ie.jsx)(je,{size:"large"})}),(0,Ie.jsx)("h2",{className:"text-2xl font-extrabold text-geist-accent-900 dark:text-geist-foreground",children:g?"Reset Password":a?"Create an account":"Sign in to your account"}),(0,Ie.jsxs)("p",{className:"mt-2 text-sm text-geist-accent-600 dark:text-geist-accent-300",children:[g?"Enter your email and we'll send you a reset link":a?"Already have an account? ":"Don't have an account? ",!g&&(0,Ie.jsx)("button",{onClick:()=>{l(!a),h(""),p(""),m(!1)},className:"font-medium text-geist-success hover:text-geist-success-dark",children:a?"Sign in":"Create one"})]})]}),d&&(0,Ie.jsx)("div",{className:"mb-4 p-3 bg-rose-100 text-rose-700 dark:bg-rose-900 dark:text-rose-200 rounded-lg text-sm",children:d}),f&&(0,Ie.jsx)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200 rounded-lg text-sm",children:f}),(0,Ie.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault(),u(!0),h(""),p("");try{if(g){const{success:e,error:t}=await b(n);e?p("Password reset email sent! Check your inbox."):h(t||"Failed to send reset email. Please try again.")}else if(a){const{success:e,error:t}=await v(n,s);e?p("Registration successful! Check your email to confirm your account."):h(t||"Failed to register. Please try again.")}else{const{success:e,error:r}=await y(n,s);e?t&&t():h(r||"Failed to login. Please check your credentials.")}}catch(r){h(r.message||"An unexpected error occurred.")}finally{u(!1)}},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-geist-accent-700 dark:text-geist-accent-300",children:"Email address"}),(0,Ie.jsx)("div",{className:"mt-1",children:(0,Ie.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:e=>r(e.target.value),className:"input w-full",placeholder:"you@example.com"})})]}),!g&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-geist-accent-700 dark:text-geist-accent-300",children:"Password"}),(0,Ie.jsx)("div",{className:"mt-1",children:(0,Ie.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:a?"new-password":"current-password",required:!0,value:s,onChange:e=>o(e.target.value),className:"input w-full",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})})]}),!a&&!g&&(0,Ie.jsx)("div",{className:"flex items-center justify-end",children:(0,Ie.jsx)("button",{type:"button",onClick:w,className:"text-sm font-medium text-geist-success hover:text-geist-success-dark",children:"Forgot your password?"})}),(0,Ie.jsx)("div",{children:(0,Ie.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-gradient-to-r from-geist-success to-blue-500 hover:from-geist-success hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-geist-success disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:c?(0,Ie.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ie.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ie.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ie.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):g?"Send reset link":a?"Create account":"Sign in"})}),g&&(0,Ie.jsx)("div",{className:"text-center",children:(0,Ie.jsx)("button",{type:"button",onClick:w,className:"text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 hover:text-geist-accent-900 dark:hover:text-geist-foreground",children:"Back to login"})})]})]})})},Be=e=>{let{onGetStarted:t}=e;return(0,Ie.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-geist-accent-100 to-white dark:from-geist-background dark:to-geist-accent-800",children:(0,Ie.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ie.jsx)("nav",{className:"py-6",children:(0,Ie.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ie.jsx)(je,{size:"default"}),(0,Ie.jsx)("button",{onClick:t,className:"text-geist-accent-600 dark:text-geist-accent-300 hover:text-geist-accent-900 dark:hover:text-geist-foreground transition-colors font-medium",children:"Login"})]})}),(0,Ie.jsxs)("div",{className:"py-16 md:py-24 text-center",children:[(0,Ie.jsxs)("div",{className:"max-w-4xl mx-auto relative",children:[(0,Ie.jsx)("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-geist-success bg-opacity-10 rounded-full blur-3xl dark:bg-opacity-20"}),(0,Ie.jsx)("div",{className:"absolute -bottom-20 -right-20 w-64 h-64 bg-blue-500 bg-opacity-10 rounded-full blur-3xl dark:bg-opacity-20"}),(0,Ie.jsx)("h1",{className:"text-5xl md:text-6xl font-bold mb-6 relative animate-fade-in",children:(0,Ie.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-geist-success to-blue-500 dark:from-blue-400 dark:to-green-300",children:"Crypto Tax Simplified"})}),(0,Ie.jsx)("p",{className:"text-xl text-geist-accent-600 dark:text-geist-accent-300 mb-12 leading-relaxed max-w-3xl mx-auto animate-fade-in-delay",children:"Harness the power of AI to automatically track, calculate, and file your crypto taxes. No more spreadsheets, no more confusion."}),(0,Ie.jsx)("button",{onClick:t,className:"px-8 py-4 bg-gradient-to-r from-geist-success to-blue-500 hover:from-geist-success hover:to-blue-600 text-white rounded-xl text-lg font-semibold shadow-lg hover:shadow-xl transform transition-all duration-300 hover:-translate-y-1 animate-fade-in-delay-2",children:"Get Started Free"})]}),(0,Ie.jsxs)("div",{className:"mt-24 md:mt-32 grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Ie.jsxs)("div",{className:"p-8 bg-white dark:bg-geist-accent-800 rounded-2xl shadow-md border border-geist-accent-200 dark:border-geist-accent-700 hover:shadow-xl transition-all duration-300 group hover:-translate-y-2 animate-fade-in",children:[(0,Ie.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900 dark:to-green-800 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-md",children:(0,Ie.jsx)("span",{className:"text-3xl",children:"\ud83d\udcca"})}),(0,Ie.jsx)("h3",{className:"text-xl font-semibold mb-3 text-geist-accent-900 dark:text-geist-foreground",children:"Smart Analysis"}),(0,Ie.jsx)("p",{className:"text-geist-accent-600 dark:text-geist-accent-300 leading-relaxed",children:"Our AI automatically categorizes and analyzes your crypto transactions across multiple chains and exchanges"})]}),(0,Ie.jsxs)("div",{className:"p-8 bg-white dark:bg-geist-accent-800 rounded-2xl shadow-md border border-geist-accent-200 dark:border-geist-accent-700 hover:shadow-xl transition-all duration-300 group hover:-translate-y-2 animate-fade-in-delay",children:[(0,Ie.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900 dark:to-blue-800 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-md",children:(0,Ie.jsx)("span",{className:"text-3xl",children:"\ud83d\udcb0"})}),(0,Ie.jsx)("h3",{className:"text-xl font-semibold mb-3 text-geist-accent-900 dark:text-geist-foreground",children:"Real-Time Calculations"}),(0,Ie.jsx)("p",{className:"text-geist-accent-600 dark:text-geist-accent-300 leading-relaxed",children:"Get instant tax estimates and insights as you trade, with support for DEX interactions and token transactions"})]}),(0,Ie.jsxs)("div",{className:"p-8 bg-white dark:bg-geist-accent-800 rounded-2xl shadow-md border border-geist-accent-200 dark:border-geist-accent-700 hover:shadow-xl transition-all duration-300 group hover:-translate-y-2 animate-fade-in-delay-2",children:[(0,Ie.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-100 to-purple-200 dark:from-purple-900 dark:to-purple-800 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-md",children:(0,Ie.jsx)("span",{className:"text-3xl",children:"\ud83d\udcc4"})}),(0,Ie.jsx)("h3",{className:"text-xl font-semibold mb-3 text-geist-accent-900 dark:text-geist-foreground",children:"Auto-Generated Forms"}),(0,Ie.jsx)("p",{className:"text-geist-accent-600 dark:text-geist-accent-300 leading-relaxed",children:"Download ready-to-file tax forms with one click, compatible with all major tax reporting software"})]})]}),(0,Ie.jsx)("div",{className:"mt-24 bg-white dark:bg-geist-accent-800 rounded-2xl shadow-lg p-8 border border-geist-accent-200 dark:border-geist-accent-700 animate-fade-in-delay-3",children:(0,Ie.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,Ie.jsx)("h3",{className:"text-2xl font-bold mb-6 text-geist-accent-900 dark:text-geist-foreground",children:"What Our Users Say"}),(0,Ie.jsx)("div",{className:"italic text-lg text-geist-accent-600 dark:text-geist-accent-300 mb-6",children:'"CryptoTax saved me hours of work and helped me identify transactions I would have missed. The token tracking is incredible!"'}),(0,Ie.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-geist-accent-200 dark:bg-geist-accent-700 rounded-full flex items-center justify-center mr-4",children:(0,Ie.jsx)("span",{className:"text-geist-accent-900 dark:text-geist-accent-100 font-semibold",children:"JS"})}),(0,Ie.jsxs)("div",{className:"text-left",children:[(0,Ie.jsx)("p",{className:"font-medium text-geist-accent-900 dark:text-geist-foreground",children:"Jamie Smith"}),(0,Ie.jsx)("p",{className:"text-sm text-geist-accent-500",children:"Solana DeFi Trader"})]})]})]})})]})]})})};var Me=n(765);const Oe=e=>{let{formData:t,setFormData:n,handleInputChange:r,goBackToDashboard:s}=e;const{user:o,userProfile:a,fetchUserProfile:l}=Pe(),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(t);(0,i.useEffect)((()=>{a&&h((e=>({...e,firstName:a.first_name||"",lastName:a.last_name||""})))}),[a]);const f=e=>{const{name:t,value:n}=e.target;h((e=>({...e,[t]:n})))};return(0,Ie.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ie.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-geist-accent-900 dark:text-geist-foreground",children:"My Account"}),(0,Ie.jsx)("div",{className:"flex space-x-4",children:c?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("button",{onClick:()=>{h(t),u(!1)},className:"px-4 py-2 text-geist-accent-600 dark:text-geist-accent-300 hover:text-geist-accent-900 dark:hover:text-geist-foreground",children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{try{console.log("Attempting to save with data:",{user_id:o.id,first_name:d.firstName,last_name:d.lastName});const{success:e,error:t}=await(0,Me.eg)(o.id,{firstName:d.firstName,lastName:d.lastName});if(!e)throw t||new Error("Failed to update profile");await l(o.id),n((e=>({...e,firstName:d.firstName,lastName:d.lastName}))),u(!1)}catch(e){console.error("Error saving profile:",e),alert("Failed to save changes. Please try again.")}},className:"px-4 py-2 bg-geist-success text-white rounded-xl font-medium hover:bg-opacity-90 transition-all",children:"Save Changes"})]}):(0,Ie.jsxs)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-geist-accent-100 dark:bg-geist-accent-800 text-geist-accent-900 dark:text-geist-foreground rounded-xl font-medium hover:bg-opacity-90 transition-all flex items-center",children:[(0,Ie.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit Profile"]})})]}),(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{className:"bg-white dark:bg-geist-accent-800 rounded-2xl border border-geist-accent-200 dark:border-geist-accent-700 p-6",children:[(0,Ie.jsx)("h2",{className:"text-xl font-semibold text-geist-accent-900 dark:text-geist-foreground mb-6",children:"Personal Information"}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"First Name"}),(0,Ie.jsx)("input",{type:"text",name:"firstName",value:c?d.firstName:t.firstName,onChange:f,disabled:!c,className:"block w-full px-4 py-3 bg-white dark:bg-geist-accent-800 border border-geist-accent-200 dark:border-geist-accent-600 rounded-xl focus:ring-geist-success focus:border-geist-success disabled:opacity-60 disabled:cursor-not-allowed transition-colors",placeholder:"Enter your first name"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"Last Name"}),(0,Ie.jsx)("input",{type:"text",name:"lastName",value:c?d.lastName:t.lastName,onChange:f,disabled:!c,className:"block w-full px-4 py-3 bg-white dark:bg-geist-accent-800 border border-geist-accent-200 dark:border-geist-accent-600 rounded-xl focus:ring-geist-success focus:border-geist-success disabled:opacity-60 disabled:cursor-not-allowed transition-colors",placeholder:"Enter your last name"})]}),(0,Ie.jsxs)("div",{className:"md:col-span-2",children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"Email Address"}),(0,Ie.jsx)("input",{type:"email",value:(null===o||void 0===o?void 0:o.email)||"",disabled:!0,className:"block w-full px-4 py-3 bg-geist-accent-50 dark:bg-geist-accent-900 border border-geist-accent-200 dark:border-geist-accent-700 rounded-xl text-geist-accent-500 dark:text-geist-accent-400 cursor-not-allowed"})]})]})]}),(0,Ie.jsxs)("div",{className:"bg-white dark:bg-geist-accent-800 rounded-2xl border border-geist-accent-200 dark:border-geist-accent-700 p-6",children:[(0,Ie.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Ie.jsx)("h2",{className:"text-xl font-semibold text-geist-accent-900 dark:text-geist-foreground",children:"Non-Crypto Income"}),(0,Ie.jsx)("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-sm rounded-full",children:"Coming Soon"})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 opacity-60",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"Salary Income"}),(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-geist-accent-500",children:"$"}),(0,Ie.jsx)("input",{type:"number",name:"salary",value:t.salary,disabled:!0,className:"block w-full pl-8 pr-4 py-3 bg-geist-accent-50 dark:bg-geist-accent-900 border border-geist-accent-200 dark:border-geist-accent-700 rounded-xl cursor-not-allowed",placeholder:"0.00"})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"Stock Trading Income"}),(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-geist-accent-500",children:"$"}),(0,Ie.jsx)("input",{type:"number",name:"stockIncome",value:t.stockIncome,disabled:!0,className:"block w-full pl-8 pr-4 py-3 bg-geist-accent-50 dark:bg-geist-accent-900 border border-geist-accent-200 dark:border-geist-accent-700 rounded-xl cursor-not-allowed",placeholder:"0.00"})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"Real Estate Income"}),(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-geist-accent-500",children:"$"}),(0,Ie.jsx)("input",{type:"number",name:"realEstateIncome",value:t.realEstateIncome,disabled:!0,className:"block w-full pl-8 pr-4 py-3 bg-geist-accent-50 dark:bg-geist-accent-900 border border-geist-accent-200 dark:border-geist-accent-700 rounded-xl cursor-not-allowed",placeholder:"0.00"})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"Dividend Income"}),(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-geist-accent-500",children:"$"}),(0,Ie.jsx)("input",{type:"number",name:"dividends",value:t.dividends,disabled:!0,className:"block w-full pl-8 pr-4 py-3 bg-geist-accent-50 dark:bg-geist-accent-900 border border-geist-accent-200 dark:border-geist-accent-700 rounded-xl cursor-not-allowed",placeholder:"0.00"})]})]})]})]})]})]})},Re=e=>{let{toggleUserInfoPage:t,currentPage:n="dashboard",onNavigate:r}=e;const{user:i,userProfile:s,signOut:o}=Pe(),a=ne(),l=()=>null!==s&&void 0!==s&&s.first_name&&null!==s&&void 0!==s&&s.last_name?`${s.first_name} ${s.last_name}`:null!==s&&void 0!==s&&s.first_name?s.first_name:(null===i||void 0===i?void 0:i.email)||"User",c=e=>{"function"===typeof r&&r(e)};return(0,Ie.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Ie.jsxs)("div",{className:"p-4 border-b border-geist-accent-200 dark:border-geist-accent-700 flex items-center space-x-3",children:[(0,Ie.jsx)("div",{className:"w-10 h-10 rounded-full bg-geist-accent-300 dark:bg-geist-accent-700 flex items-center justify-center text-geist-accent-800 dark:text-geist-accent-100 font-semibold",children:l().charAt(0).toUpperCase()}),(0,Ie.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ie.jsx)("p",{className:"text-sm font-medium text-geist-accent-900 dark:text-geist-foreground truncate",children:l()}),(0,Ie.jsx)("p",{className:"text-xs text-geist-accent-500 dark:text-geist-accent-400 truncate",children:null===i||void 0===i?void 0:i.email})]})]}),(0,Ie.jsxs)("nav",{className:"flex-1 px-2 py-4 space-y-1",children:[(0,Ie.jsxs)("button",{onClick:()=>c("dashboard"),className:`w-full text-left px-3 py-2 rounded-lg flex items-center space-x-3 ${"dashboard"===n?"bg-geist-accent-100 text-geist-accent-900 dark:bg-geist-accent-800 dark:text-white":"text-geist-accent-700 dark:text-geist-accent-300 hover:bg-geist-accent-100 dark:hover:bg-geist-accent-800"} transition-colors`,children:[(0,Ie.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,Ie.jsx)("span",{children:"Dashboard"})]}),(0,Ie.jsxs)("button",{onClick:()=>c("wallets"),className:`w-full text-left px-3 py-2 rounded-lg flex items-center space-x-3 ${"wallets"===n?"bg-geist-accent-100 text-geist-accent-900 dark:bg-geist-accent-800 dark:text-white":"text-geist-accent-700 dark:text-geist-accent-300 hover:bg-geist-accent-100 dark:hover:bg-geist-accent-800"} transition-colors`,children:[(0,Ie.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,Ie.jsx)("span",{children:"Wallets"})]}),(0,Ie.jsxs)("button",{onClick:()=>c("account"),className:`w-full text-left px-3 py-2 rounded-lg flex items-center space-x-3 ${"account"===n?"bg-geist-accent-100 text-geist-accent-900 dark:bg-geist-accent-800 dark:text-white":"text-geist-accent-700 dark:text-geist-accent-300 hover:bg-geist-accent-100 dark:hover:bg-geist-accent-800"} transition-colors`,children:[(0,Ie.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Ie.jsx)("span",{children:"Account"})]})]}),(0,Ie.jsx)("div",{className:"sticky bottom-0 left-0 right-0 p-4 mt-auto bg-white dark:bg-geist-accent-800 border-t border-geist-accent-200 dark:border-geist-accent-700",children:(0,Ie.jsxs)("button",{onClick:async()=>{try{await o(),a("/")}catch(e){console.error("Error signing out:",e)}},className:"w-full text-left px-3 py-2 rounded-lg flex items-center space-x-3 text-geist-accent-700 dark:text-geist-accent-300 hover:bg-geist-accent-100 dark:hover:bg-geist-accent-800 transition-colors",children:[(0,Ie.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,Ie.jsx)("span",{children:"Sign Out"})]})})]})},Le=()=>{const[e,t]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{document.documentElement.classList.add("dark")}),[]),(0,i.useEffect)((()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[e]),(0,Ie.jsx)("button",{onClick:()=>t(!e),className:"fixed top-4 right-4 p-2 rounded-lg bg-geist-accent-200 dark:bg-geist-accent-700 hover:opacity-90 transition-all",children:e?"\ud83c\udf1e":"\ud83c\udf19"})},ze=e=>{let{children:t,toggleUserInfoPage:n,currentPage:r="dashboard",userProfile:s,onNavigate:o}=e;const[a,l]=(0,i.useState)(!1),c=()=>{l(!a)};return(0,Ie.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-geist-accent-100 to-white dark:from-geist-background dark:to-geist-accent-800",children:[(0,Ie.jsx)(Le,{}),(0,Ie.jsx)("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-white dark:bg-geist-accent-800 border-b border-geist-accent-200 dark:border-geist-accent-700 z-50",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between px-4 h-full",children:[(0,Ie.jsx)(je,{size:"small"}),(0,Ie.jsx)("button",{onClick:c,className:"p-2 rounded-lg hover:bg-geist-accent-100 dark:hover:bg-geist-accent-700",children:(0,Ie.jsx)("svg",{className:"w-6 h-6 text-geist-accent-900 dark:text-geist-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a?(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),(0,Ie.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300 "+(a?"opacity-100":"opacity-0 pointer-events-none"),onClick:c,children:(0,Ie.jsxs)("div",{className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-geist-accent-800 transform transition-transform duration-300 ease-in-out "+(a?"translate-x-0":"-translate-x-full"),onClick:e=>e.stopPropagation(),children:[(0,Ie.jsx)("div",{className:"h-16 border-b border-geist-accent-200 dark:border-geist-accent-700 flex items-center px-6",children:(0,Ie.jsx)(je,{size:"small"})}),(0,Ie.jsx)(Re,{toggleUserInfoPage:n,currentPage:r,onNavigate:e=>{o(e),l(!1)}})]})}),(0,Ie.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:flex lg:w-64 lg:flex-col",children:(0,Ie.jsxs)("div",{className:"flex flex-col flex-grow bg-white dark:bg-geist-accent-800 border-r border-geist-accent-200 dark:border-geist-accent-700",children:[(0,Ie.jsx)("div",{className:"p-6 border-b border-geist-accent-200 dark:border-geist-accent-700",children:(0,Ie.jsx)(je,{size:"default"})}),(0,Ie.jsx)(Re,{toggleUserInfoPage:n,currentPage:r,onNavigate:o})]})}),(0,Ie.jsx)("div",{className:"lg:pl-64 pt-16 lg:pt-0",children:(0,Ie.jsx)("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:t})})]})};var Ue=n(382);function De(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function $e(e){if(!((t=e)instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function We(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Fe(e,t){$e(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const qe="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function He(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ke(e,t){return e<<32-t|e>>>t}const Ve=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function Je(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Ge(e){for(let t=0;t<e.length;t++)e[t]=Je(e[t])}function Ye(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),$e(e),e}class Ze{clone(){return this._cloneInto()}}function Qe(e){const t=t=>e().update(Ye(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(qe&&"function"===typeof qe.getRandomValues)return qe.getRandomValues(new Uint8Array(e));if(qe&&"function"===typeof qe.randomBytes)return qe.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function et(e,t,n){return e&t^e&n^t&n}class tt extends Ze{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=He(this.buffer)}update(e){We(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Ye(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=He(e);for(;r<=i-s;s+=r)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){We(this),Fe(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=He(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)o.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const nt=BigInt(2**32-1),rt=BigInt(32);function it(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&nt),l:Number(e>>rt&nt)}:{h:0|Number(e>>rt&nt),l:0|Number(e&nt)}}function st(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=it(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const ot=(e,t,n)=>e<<n|t>>>32-n,at=(e,t,n)=>t<<n|e>>>32-n,lt=(e,t,n)=>t<<n-32|e>>>64-n,ct=(e,t,n)=>e<<n-32|t>>>64-n;const ut={fromBig:it,split:st,toBig:(e,t)=>BigInt(e>>>0)<<rt|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:ot,rotlSL:at,rotlBH:lt,rotlBL:ct,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[dt,ht]=(()=>ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),ft=new Uint32Array(80),pt=new Uint32Array(80);class gt extends tt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,l,c,u,d,h,f,p,g]}set(e,t,n,r,i,s,o,a,l,c,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let v=0;v<16;v++,t+=4)ft[v]=e.getUint32(t),pt[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|ft[v-15],t=0|pt[v-15],n=ut.rotrSH(e,t,1)^ut.rotrSH(e,t,8)^ut.shrSH(e,t,7),r=ut.rotrSL(e,t,1)^ut.rotrSL(e,t,8)^ut.shrSL(e,t,7),i=0|ft[v-2],s=0|pt[v-2],o=ut.rotrSH(i,s,19)^ut.rotrBH(i,s,61)^ut.shrSH(i,s,6),a=ut.rotrSL(i,s,19)^ut.rotrBL(i,s,61)^ut.shrSL(i,s,6),l=ut.add4L(r,a,pt[v-7],pt[v-16]),c=ut.add4H(l,n,o,ft[v-7],ft[v-16]);ft[v]=0|c,pt[v]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let v=0;v<80;v++){const e=ut.rotrSH(u,d,14)^ut.rotrSH(u,d,18)^ut.rotrBH(u,d,41),t=ut.rotrSL(u,d,14)^ut.rotrSL(u,d,18)^ut.rotrBL(u,d,41),b=u&h^~u&p,w=d&f^~d&g,k=ut.add5L(y,t,w,ht[v],pt[v]),_=ut.add5H(k,m,e,b,dt[v],ft[v]),x=0|k,S=ut.rotrSH(n,r,28)^ut.rotrBH(n,r,34)^ut.rotrBH(n,r,39),E=ut.rotrSL(n,r,28)^ut.rotrBL(n,r,34)^ut.rotrBL(n,r,39),A=n&i^n&o^i&o,I=r&s^r&a^s&a;m=0|p,y=0|g,p=0|h,g=0|f,h=0|u,f=0|d,({h:u,l:d}=ut.add(0|l,0|c,0|_,0|x)),l=0|o,c=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const T=ut.add3L(x,E,I);n=ut.add3H(T,_,S,A),r=0|T}({h:n,l:r}=ut.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=ut.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=ut.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:c}=ut.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=ut.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=ut.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=ut.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=ut.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,s,o,a,l,c,u,d,h,f,p,g,m,y)}roundClean(){ft.fill(0),pt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const mt=Qe((()=>new gt)),yt=BigInt(0),vt=BigInt(1),bt=BigInt(2);function wt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function kt(e){if(!wt(e))throw new Error("Uint8Array expected")}function _t(e,t){if("boolean"!==typeof t)throw new Error(e+" boolean expected, got "+t)}const xt=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function St(e){kt(e);let t="";for(let n=0;n<e.length;n++)t+=xt[e[n]];return t}function Et(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function At(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?yt:BigInt("0x"+e)}const It={_0:48,_9:57,A:65,F:70,a:97,f:102};function Tt(e){return e>=It._0&&e<=It._9?e-It._0:e>=It.A&&e<=It.F?e-(It.A-10):e>=It.a&&e<=It.f?e-(It.a-10):void 0}function Ct(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=Tt(e.charCodeAt(s)),n=Tt(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Pt(e){return At(St(e))}function jt(e){return kt(e),At(St(Uint8Array.from(e).reverse()))}function Nt(e,t){return Ct(e.toString(16).padStart(2*t,"0"))}function Bt(e,t){return Nt(e,t).reverse()}function Mt(e,t,n){let r;if("string"===typeof t)try{r=Ct(t)}catch(_c){throw new Error(e+" must be hex string or Uint8Array, cause: "+_c)}else{if(!wt(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Ot(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];kt(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const Rt=e=>"bigint"===typeof e&&yt<=e;function Lt(e,t,n){return Rt(e)&&Rt(t)&&Rt(n)&&t<=e&&e<n}function zt(e,t,n,r){if(!Lt(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Ut(e){let t;for(t=0;e>yt;e>>=vt,t+=1);return t}const Dt=e=>(bt<<BigInt(e-1))-vt,$t=e=>new Uint8Array(e),Wt=e=>Uint8Array.from(e);function Ft(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=$t(e),i=$t(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();i=a(Wt([0]),e),r=a(),0!==e.length&&(i=a(Wt([1]),e),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Ot(...n)};return(e,t)=>{let n;for(o(),l(e);!(n=t(c()));)l();return o(),n}}const qt={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||wt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Ht(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=qt[n];if("function"!==typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Kt(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const Vt=BigInt(0),Jt=BigInt(1),Gt=BigInt(2),Yt=BigInt(3),Zt=BigInt(4),Qt=BigInt(5),Xt=BigInt(8);function en(e,t){const n=e%t;return n>=Vt?n:t+n}function tn(e,t,n){if(t<Vt)throw new Error("invalid exponent, negatives unsupported");if(n<=Vt)throw new Error("invalid modulus");if(n===Jt)return Vt;let r=Jt;for(;t>Vt;)t&Jt&&(r=r*e%n),e=e*e%n,t>>=Jt;return r}function nn(e,t,n){let r=e;for(;t-- >Vt;)r*=r,r%=n;return r}function rn(e,t){if(e===Vt)throw new Error("invert: expected non-zero number");if(t<=Vt)throw new Error("invert: expected positive modulus, got "+t);let n=en(e,t),r=t,i=Vt,s=Jt,o=Jt,a=Vt;for(;n!==Vt;){const e=r/n,t=r%n,l=i-o*e,c=s-a*e;r=n,n=t,i=o,s=a,o=l,a=c}if(r!==Jt)throw new Error("invert: does not exist");return en(i,t)}function sn(e){if(e%Zt===Yt){const t=(e+Jt)/Zt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Xt===Qt){const t=(e-Qt)/Xt;return function(e,n){const r=e.mul(n,Gt),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,Gt),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Jt)/Gt;let n,r,i;for(n=e-Jt,r=0;n%Gt===Vt;n/=Gt,r++);for(i=Gt;i<e&&tn(i,t,e)!==e-Jt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+Jt)/Zt;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Jt)/Gt;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,i),n),c=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,Jt<<BigInt(a-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),a=t}return c}}(e)}const on=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function an(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ln(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Vt)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=an(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Dt(i),ZERO:Vt,ONE:Jt,create:t=>en(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Vt<=t&&t<e},is0:e=>e===Vt,isOdd:e=>(e&Jt)===Jt,neg:t=>en(-t,e),eql:(e,t)=>e===t,sqr:t=>en(t*t,e),add:(t,n)=>en(t+n,e),sub:(t,n)=>en(t-n,e),mul:(t,n)=>en(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Vt)throw new Error("invalid exponent, negatives unsupported");if(n===Vt)return e.ONE;if(n===Jt)return t;let r=e.ONE,i=t;for(;n>Vt;)n&Jt&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Jt;return r}(a,e,t),div:(t,n)=>en(t*rn(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>rn(t,e),sqrt:r.sqrt||(t=>(o||(o=sn(e)),o(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Bt(e,s):Nt(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?jt(e):Pt(e)}});return Object.freeze(a)}function cn(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function un(e){const t=cn(e);return t+Math.ceil(t/2)}const dn=BigInt(0),hn=BigInt(1);function fn(e,t){const n=t.negate();return e?n:t}function pn(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function gn(e,t){pn(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}function mn(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}function yn(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}const vn=new WeakMap,bn=new WeakMap;function wn(e){return bn.get(e)||1}function kn(e,t){return{constTimeNegate:fn,hasPrecomputes:e=>1!==wn(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>dn;)n&hn&&(r=r.add(i)),i=i.double(),n>>=hn;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=gn(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){const{windows:s,windowSize:o}=gn(n,t);let a=e.ZERO,l=e.BASE;const c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let e=0;e<s;e++){const t=e*o;let n=Number(i&c);i>>=d,n>o&&(n-=u,i+=hn);const s=t,h=t+Math.abs(n)-1,f=e%2!==0,p=n<0;0===n?l=l.add(fn(f,r[s])):a=a.add(fn(p,r[h]))}return{p:a,f:l}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:o,windowSize:a}=gn(n,t),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let e=0;e<o;e++){const t=e*a;if(i===dn)break;let n=Number(i&l);if(i>>=u,n>a&&(n-=c,i+=hn),0===n)continue;let o=r[t+Math.abs(n)-1];n<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,n){let r=vn.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&vn.set(t,n(r))),r},wNAFCached(e,t,n){const r=wn(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=wn(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){pn(n,t),bn.set(e,n),vn.delete(e)}}}function _n(e,t,n,r){if(mn(n,e),yn(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=Ut(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i);let c=i;for(let u=Math.floor((t.BITS-1)/o)*o;u>=0;u-=o){l.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(u)&BigInt(a));l[i]=l[i].add(n[t])}let e=i;for(let t=l.length-1,n=i;t>0;t--)n=n.add(l[t]),e=e.add(n);if(c=c.add(e),0!==u)for(let t=0;t<o;t++)c=c.double()}return c}function xn(e){return Ht(e.Fp,on.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Ht(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...an(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Sn=BigInt(0),En=BigInt(1),An=BigInt(2),In=BigInt(8),Tn={zip215:!0};function Cn(e){const t=function(e){const t=xn(e);return Ht(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=t,c=An<<BigInt(8*a)-En,u=n.create,d=ln(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(_c){return{isValid:!1,value:Sn}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if(_t("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){zt("coordinate "+e,t,Sn,c)}function m(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}const y=Kt(((e,t)=>{const{ex:r,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?In:n.inv(s));const a=u(r*t),l=u(i*t),c=u(s*t);if(o)return{x:Sn,y:En};if(c!==En)throw new Error("invZ was invalid");return{x:a,y:l}})),v=Kt((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,l=u(i*i),c=u(s*s),d=u(o*o),h=u(d*d),f=u(l*n);if(u(d*u(f+c))!==u(h+u(r*u(l*c))))throw new Error("bad point: equation left != right (1)");if(u(i*s)!==u(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class b{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,g("x",e),g("y",t),g("z",n),g("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return g("x",t),g("y",n),new b(t,n,En,u(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(b.fromAffine)}static msm(e,t){return _n(b,d,e,t)}_setWindowSize(e){_.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){m(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:s,ez:o}=e,a=u(t*o),l=u(i*r),c=u(n*o),d=u(s*r);return a===l&&c===d}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,s=u(n*n),o=u(r*r),a=u(An*u(i*i)),l=u(e*s),c=n+r,d=u(u(c*c)-s-o),h=l+o,f=h-a,p=l-o,g=u(d*f),m=u(h*p),y=u(d*p),v=u(f*h);return new b(g,m,v,y)}add(e){m(e);const{a:n,d:r}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:l,ey:c,ez:d,et:h}=e;if(n===BigInt(-1)){const e=u((s-i)*(c+l)),t=u((s+i)*(c-l)),n=u(t-e);if(n===Sn)return this.double();const r=u(o*An*h),f=u(a*An*d),p=f+r,g=t+e,m=f-r,y=u(p*n),v=u(g*m),w=u(p*m),k=u(n*g);return new b(y,v,k,w)}const f=u(i*l),p=u(s*c),g=u(a*r*h),y=u(o*d),v=u((i+s)*(l+c)-f-p),w=y-g,k=y+g,_=u(p-n*f),x=u(v*w),S=u(k*_),E=u(v*_),A=u(w*k);return new b(x,S,A,E)}subtract(e){return this.add(e.negate())}wNAF(e){return _.wNAFCached(this,e,b.normalizeZ)}multiply(e){const t=e;zt("scalar",t,En,r);const{p:n,f:i}=this.wNAF(t);return b.normalizeZ([n,i])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.ZERO;const n=e;return zt("scalar",n,Sn,r),n===Sn?k:this.is0()||n===En?this:_.wNAFCachedUnsafe(this,n,b.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return _.unsafeLadder(this,r).is0()}toAffine(e){return y(this,e)}clearCofactor(){const{h:e}=t;return e===En?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:s}=t,o=n.BYTES;e=Mt("pointHex",e,o),_t("zip215",r);const a=e.slice(),l=e[o-1];a[o-1]=-129&l;const d=jt(a),f=r?c:n.ORDER;zt("pointHex.y",d,Sn,f);const p=u(d*d),g=u(p-En),m=u(i*p-s);let{isValid:y,value:v}=h(g,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const w=(v&En)===En,k=0!==(128&l);if(!r&&v===Sn&&k)throw new Error("Point.fromHex: x=0 and x_0=1");return k!==w&&(v=u(-v)),b.fromAffine({x:v,y:d})}static fromPrivateKey(e){return E(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=Bt(t,n.BYTES);return r[r.length-1]|=e&En?128:0,r}toHex(){return St(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,En,u(t.Gx*t.Gy)),b.ZERO=new b(Sn,En,En,Sn);const{BASE:w,ZERO:k}=b,_=kn(b,8*a);function x(e){return en(e,r)}function S(e){return x(jt(e))}function E(e){const t=n.BYTES;e=Mt("private key",e,t);const r=Mt("hashed private key",s(e),2*t),i=f(r.slice(0,t)),o=r.slice(t,2*t),a=S(i),l=w.multiply(a),c=l.toRawBytes();return{head:i,prefix:o,scalar:a,point:l,pointBytes:c}}function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=Ot(...n);return S(s(p(o,Mt("context",e),!!i)))}const I=Tn;w._setWindowSize(8);const T={getExtendedPublicKey:E,randomPrivateKey:()=>o(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};return{CURVE:t,getPublicKey:function(e){return E(e).pointBytes},sign:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=Mt("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:l}=E(t),c=A(s.context,o,e),u=w.multiply(c).toRawBytes(),d=x(c+A(s.context,u,l,e)*a);return zt("signature.s",d,Sn,r),Mt("result",Ot(u,Bt(d,n.BYTES)),2*n.BYTES)},verify:function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;const{context:o,zip215:a}=s,l=n.BYTES;e=Mt("signature",e,2*l),t=Mt("message",t),r=Mt("publicKey",r,l),void 0!==a&&_t("zip215",a),i&&(t=i(t));const c=jt(e.slice(l,2*l));let u,d,h;try{u=b.fromHex(r,a),d=b.fromHex(e.slice(0,l),a),h=w.multiplyUnsafe(c)}catch(p){return!1}if(!a&&u.isSmallOrder())return!1;const f=A(o,d.toRawBytes(),u.toRawBytes(),t);return d.add(u.multiplyUnsafe(f)).subtract(h).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:T}}const Pn=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),jn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Nn=(BigInt(0),BigInt(1)),Bn=BigInt(2),Mn=(BigInt(3),BigInt(5)),On=BigInt(8);function Rn(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Pn,o=e*e%s*e%s,a=nn(o,Bn,s)*o%s,l=nn(a,Nn,s)*e%s,c=nn(l,Mn,s)*l%s,u=nn(c,t,s)*c%s,d=nn(u,n,s)*u%s,h=nn(d,r,s)*d%s,f=nn(h,i,s)*h%s,p=nn(f,i,s)*h%s,g=nn(p,t,s)*c%s;return{pow_p_5_8:nn(g,Bn,s)*e%s,b2:o}}function Ln(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function zn(e,t){const n=Pn,r=en(t*t*t,n),i=en(r*r*t,n);let s=en(e*r*Rn(e*i).pow_p_5_8,n);const o=en(t*s*s,n),a=s,l=en(s*jn,n),c=o===e,u=o===en(-e,n),d=o===en(-e*jn,n);return c&&(s=a),(u||d)&&(s=l),(en(s,n)&Jt)===Jt&&(s=en(-s,n)),{isValid:c||u,value:s}}const Un=(()=>ln(Pn,void 0,!0))(),Dn=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Un,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:On,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:mt,randomBytes:Xe,adjustScalarBytes:Ln,uvRatio:zn}))(),$n=(()=>Cn(Dn))();var Wn=n(373),Fn=n.n(Wn),qn=n(462),Hn=n.n(qn);const Kn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jn=new Uint32Array(64);class Gn extends tt{constructor(){super(64,32,8,!1),this.A=0|Vn[0],this.B=0|Vn[1],this.C=0|Vn[2],this.D=0|Vn[3],this.E=0|Vn[4],this.F=0|Vn[5],this.G=0|Vn[6],this.H=0|Vn[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)Jn[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=Jn[d-15],t=Jn[d-2],n=Ke(e,7)^Ke(e,18)^e>>>3,r=Ke(t,17)^Ke(t,19)^t>>>10;Jn[d]=r+Jn[d-7]+n+Jn[d-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;for(let d=0;d<64;d++){const e=c+(Ke(o,6)^Ke(o,11)^Ke(o,25))+((u=o)&a^~u&l)+Kn[d]+Jn[d]|0,t=(Ke(n,2)^Ke(n,13)^Ke(n,22))+et(n,r,i)|0;c=l,l=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}var u;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,s,o,a,l,c)}roundClean(){Jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Yn=Qe((()=>new Gn));var Zn=n(60),Qn=n(328),Xn=n(81);class er extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...s}=e,{path:o}=e,a=0===o.length?r:`At path: ${o.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function tr(e){return"object"===typeof e&&null!=e}function nr(e){return tr(e)&&!Array.isArray(e)}function rr(e){return"symbol"===typeof e?e.toString():"string"===typeof e?JSON.stringify(e):`${e}`}function ir(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"===typeof e&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${rr(r)}\``}=e;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:l}}function*sr(e,t,n,r){var i;tr(i=e)&&"function"===typeof i[Symbol.iterator]||(e=[e]);for(const s of e){const e=ir(s,t,n,r);e&&(yield e)}}function or(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(e=t.coercer(e,a));let l="valid";for(const c of t.validator(e,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,d]of t.entries(e,a)){const t=or(u,d,{path:void 0===c?r:[...r,c],branch:void 0===c?i:[...i,u],coerce:s,mask:o,message:n.message});for(const n of t)n[0]?(l=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):s&&(u=n[1],void 0===c?e=u:e instanceof Map?e.set(c,u):e instanceof Set?e.add(u):tr(e)&&(void 0!==u||c in e)&&(e[c]=u))}if("not_valid"!==l)for(const c of t.refiner(e,a))c.explanation=n.message,l="not_refined",yield[c,void 0];"valid"===l&&(yield[void 0,e])}()}class ar{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=n,this.entries=o,this.coercer=s,this.validator=r?(e,t)=>sr(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>sr(i(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=ur(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return lr(e,this,t)}is(e){return cr(e,this)}mask(e,t){return function(e,t,n){const r=ur(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e){return ur(e,this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}function lr(e,t,n){const r=ur(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function cr(e,t){return!ur(e,t)[0]}function ur(e,t){const n=or(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),r=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(n);if(r[0]){return[new er(r[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]}return[void 0,r[1]]}function dr(e,t){return new ar({type:e,schema:null,validator:t})}function hr(e){return new ar({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${rr(e)}`})}function fr(){return dr("boolean",(e=>"boolean"===typeof e))}function pr(e){return dr("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${rr(t)}`))}function gr(e){const t=rr(e),n=typeof e;return new ar({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${rr(n)}`})}function mr(){return dr("never",(()=>!1))}function yr(e){return new ar({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function vr(){return dr("number",(e=>"number"===typeof e&&!isNaN(e)||`Expected a number, but received: ${rr(e)}`))}function br(e){return new ar({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function wr(e,t){return new ar({type:"record",schema:null,*entries(n){if(tr(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>nr(e)||`Expected an object, but received: ${rr(e)}`,coercer:e=>nr(e)?{...e}:e})}function kr(){return dr("string",(e=>"string"===typeof e||`Expected a string, but received: ${rr(e)}`))}function _r(e){const t=mr();return new ar({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${rr(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function xr(e){const t=Object.keys(e);return new ar({type:"type",schema:e,*entries(n){if(tr(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>nr(e)||`Expected an object, but received: ${rr(e)}`,coercer:e=>nr(e)?{...e}:e})}function Sr(e){const t=e.map((e=>e.type)).join(" | ");return new ar({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,i]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return i}return t},validator(n,r){const i=[];for(const t of e){const[...e]=or(n,t,r),[s]=e;if(!s[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${rr(n)}`,...i]}})}function Er(){return dr("unknown",(()=>!0))}function Ar(e,t,n){return new ar({...e,coercer:(r,i)=>cr(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var Ir=n(861),Tr=n.n(Ir),Cr=n(493);var Pr=class extends Cr{socket;constructor(e,t,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,n){const r=n||t;try{this.socket.send(e),r()}catch(i){r(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};function jr(e,t){return new Pr(e,t)}var Nr=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},Br=class extends Cr{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>"number"===typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=l||new Nr,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,n,r){return r||"object"!==typeof n||(r=n,n=null),new Promise(((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:o};this.socket.send(this.dataPack.encode(a),r,(e=>{if(e)return s(e);this.queue[o]={promise:[i,s]},n&&(this.queue[o].timeout=setTimeout((()=>{delete this.queue[o],s(new Error("reply timeout"))}),n))}))}))}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise(((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),(e=>{if(e)return r(e);n()}))}))}async subscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(e=>{let{data:t}=e;t instanceof ArrayBuffer&&(t=Ue.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(n){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let n=0;n<t.params.length;n++)e.push(t.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,e)}))}if(!this.queue[t.id])return t.method?Promise.resolve().then((()=>{this.emit(t.method,t?.params)})):void 0;"error"in t==="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(n=>{let{code:r,reason:i}=n;this.ready&&setTimeout((()=>this.emit("close",r,i)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,t)),this.reconnect_interval)))}))}};const Mr=[],Or=[],Rr=[],Lr=BigInt(0),zr=BigInt(1),Ur=BigInt(2),Dr=BigInt(7),$r=BigInt(256),Wr=BigInt(113);for(let n=0,xc=zr,Sc=1,Ec=0;n<24;n++){[Sc,Ec]=[Ec,(2*Sc+3*Ec)%5],Mr.push(2*(5*Ec+Sc)),Or.push((n+1)*(n+2)/2%64);let e=Lr;for(let t=0;t<7;t++)xc=(xc<<zr^(xc>>Dr)*Wr)%$r,xc&Ur&&(e^=zr<<(zr<<BigInt(t))-zr);Rr.push(e)}const[Fr,qr]=st(Rr,!0),Hr=(e,t,n)=>n>32?lt(e,t,n):ot(e,t,n),Kr=(e,t,n)=>n>32?ct(e,t,n):at(e,t,n);class Vr extends Ze{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,De(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){Ve||Ge(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Hr(s,o,1)^n[t],l=Kr(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=l}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Or[n],s=Hr(t,i,r),o=Kr(t,i,r),a=Mr[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Fr[r],e[1]^=qr[r]}n.fill(0)}(this.state32,this.rounds),Ve||Ge(this.state32),this.posOut=0,this.pos=0}update(e){We(this);const{blockLen:t,state:n}=this,r=(e=Ye(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){We(this,!1),$e(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return De(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Fe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Vr(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Jr=(e,t,n)=>Qe((()=>new Vr(t,e,n))),Gr=Jr(1,136,32);class Yr extends Ze{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");De(e.outputLen),De(e.blockLen)}(e);const n=Ye(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return We(this),this.iHash.update(e),this}digestInto(e){We(this),$e(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Zr=(e,t,n)=>new Yr(e,t).update(n).digest();function Qr(e){void 0!==e.lowS&&_t("lowS",e.lowS),void 0!==e.prehash&&_t("prehash",e.prehash)}Zr.create=(e,t)=>new Yr(e,t);const{Ph:Xr,aT:ei}=e;class ti extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}const ni={Err:ti,_tlv:{encode:(e,t)=>{const{Err:n}=ni;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Et(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Et(i.length/2|128):"";return Et(e)+s+i+t},decode(e,t){const{Err:n}=ni;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=ni;if(e<ri)throw new t("integer: negative integers are not allowed");let n=Et(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ni;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Xr(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ni,i="string"===typeof e?ei(e):e;kt(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=ni,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},ri=BigInt(0),ii=BigInt(1),si=(BigInt(2),BigInt(3));BigInt(4);function oi(e){const t=function(e){const t=xn(e);Ht(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=ln(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Ot(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(wt(e)&&(e=St(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:Pt(Mt("private key",e,r))}catch(a){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(o=en(o,s)),zt("private key",o,ii,s),o}function l(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}const c=Kt(((e,t)=>{const{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),l=n.mul(i,t),c=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:l}})),u=Kt((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const s=n.sqr(i),a=o(r);if(!n.eql(s,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(s(Mt("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(a(e))}static msm(e,t){return _n(d,r,e,t)}_setWindowSize(e){f.setWindowSize(this,e)}assertValidity(){u(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),u=n.eql(n.mul(r,a),n.mul(o,i));return c&&u}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,si),{px:s,py:o,pz:a}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,h=n.mul(s,s),f=n.mul(o,o),p=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,p),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,p),h=n.mul(h,g),c=n.add(c,h),p=n.mul(o,a),p=n.add(p,p),h=n.mul(p,g),l=n.sub(l,h),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new d(l,c,u)}add(e){l(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let u=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,si);let m=n.mul(r,o),y=n.mul(i,a),v=n.mul(s,c),b=n.add(r,i),w=n.add(o,a);b=n.mul(b,w),w=n.add(m,y),b=n.sub(b,w),w=n.add(r,s);let k=n.add(o,c);return w=n.mul(w,k),k=n.add(m,v),w=n.sub(w,k),k=n.add(i,s),u=n.add(a,c),k=n.mul(k,u),u=n.add(y,v),k=n.sub(k,u),f=n.mul(p,w),u=n.mul(g,v),f=n.add(u,f),u=n.sub(y,f),f=n.add(y,f),h=n.mul(u,f),y=n.add(m,m),y=n.add(y,m),v=n.mul(p,v),w=n.mul(g,w),y=n.add(y,v),v=n.sub(m,v),v=n.mul(p,v),w=n.add(w,v),m=n.mul(y,w),h=n.add(h,m),m=n.mul(k,w),u=n.mul(b,u),u=n.sub(u,m),m=n.mul(b,y),f=n.mul(k,f),f=n.add(f,m),new d(u,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;zt("scalar",e,ri,i);const s=d.ZERO;if(e===ri)return s;if(this.is0()||e===ii)return this;if(!r||f.hasPrecomputes(this))return f.wNAFCachedUnsafe(this,e,d.normalizeZ);let{k1neg:o,k1:a,k2neg:l,k2:c}=r.splitScalar(e),u=s,h=s,p=this;for(;a>ri||c>ri;)a&ii&&(u=u.add(p)),c&ii&&(h=h.add(p)),p=p.double(),a>>=ii,c>>=ii;return o&&(u=u.negate()),l&&(h=h.negate()),h=new d(n.mul(h.px,r.beta),h.py,h.pz),u.add(h)}multiply(e){const{endo:r,n:i}=t;let s,o;if(zt("scalar",e,ii,i),r){const{k1neg:t,k1:i,k2neg:a,k2:l}=r.splitScalar(e);let{p:c,f:u}=this.wNAF(i),{p:h,f:p}=this.wNAF(l);c=f.constTimeNegate(t,c),h=f.constTimeNegate(a,h),h=new d(n.mul(h.px,r.beta),h.py,h.pz),s=c.add(h),o=u.add(p)}else{const{p:t,f:n}=this.wNAF(e);s=t,o=n}return d.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==ri&&t!==ii&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){return c(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===ii)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===ii?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return _t("isCompressed",e),this.assertValidity(),i(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return _t("isCompressed",e),St(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,f=kn(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(e){return Lt(e,ii,t.n)}}}function ai(e){const t=function(e){const t=xn(e);return Ht(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(e){return en(e,r)}function a(e){return rn(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:d}=oi({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=Ot;return _t("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],o=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===s&&4===r){return{x:n.fromBytes(o.subarray(0,n.BYTES)),y:n.fromBytes(o.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+i+", or uncompressed "+s+", got "+t)}{const e=Pt(o);if(!Lt(e,ii,n.ORDER))throw new Error("Point is not on curve");const t=u(e);let i;try{i=n.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&r)!==((i&ii)===ii)&&(i=n.neg(i)),{x:e,y:i}}}}),h=e=>St(Nt(e,t.nByteLength));function f(e){return e>r>>ii}const p=(e,t,n)=>Pt(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Mt("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=ni.toSig(Mt("DER",e));return new g(t,n)}assertValidity(){zt("r",this.r,ii,r),zt("s",this.s,ii,r)}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,c=b(Mt("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&s)?"02":"03",f=l.fromHex(d+h(u)),p=a(u),g=o(-c*p),m=o(i*p),y=l.BASE.multiplyAndAddUnsafe(f,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Ct(this.toDERHex())}toDERHex(){return ni.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ct(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const m={isValidPrivateKey(e){try{return c(e),!0}catch(t){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=un(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=cn(t),s=un(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=en(n?jt(e):Pt(e),t-Jt)+Jt;return n?Bt(o,i):Nt(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e){const t=wt(e),n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===s:n?r===2*i||r===2*s:e instanceof l}const v=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const n=Pt(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return o(v(e))},w=Dt(t.nBitLength);function k(e){return zt("num < 2^"+t.nBitLength,e,ri,w),Nt(e,t.nByteLength)}function _(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:u}=t;let{lowS:h,prehash:p,extraEntropy:m}=i;null==h&&(h=!0),e=Mt("msgHash",e),Qr(i),p&&(e=Mt("prehashed msgHash",s(e)));const y=b(e),w=c(r),_=[k(w),k(y)];if(null!=m&&!1!==m){const e=!0===m?u(n.BYTES):m;_.push(Mt("extraEntropy",e))}const S=Ot(..._),E=y;return{seed:S,k2sig:function(e){const t=v(e);if(!d(t))return;const n=a(t),r=l.BASE.multiply(t).toAffine(),i=o(r.x);if(i===ri)return;const s=o(n*o(E+i*w));if(s===ri)return;let c=(r.x===i?0:2)|Number(r.y&ii),u=s;return h&&f(s)&&(u=function(e){return f(e)?o(-e):e}(s),c^=1),new g(i,u,c)}}}const x={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const{seed:i,k2sig:s}=_(e,n,r),o=t;return Ft(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const s=e;n=Mt("msgHash",n),r=Mt("publicKey",r);const{lowS:c,prehash:u,format:d}=i;if(Qr(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw new Error("format must be compact or der");const h="string"===typeof s||wt(s),f=!h&&!d&&"object"===typeof s&&null!==s&&"bigint"===typeof s.r&&"bigint"===typeof s.s;if(!h&&!f)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,m;try{if(f&&(p=new g(s.r,s.s)),h){try{"compact"!==d&&(p=g.fromDER(s))}catch(A){if(!(A instanceof ni.Err))throw A}p||"der"===d||(p=g.fromCompact(s))}m=l.fromHex(r)}catch(I){return!1}if(!p)return!1;if(c&&p.hasHighS())return!1;u&&(n=t.hash(n));const{r:y,s:v}=p,w=b(n),k=a(v),_=o(w*k),x=o(y*k),E=l.BASE.multiplyAndAddUnsafe(m,_,x)?.toAffine();return!!E&&o(E.x)===y},ProjectivePoint:l,Signature:g,utils:m}}function li(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Zr(e,t,function(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];$e(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}(...r))},randomBytes:Xe}}const ci=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ui=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),di=BigInt(1),hi=BigInt(2),fi=(e,t)=>(e+t/hi)/t;function pi(e){const t=ci,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=nn(u,n,t)*u%t,h=nn(d,n,t)*u%t,f=nn(h,hi,t)*c%t,p=nn(f,i,t)*f%t,g=nn(p,s,t)*p%t,m=nn(g,a,t)*g%t,y=nn(m,l,t)*m%t,v=nn(y,a,t)*g%t,b=nn(v,n,t)*u%t,w=nn(b,o,t)*p%t,k=nn(w,r,t)*c%t,_=nn(k,hi,t);if(!gi.eql(gi.sqr(_),e))throw new Error("Cannot find square root");return _}const gi=ln(ci,void 0,void 0,{sqrt:pi}),mi=function(e,t){const n=t=>ai({...e,...li(t)});return{...n(t),create:n}}({a:BigInt(0),b:BigInt(7),Fp:gi,n:ui,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ui,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-di*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=fi(s*e,t),l=fi(-r*e,t);let c=en(e-a*n-l*i,t),u=en(-a*r-l*s,t);const d=c>o,h=u>o;if(d&&(c=t-c),h&&(u=t-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}}},Yn);BigInt(0);mi.ProjectivePoint;$n.utils.randomPrivateKey;const yi=()=>{const e=$n.utils.randomPrivateKey(),t=vi(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},vi=$n.getPublicKey;function bi(e){try{return $n.ExtendedPoint.fromHex(e),!0}catch{return!1}}const wi=(e,t)=>$n.sign(e,t.slice(0,32)),ki=$n.verify,_i=e=>Ue.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Ue.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Ue.Buffer.from(e);class xi{constructor(e){Object.assign(this,e)}encode(){return Ue.Buffer.from((0,Zn.serialize)(Si,this))}static decode(e){return(0,Zn.deserialize)(Si,this,e)}static decodeUnchecked(e){return(0,Zn.deserializeUnchecked)(Si,this,e)}}const Si=new Map;var Ei;const Ai=32;let Ii=1;class Ti extends xi{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=Hn().decode(e);if(t.length!=Ai)throw new Error("Invalid public key input");this._bn=new(Fn())(t)}else this._bn=new(Fn())(e);if(this._bn.byteLength()>Ai)throw new Error("Invalid public key input")}}static unique(){const e=new Ti(Ii);return Ii+=1,new Ti(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Hn().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ue.Buffer);if(e.length===Ai)return e;const t=Ue.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=Ue.Buffer.concat([e.toBuffer(),Ue.Buffer.from(t),n.toBuffer()]),i=Yn(r);return new Ti(i)}static createProgramAddressSync(e,t){let n=Ue.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=Ue.Buffer.concat([n,_i(e)])})),n=Ue.Buffer.concat([n,t.toBuffer(),Ue.Buffer.from("ProgramDerivedAddress")]);const r=Yn(n);if(bi(r))throw new Error("Invalid seeds, address must fall off the curve");return new Ti(r)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,r=255;for(;0!=r;){try{const i=e.concat(Ue.Buffer.from([r]));n=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return bi(new Ti(e).toBytes())}}Ei=Ti,Ti.default=new Ei("11111111111111111111111111111111"),Si.set(Ti,{kind:"struct",fields:[["_bn","u256"]]});new Ti("BPFLoader1111111111111111111111111111111111");const Ci=1232;class Pi extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Pi.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class ji extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ji.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ni extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ni.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Bi{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,n)=>{t.set(e.toBase58(),n)}));const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((e=>n(e.pubkey))),data:e.data})))}}const Mi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return Qn.av(32,e)},Oi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=Qn.w3([Qn.DH("length"),Qn.DH("lengthPadding"),Qn.av(Qn.cY(Qn.DH(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(e,t)=>n(e,t).chars.toString(),i.encode=(e,t,n)=>{const i={chars:Ue.Buffer.from(e,"utf8")};return r(i,t,n)},i.alloc=e=>Qn.DH().span+Qn.DH().span+Ue.Buffer.from(e,"utf8").length,i};function Ri(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return Ri({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach((e=>{r+=n(e)})),r}function Li(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t}function zi(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function Ui(e,t){if(!e)throw new Error(t||"Assertion failed")}class Di{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const s of e){r(s.programId).isInvoked=!0;for(const e of s.keys){const t=r(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new Di(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ui(e.length<=256,"Max static account keys length exceeded");const t=e.filter((e=>{let[,t]=e;return t.isSigner&&t.isWritable})),n=e.filter((e=>{let[,t]=e;return t.isSigner&&!t.isWritable})),r=e.filter((e=>{let[,t]=e;return!t.isSigner&&t.isWritable})),i=e.filter((e=>{let[,t]=e;return!t.isSigner&&!t.isWritable})),s={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Ui(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Ui(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map((e=>{let[t]=e;return new Ti(t)})),...n.map((e=>{let[t]=e;return new Ti(t)})),...r.map((e=>{let[t]=e;return new Ti(t)})),...i.map((e=>{let[t]=e;return new Ti(t)}))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,s]of this.keyMetaMap.entries())if(t(s)){const t=new Ti(i),s=e.findIndex((e=>e.equals(t)));s>=0&&(Ui(s<256,"Max lookup table index exceeded"),n.push(s),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}const $i="Reached end of buffer unexpectedly";function Wi(e){if(0===e.length)throw new Error($i);return e.shift()}function Fi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const[i]=n;if(2===n.length?i+(n[1]??0)>e.length:i>=e.length)throw new Error($i);return e.splice(...n)}class qi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Ti(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Hn().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new Bi(this.staticAccountKeys)}static compile(e){const t=Di.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new Bi(r).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:Hn().encode(e.data)})));return new qi({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];zi(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,r=Array.from(Hn().decode(e.data));let i=[];zi(i,t.length);let s=[];return zi(s,r.length),{programIdIndex:n,keyIndicesCount:Ue.Buffer.from(i),keyIndices:t,dataLength:Ue.Buffer.from(s),data:r}}));let r=[];zi(r,n.length);let i=Ue.Buffer.alloc(Ci);Ue.Buffer.from(r).copy(i);let s=r.length;n.forEach((e=>{const t=Qn.w3([Qn.u8("programIdIndex"),Qn.av(e.keyIndicesCount.length,"keyIndicesCount"),Qn.O6(Qn.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Qn.av(e.dataLength.length,"dataLength"),Qn.O6(Qn.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t})),i=i.slice(0,s);const o=Qn.w3([Qn.av(1,"numRequiredSignatures"),Qn.av(1,"numReadonlySignedAccounts"),Qn.av(1,"numReadonlyUnsignedAccounts"),Qn.av(t.length,"keyCount"),Qn.O6(Mi("key"),e,"keys"),Mi("recentBlockhash")]),a={numRequiredSignatures:Ue.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ue.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ue.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ue.Buffer.from(t),keys:this.accountKeys.map((e=>_i(e.toBytes()))),recentBlockhash:Hn().decode(this.recentBlockhash)};let l=Ue.Buffer.alloc(2048);const c=o.encode(a,l);return i.copy(l,c),l.slice(0,c+i.length)}static from(e){let t=[...e];const n=Wi(t);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=Wi(t),i=Wi(t),s=Li(t);let o=[];for(let d=0;d<s;d++){const e=Fi(t,0,Ai);o.push(new Ti(Ue.Buffer.from(e)))}const a=Fi(t,0,Ai),l=Li(t);let c=[];for(let d=0;d<l;d++){const e=Wi(t),n=Fi(t,0,Li(t)),r=Fi(t,0,Li(t)),i=Hn().encode(Ue.Buffer.from(r));c.push({programIdIndex:e,accounts:n,data:i})}const u={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:Hn().encode(Ue.Buffer.from(a)),accountKeys:o,instructions:c};return new qi(u)}}class Hi{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Bi(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-t<n-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find((e=>e.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=Di.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const e=t.extractTableLookup(l);if(void 0!==e){const[t,{writable:i,readonly:s}]=e;n.push(t),r.writable.push(...i),r.readonly.push(...s)}}const[s,o]=t.getMessageComponents(),a=new Bi(o,r).compileInstructions(e.instructions);return new Hi({header:s,staticAccountKeys:o,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const e=Array();zi(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();zi(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();zi(i,this.addressTableLookups.length);const s=Qn.w3([Qn.u8("prefix"),Qn.w3([Qn.u8("numRequiredSignatures"),Qn.u8("numReadonlySignedAccounts"),Qn.u8("numReadonlyUnsignedAccounts")],"header"),Qn.av(e.length,"staticAccountKeysLength"),Qn.O6(Mi(),this.staticAccountKeys.length,"staticAccountKeys"),Mi("recentBlockhash"),Qn.av(n.length,"instructionsLength"),Qn.av(t.length,"serializedInstructions"),Qn.av(i.length,"addressTableLookupsLength"),Qn.av(r.length,"serializedAddressTableLookups")]),o=new Uint8Array(Ci),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:Hn().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},o);return o.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(Ci);for(const n of this.compiledInstructions){const r=Array();zi(r,n.accountKeyIndexes.length);const i=Array();zi(i,n.data.length);e+=Qn.w3([Qn.u8("programIdIndex"),Qn.av(r.length,"encodedAccountKeyIndexesLength"),Qn.O6(Qn.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Qn.av(i.length,"encodedDataLength"),Qn.av(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Ci);for(const n of this.addressTableLookups){const r=Array();zi(r,n.writableIndexes.length);const i=Array();zi(i,n.readonlyIndexes.length);e+=Qn.w3([Mi("accountKey"),Qn.av(r.length,"encodedWritableIndexesLength"),Qn.O6(Qn.u8(),n.writableIndexes.length,"writableIndexes"),Qn.av(i.length,"encodedReadonlyIndexesLength"),Qn.O6(Qn.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=Wi(t),r=127&n;Ui(n!==r,"Expected versioned message but received legacy message");Ui(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:Wi(t),numReadonlySignedAccounts:Wi(t),numReadonlyUnsignedAccounts:Wi(t)},s=[],o=Li(t);for(let h=0;h<o;h++)s.push(new Ti(Fi(t,0,Ai)));const a=Hn().encode(Fi(t,0,Ai)),l=Li(t),c=[];for(let h=0;h<l;h++){const e=Wi(t),n=Fi(t,0,Li(t)),r=Li(t),i=new Uint8Array(Fi(t,0,r));c.push({programIdIndex:e,accountKeyIndexes:n,data:i})}const u=Li(t),d=[];for(let h=0;h<u;h++){const e=new Ti(Fi(t,0,Ai)),n=Fi(t,0,Li(t)),r=Fi(t,0,Li(t));d.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new Hi({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:c,addressTableLookups:d})}}let Ki=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Vi=Ue.Buffer.alloc(64).fill(0);class Ji{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ue.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;return{pubkey:t.toJSON(),isSigner:n,isWritable:r}})),programId:this.programId.toJSON(),data:[...this.data]}}}class Gi{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Ji(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let p=0;p<t.length;p++)if(void 0===t[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const r=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{i.push({pubkey:new Ti(e),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),n=s.findIndex((e=>e.pubkey.toString()===t));n>-1?(s[n].isWritable=s[n].isWritable||e.isWritable,s[n].isSigner=s[n].isSigner||e.isSigner):s.push(e)})),s.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=s.findIndex((e=>e.pubkey.equals(n)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const p of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(p.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,l=0,c=0;const u=[],d=[];s.forEach((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;n?(u.push(t.toString()),a+=1,r||(l+=1)):(d.push(t.toString()),r||(c+=1))}));const h=u.concat(d),f=t.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:Hn().encode(t)}}));return f.forEach((e=>{Ui(e.programIdIndex>=0),e.accounts.forEach((e=>Ui(e>=0)))})),new qi({header:{numRequiredSignatures:a,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:c},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,n)=>t[n].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!r.has(t)&&(r.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const o of t){const e=o.publicKey.toString();r.has(e)||(r.add(e),i.push(o))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const s=this._compile();this._partialSign(s,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const o of t){const e=o.publicKey.toString();r.has(e)||(r.add(e),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e){const t=e.serialize();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((e=>{const n=wi(t,e.secretKey);this._addSignature(e.publicKey,_i(n))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ui(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Ue.Buffer.from(t)}verifySignatures(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||=[]).push(i):ki(r,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];zi(n,t.length);const r=n.length+64*t.length+e.length,i=Ue.Buffer.alloc(r);return Ui(t.length<256),Ue.Buffer.from(n).copy(i,0),t.forEach(((e,t)=>{let{signature:r}=e;null!==r&&(Ui(64===r.length,"signature has invalid length"),Ue.Buffer.from(r).copy(i,n.length+64*t))})),e.copy(i,n.length+64*t.length),Ui(i.length<=Ci,`Transaction too large: ${i.length} > 1232`),i}get keys(){return Ui(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Ui(1===this.instructions.length),this.instructions[0].programId}get data(){return Ui(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=Li(t);let r=[];for(let i=0;i<n;i++){const e=Fi(t,0,64);r.push(Hn().encode(Ue.Buffer.from(e)))}return Gi.populate(qi.from(t),r)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=new Gi;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==Hn().encode(Vi)?null:Hn().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new Ji({keys:r,programId:e.accountKeys[t.programIdIndex],data:Hn().decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}const Yi=new Ti("SysvarC1ock11111111111111111111111111111111"),Zi=(new Ti("SysvarEpochSchedu1e111111111111111111111111"),new Ti("Sysvar1nstructions1111111111111111111111111"),new Ti("SysvarRecentB1ockHashes11111111111111111111")),Qi=new Ti("SysvarRent111111111111111111111111111111111"),Xi=(new Ti("SysvarRewards111111111111111111111111111111"),new Ti("SysvarS1otHashes111111111111111111111111111"),new Ti("SysvarS1otHistory11111111111111111111111111"),new Ti("SysvarStakeHistory1111111111111111111111111"));class es extends Error{constructor(e){let{action:t,signature:n,transactionMessage:r,logs:i}=e;const s=i?`Logs: \n${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. \n${r}. `+s+o;break;case"simulate":a=`Simulation failed. \nMessage: ${r}. \n`+s+o;break;default:a=`Unknown action '${t}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!==typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,n)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n)}else n(new Error("Log messages not found"))})).catch(n)}))),await this.transactionLogs}}class ts extends Error{constructor(e,t){let{code:n,message:r,data:i}=e;super(null!=t?`${t}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=n,this.data=i,this.name="SolanaJSONRPCError"}}async function ns(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await e.sendTransaction(t,n,i);let o;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)o=(await e.confirmTransaction({abortSignal:r?.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;o=(await e.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await e.confirmTransaction(s,r&&r.commitment)).value;if(o.err){if(null!=s)throw new es({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function rs(e){return new Promise((t=>setTimeout(t,e)))}function is(e,t){const n=e.layout.span>=0?e.layout.span:Ri(e,t),r=Ue.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}const ss=Qn.I0("lamportsPerSignature"),os=Qn.w3([Qn.DH("version"),Qn.DH("state"),Mi("authorizedPubkey"),Mi("nonce"),Qn.w3([ss],"feeCalculator")]),as=os.span;class ls{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=os.decode(_i(e),0);return new ls({authorizedPubkey:new Ti(t.authorizedPubkey),nonce:new Ti(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const cs=(us=8,e=>{const t=(0,Qn.av)(us,e),{encode:n,decode:r}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const n=r(e,t);return(0,Xn.k5)(Ue.Buffer.from(n))},i.encode=(e,t,r)=>{const i=(0,Xn.Bq)(e,us);return n(i,t,r)},i});var us;const ds=Object.freeze({Create:{index:0,layout:Qn.w3([Qn.DH("instruction"),Qn.Wg("lamports"),Qn.Wg("space"),Mi("programId")])},Assign:{index:1,layout:Qn.w3([Qn.DH("instruction"),Mi("programId")])},Transfer:{index:2,layout:Qn.w3([Qn.DH("instruction"),cs("lamports")])},CreateWithSeed:{index:3,layout:Qn.w3([Qn.DH("instruction"),Mi("base"),Oi("seed"),Qn.Wg("lamports"),Qn.Wg("space"),Mi("programId")])},AdvanceNonceAccount:{index:4,layout:Qn.w3([Qn.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:Qn.w3([Qn.DH("instruction"),Qn.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:Qn.w3([Qn.DH("instruction"),Mi("authorized")])},AuthorizeNonceAccount:{index:7,layout:Qn.w3([Qn.DH("instruction"),Mi("authorized")])},Allocate:{index:8,layout:Qn.w3([Qn.DH("instruction"),Qn.Wg("space")])},AllocateWithSeed:{index:9,layout:Qn.w3([Qn.DH("instruction"),Mi("base"),Oi("seed"),Qn.Wg("space"),Mi("programId")])},AssignWithSeed:{index:10,layout:Qn.w3([Qn.DH("instruction"),Mi("base"),Oi("seed"),Mi("programId")])},TransferWithSeed:{index:11,layout:Qn.w3([Qn.DH("instruction"),cs("lamports"),Oi("seed"),Mi("programId")])},UpgradeNonceAccount:{index:12,layout:Qn.w3([Qn.DH("instruction")])}});class hs{constructor(){}static createAccount(e){const t=is(ds.Create,{lamports:e.lamports,space:e.space,programId:_i(e.programId.toBuffer())});return new Ji({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=is(ds.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:_i(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=is(ds.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ji({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=is(ds.AssignWithSeed,{base:_i(e.basePubkey.toBuffer()),seed:e.seed,programId:_i(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=is(ds.Assign,{programId:_i(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ji({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=is(ds.CreateWithSeed,{base:_i(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:_i(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ji({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new Gi;"basePubkey"in e&&"seed"in e?t.add(hs.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:as,programId:this.programId})):t.add(hs.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:as,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=is(ds.InitializeNonceAccount,{authorized:_i(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Zi,isSigner:!1,isWritable:!1},{pubkey:Qi,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Ji(n)}static nonceAdvance(e){const t=is(ds.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Zi,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Ji(n)}static nonceWithdraw(e){const t=is(ds.WithdrawNonceAccount,{lamports:e.lamports});return new Ji({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Zi,isSigner:!1,isWritable:!1},{pubkey:Qi,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=is(ds.AuthorizeNonceAccount,{authorized:_i(e.newAuthorizedPubkey.toBuffer())});return new Ji({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=is(ds.AllocateWithSeed,{base:_i(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:_i(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=is(ds.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ji({keys:n,programId:this.programId,data:t})}}hs.programId=new Ti("11111111111111111111111111111111");class fs{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/fs.chunkSize)+1+1)}static async load(e,t,n,r,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new Gi,a.add(hs.allocate({accountPubkey:n.publicKey,space:i.length}))),o.owner.equals(r)||(a=a||new Gi,a.add(hs.assign({accountPubkey:n.publicKey,programId:r}))),o.lamports<s&&(a=a||new Gi,a.add(hs.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:s-o.lamports})))}else a=(new Gi).add(hs.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:s>0?s:1,space:i.length,programId:r}));null!==a&&await ns(e,a,[t,n],{commitment:"confirmed"})}const s=Qn.w3([Qn.DH("instruction"),Qn.DH("offset"),Qn.DH("bytesLength"),Qn.DH("bytesLengthPadding"),Qn.O6(Qn.u8("byte"),Qn.cY(Qn.DH(),-8),"bytes")]),o=fs.chunkSize;let a=0,l=i,c=[];for(;l.length>0;){const i=l.slice(0,o),u=Ue.Buffer.alloc(o+16);s.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},u);const d=(new Gi).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:u});if(c.push(ns(e,d,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await rs(1e3/e)}a+=o,l=l.slice(o)}await Promise.all(c);{const i=Qn.w3([Qn.DH("instruction")]),s=Ue.Buffer.alloc(i.span);i.encode({instruction:1},s);const o=(new Gi).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Qi,isSigner:!1,isWritable:!1}],programId:r,data:s}),a="processed",l=await e.sendTransaction(o,[t,n],{preflightCommitment:a}),{context:c,value:u}=await e.confirmTransaction({signature:l,lastValidBlockHeight:o.lastValidBlockHeight,blockhash:o.recentBlockhash},a);if(u.err)throw new Error(`Transaction ${l} failed (${JSON.stringify(u)})`);for(;;){try{if(await e.getSlot({commitment:a})>c.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}fs.chunkSize=932;new Ti("BPFLoader2111111111111111111111111111111111");function ps(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gs,ms;function ys(){if(ms)return gs;ms=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function n(r,i){var s,o,a,l,c,u,d;if(!0===r)return"true";if(!1===r)return"false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"===typeof r.toJSON)return n(r.toJSON(),i);if("[object Array]"===(d=e.call(r))){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}if("[object Object]"===d){for(o=(l=t(r).sort()).length,a="",s=0;s<o;)void 0!==(u=n(r[c=l[s]],!1))&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u),s++;return"{"+a+"}"}return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return gs=function(e){var t=n(e,!1);if(void 0!==t)return""+t}}var vs=ps(ys());function bs(e){let t=0;for(;e>1;)e/=2,t++;return t}class ws{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=bs(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-bs(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+bs(32)):this.slotsPerEpoch}}var ks=globalThis.fetch;class _s extends Br{constructor(e,t,n){super((e=>{const n=jr(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,t,n),this.underlyingSocket=void 0}call(){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...arguments):Promise.reject(new Error("Tried to call a JSON-RPC method `"+(arguments.length<=0?void 0:arguments[0])+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...arguments):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+(arguments.length<=0?void 0:arguments[0])+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class xs{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(Ss,e),n=e.length-56;Ui(n>=0,"lookup table is invalid"),Ui(n%32===0,"lookup table is invalid");const r=n/32,{addresses:i}=Qn.w3([Qn.O6(Mi(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new Ti(t.authority[0]):void 0,addresses:i.map((e=>new Ti(e)))}}}const Ss={index:1,layout:Qn.w3([Qn.DH("typeIndex"),cs("deactivationSlot"),Qn.I0("lastExtendedSlot"),Qn.u8("lastExtendedStartIndex"),Qn.u8(),Qn.O6(Mi(),Qn.cY(Qn.u8(),-1),"authority")])},Es=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const As=Ar(pr(Ti),kr(),(e=>new Ti(e))),Is=_r([kr(),gr("base64")]),Ts=Ar(pr(Ue.Buffer),Is,(e=>Ue.Buffer.from(e[0],"base64")));function Cs(e){let t,n;if("string"===typeof e)t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function Ps(e){return e.map((e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e))}function js(e){return Sr([xr({jsonrpc:gr("2.0"),id:kr(),result:e}),xr({jsonrpc:gr("2.0"),id:kr(),error:xr({code:Er(),message:kr(),data:br(dr("any",(()=>!0)))})})])}const Ns=js(Er());function Bs(e){return Ar(js(e),Ns,(t=>"error"in t?t:{...t,result:lr(t.result,e)}))}function Ms(e){return Bs(xr({context:xr({slot:vr()}),value:e}))}function Os(e){return xr({context:xr({slot:vr()}),value:e})}function Rs(e,t){return 0===e?new Hi({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new Ti(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Hn().decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new qi(t)}const Ls=xr({foundation:vr(),foundationTerm:vr(),initial:vr(),taper:vr(),terminal:vr()}),zs=Bs(hr(yr(xr({epoch:vr(),effectiveSlot:vr(),amount:vr(),postBalance:vr(),commission:br(yr(vr()))})))),Us=hr(xr({slot:vr(),prioritizationFee:vr()})),Ds=xr({total:vr(),validator:vr(),foundation:vr(),epoch:vr()}),$s=xr({epoch:vr(),slotIndex:vr(),slotsInEpoch:vr(),absoluteSlot:vr(),blockHeight:br(vr()),transactionCount:br(vr())}),Ws=xr({slotsPerEpoch:vr(),leaderScheduleSlotOffset:vr(),warmup:fr(),firstNormalEpoch:vr(),firstNormalSlot:vr()}),Fs=wr(kr(),hr(vr())),qs=yr(Sr([xr({}),kr()])),Hs=xr({err:qs}),Ks=gr("receivedSignature"),Vs=xr({"solana-core":kr(),"feature-set":br(vr())}),Js=xr({program:kr(),programId:As,parsed:Er()}),Gs=xr({programId:As,accounts:hr(As),data:kr()}),Ys=Ms(xr({err:yr(Sr([xr({}),kr()])),logs:yr(hr(kr())),accounts:br(yr(hr(yr(xr({executable:fr(),owner:kr(),lamports:vr(),data:hr(kr()),rentEpoch:br(vr())}))))),unitsConsumed:br(vr()),returnData:br(yr(xr({programId:kr(),data:_r([kr(),gr("base64")])}))),innerInstructions:br(yr(hr(xr({index:vr(),instructions:hr(Sr([Js,Gs]))}))))})),Zs=Ms(xr({byIdentity:wr(kr(),hr(vr())),range:xr({firstSlot:vr(),lastSlot:vr()})}));const Qs=Bs(Ls),Xs=Bs(Ds),eo=Bs(Us),to=Bs($s),no=Bs(Ws),ro=Bs(Fs),io=Bs(vr()),so=Ms(xr({total:vr(),circulating:vr(),nonCirculating:vr(),nonCirculatingAccounts:hr(As)})),oo=xr({amount:kr(),uiAmount:yr(vr()),decimals:vr(),uiAmountString:br(kr())}),ao=Ms(hr(xr({address:As,amount:kr(),uiAmount:yr(vr()),decimals:vr(),uiAmountString:br(kr())}))),lo=Ms(hr(xr({pubkey:As,account:xr({executable:fr(),owner:As,lamports:vr(),data:Ts,rentEpoch:vr()})}))),co=xr({program:kr(),parsed:Er(),space:vr()}),uo=Ms(hr(xr({pubkey:As,account:xr({executable:fr(),owner:As,lamports:vr(),data:co,rentEpoch:vr()})}))),ho=Ms(hr(xr({lamports:vr(),address:As}))),fo=xr({executable:fr(),owner:As,lamports:vr(),data:Ts,rentEpoch:vr()}),po=xr({pubkey:As,account:fo}),go=Ar(Sr([pr(Ue.Buffer),co]),Sr([Is,co]),(e=>Array.isArray(e)?lr(e,Ts):e)),mo=xr({executable:fr(),owner:As,lamports:vr(),data:go,rentEpoch:vr()}),yo=xr({pubkey:As,account:mo}),vo=xr({state:Sr([gr("active"),gr("inactive"),gr("activating"),gr("deactivating")]),active:vr(),inactive:vr()}),bo=Bs(hr(xr({signature:kr(),slot:vr(),err:qs,memo:yr(kr()),blockTime:br(yr(vr()))}))),wo=Bs(hr(xr({signature:kr(),slot:vr(),err:qs,memo:yr(kr()),blockTime:br(yr(vr()))}))),ko=xr({subscription:vr(),result:Os(fo)}),_o=xr({pubkey:As,account:fo}),xo=xr({subscription:vr(),result:Os(_o)}),So=xr({parent:vr(),slot:vr(),root:vr()}),Eo=xr({subscription:vr(),result:So}),Ao=Sr([xr({type:Sr([gr("firstShredReceived"),gr("completed"),gr("optimisticConfirmation"),gr("root")]),slot:vr(),timestamp:vr()}),xr({type:gr("createdBank"),parent:vr(),slot:vr(),timestamp:vr()}),xr({type:gr("frozen"),slot:vr(),timestamp:vr(),stats:xr({numTransactionEntries:vr(),numSuccessfulTransactions:vr(),numFailedTransactions:vr(),maxTransactionsPerEntry:vr()})}),xr({type:gr("dead"),slot:vr(),timestamp:vr(),err:kr()})]),Io=xr({subscription:vr(),result:Ao}),To=xr({subscription:vr(),result:Os(Sr([Hs,Ks]))}),Co=xr({subscription:vr(),result:vr()}),Po=xr({pubkey:kr(),gossip:yr(kr()),tpu:yr(kr()),rpc:yr(kr()),version:yr(kr())}),jo=xr({votePubkey:kr(),nodePubkey:kr(),activatedStake:vr(),epochVoteAccount:fr(),epochCredits:hr(_r([vr(),vr(),vr()])),commission:vr(),lastVote:vr(),rootSlot:yr(vr())}),No=Bs(xr({current:hr(jo),delinquent:hr(jo)})),Bo=Sr([gr("processed"),gr("confirmed"),gr("finalized")]),Mo=xr({slot:vr(),confirmations:yr(vr()),err:qs,confirmationStatus:br(Bo)}),Oo=Ms(hr(yr(Mo))),Ro=Bs(vr()),Lo=xr({accountKey:As,writableIndexes:hr(vr()),readonlyIndexes:hr(vr())}),zo=xr({signatures:hr(kr()),message:xr({accountKeys:hr(kr()),header:xr({numRequiredSignatures:vr(),numReadonlySignedAccounts:vr(),numReadonlyUnsignedAccounts:vr()}),instructions:hr(xr({accounts:hr(vr()),data:kr(),programIdIndex:vr()})),recentBlockhash:kr(),addressTableLookups:br(hr(Lo))})}),Uo=xr({pubkey:As,signer:fr(),writable:fr(),source:br(Sr([gr("transaction"),gr("lookupTable")]))}),Do=xr({accountKeys:hr(Uo),signatures:hr(kr())}),$o=xr({parsed:Er(),program:kr(),programId:As}),Wo=xr({accounts:hr(As),data:kr(),programId:As}),Fo=Ar(Sr([Wo,$o]),Sr([xr({parsed:Er(),program:kr(),programId:kr()}),xr({accounts:hr(kr()),data:kr(),programId:kr()})]),(e=>lr(e,"accounts"in e?Wo:$o))),qo=xr({signatures:hr(kr()),message:xr({accountKeys:hr(Uo),instructions:hr(Fo),recentBlockhash:kr(),addressTableLookups:br(yr(hr(Lo)))})}),Ho=xr({accountIndex:vr(),mint:kr(),owner:br(kr()),programId:br(kr()),uiTokenAmount:oo}),Ko=xr({writable:hr(As),readonly:hr(As)}),Vo=xr({err:qs,fee:vr(),innerInstructions:br(yr(hr(xr({index:vr(),instructions:hr(xr({accounts:hr(vr()),data:kr(),programIdIndex:vr()}))})))),preBalances:hr(vr()),postBalances:hr(vr()),logMessages:br(yr(hr(kr()))),preTokenBalances:br(yr(hr(Ho))),postTokenBalances:br(yr(hr(Ho))),loadedAddresses:br(Ko),computeUnitsConsumed:br(vr())}),Jo=xr({err:qs,fee:vr(),innerInstructions:br(yr(hr(xr({index:vr(),instructions:hr(Fo)})))),preBalances:hr(vr()),postBalances:hr(vr()),logMessages:br(yr(hr(kr()))),preTokenBalances:br(yr(hr(Ho))),postTokenBalances:br(yr(hr(Ho))),loadedAddresses:br(Ko),computeUnitsConsumed:br(vr())}),Go=Sr([gr(0),gr("legacy")]),Yo=xr({pubkey:kr(),lamports:vr(),postBalance:yr(vr()),rewardType:yr(kr()),commission:br(yr(vr()))}),Zo=Bs(yr(xr({blockhash:kr(),previousBlockhash:kr(),parentSlot:vr(),transactions:hr(xr({transaction:zo,meta:yr(Vo),version:br(Go)})),rewards:br(hr(Yo)),blockTime:yr(vr()),blockHeight:yr(vr())}))),Qo=Bs(yr(xr({blockhash:kr(),previousBlockhash:kr(),parentSlot:vr(),rewards:br(hr(Yo)),blockTime:yr(vr()),blockHeight:yr(vr())}))),Xo=Bs(yr(xr({blockhash:kr(),previousBlockhash:kr(),parentSlot:vr(),transactions:hr(xr({transaction:Do,meta:yr(Vo),version:br(Go)})),rewards:br(hr(Yo)),blockTime:yr(vr()),blockHeight:yr(vr())}))),ea=Bs(yr(xr({blockhash:kr(),previousBlockhash:kr(),parentSlot:vr(),transactions:hr(xr({transaction:qo,meta:yr(Jo),version:br(Go)})),rewards:br(hr(Yo)),blockTime:yr(vr()),blockHeight:yr(vr())}))),ta=Bs(yr(xr({blockhash:kr(),previousBlockhash:kr(),parentSlot:vr(),transactions:hr(xr({transaction:Do,meta:yr(Jo),version:br(Go)})),rewards:br(hr(Yo)),blockTime:yr(vr()),blockHeight:yr(vr())}))),na=Bs(yr(xr({blockhash:kr(),previousBlockhash:kr(),parentSlot:vr(),rewards:br(hr(Yo)),blockTime:yr(vr()),blockHeight:yr(vr())}))),ra=Bs(yr(xr({blockhash:kr(),previousBlockhash:kr(),parentSlot:vr(),transactions:hr(xr({transaction:zo,meta:yr(Vo)})),rewards:br(hr(Yo)),blockTime:yr(vr())}))),ia=Bs(yr(xr({blockhash:kr(),previousBlockhash:kr(),parentSlot:vr(),signatures:hr(kr()),blockTime:yr(vr())}))),sa=Bs(yr(xr({slot:vr(),meta:yr(Vo),blockTime:br(yr(vr())),transaction:zo,version:br(Go)}))),oa=Bs(yr(xr({slot:vr(),transaction:qo,meta:yr(Jo),blockTime:br(yr(vr())),version:br(Go)}))),aa=Ms(xr({blockhash:kr(),lastValidBlockHeight:vr()})),la=Ms(fr()),ca=Bs(hr(xr({slot:vr(),numTransactions:vr(),numSlots:vr(),samplePeriodSecs:vr()}))),ua=Ms(yr(xr({feeCalculator:xr({lamportsPerSignature:vr()})}))),da=Bs(kr()),ha=Bs(kr()),fa=xr({err:qs,logs:hr(kr()),signature:kr()}),pa=xr({result:Os(fa),subscription:vr()}),ga={"solana-client":"js/1.0.0-maintenance"};class ma{constructor(e,t){let n,r,i,s,o,a;var l;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:n,config:r}=Cs(t),i=this._buildArgs([],n,void 0,r),s=vs(i);return e[s]=e[s]??(async()=>{try{const e=lr(await this._rpcRequest("getBlockHeight",i),Bs(vr()));if("error"in e)throw new ts(e.error,"failed to get block height information");return e.result}finally{delete e[s]}})(),await e[s]}})(),t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,s=t.fetchMiddleware,o=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(Es);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${o}//${r}${null==a?"":`:${a+1}`}${s}`}(e),this._rpcClient=function(e,t,n,r,i,s){const o=n||ks;let a;return null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(e,t)=>{const n=await new Promise(((n,i)=>{try{r(e,t,((e,t)=>n([e,t])))}catch(s){i(s)}}));return await o(...n)}),new(Tr())((async(n,r)=>{const s={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},ga)};try{let t,n=5,l=500;for(;t=a?await a(e,s):await o(e,s),429===t.status&&!0!==i&&(n-=1,0!==n);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${l}ms delay...`),await rs(l),l*=2;const c=await t.text();t.ok?r(null,c):r(new Error(`${t.status} ${t.statusText}: ${c}`))}catch(l){l instanceof Error&&r(l)}}),{})}(e,r,i,s,o,a),this._rpcRequest=(l=this._rpcClient,(e,t)=>new Promise(((n,r)=>{l.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new _s(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=Cs(t),i=this._buildArgs([e.toBase58()],n,void 0,r),s=lr(await this._rpcRequest("getBalance",i),Ms(vr()));if("error"in s)throw new ts(s.error,`failed to get balance for ${e.toBase58()}`);return s.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=lr(await this._rpcRequest("getBlockTime",[e]),Bs(yr(vr())));if("error"in t)throw new ts(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=lr(await this._rpcRequest("minimumLedgerSlot",[]),Bs(vr()));if("error"in e)throw new ts(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=lr(await this._rpcRequest("getFirstAvailableBlock",[]),io);if("error"in e)throw new ts(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=lr(await this._rpcRequest("getSupply",[t]),so);if("error"in n)throw new ts(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=lr(await this._rpcRequest("getTokenSupply",n),Ms(oo));if("error"in r)throw new ts(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=lr(await this._rpcRequest("getTokenAccountBalance",n),Ms(oo));if("error"in r)throw new ts(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=Cs(n);let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const o=this._buildArgs(s,r,"base64",i),a=lr(await this._rpcRequest("getTokenAccountsByOwner",o),lo);if("error"in a)throw new ts(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),s=lr(await this._rpcRequest("getTokenAccountsByOwner",i),uo);if("error"in s)throw new ts(s.error,`failed to get token accounts owned by account ${e.toBase58()}`);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=lr(await this._rpcRequest("getLargestAccounts",n),ho);if("error"in r)throw new ts(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=lr(await this._rpcRequest("getTokenLargestAccounts",n),ao);if("error"in r)throw new ts(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=Cs(t),i=this._buildArgs([e.toBase58()],n,"base64",r),s=lr(await this._rpcRequest("getAccountInfo",i),Ms(yr(fo)));if("error"in s)throw new ts(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=Cs(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),s=lr(await this._rpcRequest("getAccountInfo",i),Ms(yr(mo)));if("error"in s)throw new ts(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(_c){throw new Error("failed to get info about account "+e.toBase58()+": "+_c)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=Cs(t),i=e.map((e=>e.toBase58())),s=this._buildArgs([i],n,"jsonParsed",r),o=lr(await this._rpcRequest("getMultipleAccounts",s),Ms(hr(yr(mo))));if("error"in o)throw new ts(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=Cs(t),i=e.map((e=>e.toBase58())),s=this._buildArgs([i],n,"base64",r),o=lr(await this._rpcRequest("getMultipleAccounts",s),Ms(hr(yr(fo))));if("error"in o)throw new ts(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:i}=Cs(t),s=this._buildArgs([e.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),o=lr(await this._rpcRequest("getStakeActivation",s),Bs(vo));if("error"in o)throw new ts(o.error,`failed to get Stake Activation ${e.toBase58()}`);return o.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=Cs(t),{encoding:i,...s}=r||{},o=this._buildArgs([e.toBase58()],n,i||"base64",{...s,...s.filters?{filters:Ps(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),l=hr(po),c=!0===s.withContext?lr(a,Ms(l)):lr(a,Bs(l));if("error"in c)throw new ts(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=Cs(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),s=lr(await this._rpcRequest("getProgramAccounts",i),Bs(hr(yo)));if("error"in s)throw new ts(s.error,`failed to get accounts owned by program ${e.toBase58()}`);return s.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{r=Hn().decode(n)}catch(i){throw new Error("signature must be base58 encoded: "+n)}return Ui(64===r.length,"signature has invalid length"),"string"===typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise(e){let t,n,{commitment:r,signature:i}=e,s=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=t&&(this.removeSignatureListener(t),t=void 0)},confirmationPromise:new Promise(((e,o)=>{try{t=this.onSignature(i,((n,r)=>{t=void 0;const i={context:r,value:n};e({__type:Ki.PROCESSED,response:i})}),r);const a=new Promise((e=>{null==t?e():n=this._onSubscriptionStateChange(t,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await a,s)return;const t=await this.getSignatureStatus(i);if(s)return;if(null==t)return;const{context:n,value:l}=t;if(null!=l)if(l?.err)o(l.err);else{switch(r){case"confirmed":case"single":case"singleGossip":if("processed"===l.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===l.confirmationStatus||"confirmed"===l.confirmationStatus)return}s=!0,e({__type:Ki.PROCESSED,response:{context:n,value:l}})}})()}catch(a){o(a)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy(e){let{commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}=e,s=!1;const o=new Promise((e=>{const n=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await n();if(!s){for(;t<=r;){if(await rs(1e3),s)return;if(t=await n(),s)return}e({__type:Ki.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),c=this.getCancellationPromise(n);let u;try{const e=await Promise.race([c,l,o]);if(e.__type!==Ki.PROCESSED)throw new Pi(i);u=e.response}finally{s=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy(e){let{commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}=e,a=!1;const l=new Promise((e=>{let n=s,o=null;const l=async()=>{try{const{context:e,value:n}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return o=e.slot,n?.nonce}catch(_c){return n}};(async()=>{if(n=await l(),!a)for(;;){if(s!==n)return void e({__type:Ki.NONCE_INVALID,slotInWhichNonceDidAdvance:o});if(await rs(2e3),a)return;if(n=await l(),a)return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),d=this.getCancellationPromise(n);let h;try{const e=await Promise.race([d,u,l]);if(e.__type===Ki.PROCESSED)h=e.response;else{let n;for(;;){const t=await this.getSignatureStatus(o);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??r))){n=t;break}await rs(400)}if(!n?.value)throw new Ni(o);{const e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new Ni(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new Ni(o);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new Ni(o)}h={context:n.context,value:{err:n.value.err}}}}}finally{a=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy(e){let t,{commitment:n,signature:r}=e;const i=new Promise((e=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(n){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}t=setTimeout((()=>e({__type:Ki.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:n,signature:r});let a;try{const e=await Promise.race([o,i]);if(e.__type!==Ki.PROCESSED)throw new ji(r,e.timeoutMs/1e3);a=e.response}finally{clearTimeout(t),s()}return a}async getClusterNodes(){const e=lr(await this._rpcRequest("getClusterNodes",[]),Bs(hr(Po)));if("error"in e)throw new ts(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=lr(await this._rpcRequest("getVoteAccounts",t),No);if("error"in n)throw new ts(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:n}=Cs(e),r=this._buildArgs([],t,void 0,n),i=lr(await this._rpcRequest("getSlot",r),Bs(vr()));if("error"in i)throw new ts(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:n}=Cs(e),r=this._buildArgs([],t,void 0,n),i=lr(await this._rpcRequest("getSlotLeader",r),Bs(kr()));if("error"in i)throw new ts(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const n=[e,t],r=lr(await this._rpcRequest("getSlotLeaders",n),Bs(hr(As)));if("error"in r)throw new ts(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);Ui(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=lr(await this._rpcRequest("getSignatureStatuses",n),Oo);if("error"in r)throw new ts(r.error,"failed to get signature status");return r.result}async getTransactionCount(e){const{commitment:t,config:n}=Cs(e),r=this._buildArgs([],t,void 0,n),i=lr(await this._rpcRequest("getTransactionCount",r),Bs(vr()));if("error"in i)throw new ts(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=lr(await this._rpcRequest("getInflationGovernor",t),Qs);if("error"in n)throw new ts(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,n){const{commitment:r,config:i}=Cs(n),s=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{...i,epoch:null!=t?t:i?.epoch}),o=lr(await this._rpcRequest("getInflationReward",s),zs);if("error"in o)throw new ts(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const e=lr(await this._rpcRequest("getInflationRate",[]),Xs);if("error"in e)throw new ts(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:n}=Cs(e),r=this._buildArgs([],t,void 0,n),i=lr(await this._rpcRequest("getEpochInfo",r),to);if("error"in i)throw new ts(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=lr(await this._rpcRequest("getEpochSchedule",[]),no);if("error"in e)throw new ts(e.error,"failed to get epoch schedule");const t=e.result;return new ws(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=lr(await this._rpcRequest("getLeaderSchedule",[]),ro);if("error"in e)throw new ts(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=lr(await this._rpcRequest("getMinimumBalanceForRentExemption",n),Ro);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=lr(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),ca);if("error"in t)throw new ts(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=lr(await this._rpcRequest("getFeeCalculatorForBlockhash",n),ua);if("error"in r)throw new ts(r.error,"failed to get fee calculator");const{context:i,value:s}=r.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const n=_i(e.serialize()).toString("base64"),r=this._buildArgs([n],t),i=lr(await this._rpcRequest("getFeeForMessage",r),Ms(yr(vr())));if("error"in i)throw new ts(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map((e=>e.toBase58())),n=t?.length?[t]:[],r=lr(await this._rpcRequest("getRecentPrioritizationFees",n),eo);if("error"in r)throw new ts(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(_c){throw new Error("failed to get recent blockhash: "+_c)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(_c){throw new Error("failed to get recent blockhash: "+_c)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=Cs(e),r=this._buildArgs([],t,void 0,n),i=lr(await this._rpcRequest("getLatestBlockhash",r),aa);if("error"in i)throw new ts(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=Cs(t),i=this._buildArgs([e],n,void 0,r),s=lr(await this._rpcRequest("isBlockhashValid",i),la);if("error"in s)throw new ts(s.error,"failed to determine if the blockhash `"+e+"`is valid");return s.result}async getVersion(){const e=lr(await this._rpcRequest("getVersion",[]),Bs(Vs));if("error"in e)throw new ts(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=lr(await this._rpcRequest("getGenesisHash",[]),Bs(kr()));if("error"in e)throw new ts(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:n,config:r}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),s=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=lr(s,Xo);if("error"in e)throw e.error;return e.result}case"none":{const e=lr(s,Qo);if("error"in e)throw e.error;return e.result}default:{const e=lr(s,Zo);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map((e=>{let{transaction:t,meta:n,version:r}=e;return{meta:n,transaction:{...t,message:Rs(r,t.message)},version:r}}))}:null}}}catch(_c){throw new ts(_c,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),s=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=lr(s,ta);if("error"in e)throw e.error;return e.result}case"none":{const e=lr(s,na);if("error"in e)throw e.error;return e.result}default:{const e=lr(s,ea);if("error"in e)throw e.error;return e.result}}}catch(_c){throw new ts(_c,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"===typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i}const r=this._buildArgs([],n,"base64",t),i=lr(await this._rpcRequest("getBlockProduction",r),Zs);if("error"in i)throw new ts(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:n,config:r}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),s=lr(await this._rpcRequest("getTransaction",i),sa);if("error"in s)throw new ts(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:Rs(o.version,o.transaction.message)}}:o}async getParsedTransaction(e,t){const{commitment:n,config:r}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),s=lr(await this._rpcRequest("getTransaction",i),oa);if("error"in s)throw new ts(s.error,"failed to get transaction");return s.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=Cs(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=lr(e,oa);if("error"in t)throw new ts(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:n,config:r}=Cs(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=lr(e,sa);if("error"in t)throw new ts(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:Rs(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=lr(await this._rpcRequest("getBlock",n),ra);if("error"in r)throw new ts(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");const s={...i,transactions:i.transactions.map((e=>{let{transaction:t,meta:n}=e;const r=new qi(t.message);return{meta:n,transaction:{...t,message:r}}}))};return{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:n}=e;return{meta:n,transaction:Gi.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=lr(await this._rpcRequest("getBlocks",r),Bs(hr(vr())));if("error"in i)throw new ts(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=lr(await this._rpcRequest("getBlock",n),ia);if("error"in r)throw new ts(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=lr(await this._rpcRequest("getBlock",n),ia);if("error"in r)throw new ts(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=lr(await this._rpcRequest("getTransaction",n),sa);if("error"in r)throw new ts(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const s=new qi(i.transaction.message),o=i.transaction.signatures;return{...i,transaction:Gi.populate(s,o)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=lr(await this._rpcRequest("getTransaction",n),oa);if("error"in r)throw new ts(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=lr(e,oa);if("error"in t)throw new ts(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in r)&&!(++n>s);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=lr(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),bo);if("error"in i)throw new ts(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=lr(await this._rpcRequest("getSignaturesForAddress",r),wo);if("error"in i)throw new ts(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new xs({key:e,state:xs.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=ls.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=lr(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),da);if("error"in n)throw new ts(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await rs(100);const e=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let r=0;r<50;r++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await rs(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=Cs(e),r=this._buildArgs([],t,"base64",n),i=lr(await this._rpcRequest("getStakeMinimumDelegation",r),Ms(vr()));if("error"in i)throw new ts(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,n){if("message"in e){const r=e.serialize(),i=Ue.Buffer.from(r).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const s=t||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment),t&&"object"===typeof t&&"innerInstructions"in t&&(s.innerInstructions=t.innerInstructions);const o=[i,s],a=lr(await this._rpcRequest("simulateTransaction",o),Ys);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let r;if(e instanceof Gi){let t=e;r=new Gi,r.feePayer=t.feePayer,r.instructions=e.instructions,r.nonceInfo=t.nonceInfo,r.signatures=t.signatures}else r=Gi.populate(e),r._message=r._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(r.nonceInfo&&i)r.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(r.lastValidBlockHeight=t.lastValidBlockHeight,r.recentBlockhash=t.blockhash,!i)break;if(r.sign(...i),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const s=r._compile(),o=s.serialize(),a=r._serialize(o).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:s.nonProgramIds()).map((e=>e.toBase58()));l.accounts={encoding:"base64",addresses:e}}i&&(l.sigVerify=!0),t&&"object"===typeof t&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const c=[a,l],u=lr(await this._rpcRequest("simulateTransaction",c),Ys);if("error"in u){let e;if("data"in u.error&&(e=u.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(u.error.message,n)}throw new es({action:"simulate",signature:"",transactionMessage:u.error.message,logs:e})}return u.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=_i(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const s=[e,n],o=lr(await this._rpcRequest("sendTransaction",s),ha);if("error"in o){let e;throw"data"in o.error&&(e=o.error.data.logs),new es({action:r?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:e})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,n]=e;this._setSubscription(t,{...n,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,t){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(t.state)}catch{}}))}}_onSubscriptionStateChange(e,t){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(t),()=>{r.delete(t),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(i,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(_c){if(console.error(`Received ${_c instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:r,error:_c}),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(_c){if(_c instanceof Error&&console.error(`${i} error:`,_c.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t)}catch(_c){console.error(_c)}}))}_wsOnAccountNotification(e){const{result:t,subscription:n}=lr(e,ko);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=vs([e.method,t]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];Ui(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:r,config:i}=Cs(n),s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=lr(e,xo);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const{commitment:i,config:s}=Cs(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s||(r?{filters:Ps(r)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=lr(e,pa);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=lr(e,Eo);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=lr(e,Io);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=lr(e,To);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],r,void 0,i),o=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(o)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=lr(e,Co);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ya{constructor(e){this._keypair=void 0,this._keypair=e??yi()}static generate(){return new ya(yi())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=vi(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new ya({publicKey:n,secretKey:e})}static fromSeed(e){const t=vi(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new ya({publicKey:t,secretKey:n})}get publicKey(){return new Ti(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const va=Object.freeze({CreateLookupTable:{index:0,layout:Qn.w3([Qn.DH("instruction"),cs("recentSlot"),Qn.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Qn.w3([Qn.DH("instruction")])},ExtendLookupTable:{index:2,layout:Qn.w3([Qn.DH("instruction"),cs(),Qn.O6(Mi(),Qn.cY(Qn.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Qn.w3([Qn.DH("instruction")])},CloseLookupTable:{index:4,layout:Qn.w3([Qn.DH("instruction")])}});class ba{constructor(){}static createLookupTable(e){const[t,n]=Ti.findProgramAddressSync([e.authority.toBuffer(),(0,Xn.Bq)(BigInt(e.recentSlot),8)],this.programId),r=is(va.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:hs.programId,isSigner:!1,isWritable:!1}];return[new Ji({programId:this.programId,keys:i,data:r}),t]}static freezeLookupTable(e){const t=is(va.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ji({programId:this.programId,keys:n,data:t})}static extendLookupTable(e){const t=is(va.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:hs.programId,isSigner:!1,isWritable:!1}),new Ji({programId:this.programId,keys:n,data:t})}static deactivateLookupTable(e){const t=is(va.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ji({programId:this.programId,keys:n,data:t})}static closeLookupTable(e){const t=is(va.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ji({programId:this.programId,keys:n,data:t})}}ba.programId=new Ti("AddressLookupTab1e1111111111111111111111111");const wa=Object.freeze({RequestUnits:{index:0,layout:Qn.w3([Qn.u8("instruction"),Qn.DH("units"),Qn.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:Qn.w3([Qn.u8("instruction"),Qn.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:Qn.w3([Qn.u8("instruction"),Qn.DH("units")])},SetComputeUnitPrice:{index:3,layout:Qn.w3([Qn.u8("instruction"),cs("microLamports")])}});class ka{constructor(){}static requestUnits(e){const t=is(wa.RequestUnits,e);return new Ji({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=is(wa.RequestHeapFrame,e);return new Ji({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=is(wa.SetComputeUnitLimit,e);return new Ji({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=is(wa.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new Ji({keys:[],programId:this.programId,data:t})}}ka.programId=new Ti("ComputeBudget111111111111111111111111111111");const _a=Qn.w3([Qn.u8("numSignatures"),Qn.u8("padding"),Qn.NX("signatureOffset"),Qn.NX("signatureInstructionIndex"),Qn.NX("publicKeyOffset"),Qn.NX("publicKeyInstructionIndex"),Qn.NX("messageDataOffset"),Qn.NX("messageDataSize"),Qn.NX("messageInstructionIndex")]);class xa{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,instructionIndex:i}=e;Ui(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),Ui(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const s=_a.span,o=s+t.length,a=o+r.length,l=Ue.Buffer.alloc(a+n.length),c=null==i?65535:i;return _a.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:c,publicKeyOffset:s,publicKeyInstructionIndex:c,messageDataOffset:a,messageDataSize:n.length,messageInstructionIndex:c},l),l.fill(t,s),l.fill(r,o),l.fill(n,a),new Ji({keys:[],programId:xa.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Ui(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=ya.fromSecretKey(t),i=e.publicKey.toBytes(),s=wi(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:s,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}xa.programId=new Ti("Ed25519SigVerify111111111111111111111111111");mi.utils.isValidPrivateKey;const Sa=mi.getPublicKey,Ea=Qn.w3([Qn.u8("numSignatures"),Qn.NX("signatureOffset"),Qn.u8("signatureInstructionIndex"),Qn.NX("ethAddressOffset"),Qn.u8("ethAddressInstructionIndex"),Qn.NX("messageDataOffset"),Qn.NX("messageDataSize"),Qn.u8("messageInstructionIndex"),Qn.av(20,"ethAddress"),Qn.av(64,"signature"),Qn.u8("recoveryId")]);class Aa{constructor(){}static publicKeyToEthAddress(e){Ui(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return Ue.Buffer.from(Gr(_i(e))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:s}=e;return Aa.createInstructionWithEthAddress({ethAddress:Aa.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:r,recoveryId:i,instructionIndex:s=0}=e;let o;o="string"===typeof t?t.startsWith("0x")?Ue.Buffer.from(t.substr(2),"hex"):Ue.Buffer.from(t,"hex"):t,Ui(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,l=a+r.length+1,c=Ue.Buffer.alloc(Ea.span+n.length);return Ea.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:s,signature:_i(r),ethAddress:_i(o),recoveryId:i},c),c.fill(_i(n),Ea.span),new Ji({keys:[],programId:Aa.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Ui(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=_i(t),i=Sa(e,!1).slice(1),s=Ue.Buffer.from(Gr(_i(n))),[o,a]=((e,t)=>{const n=mi.sign(e,t);return[n.toCompactRawBytes(),n.recovery]})(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,recoveryId:a,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}var Ia;Aa.programId=new Ti("KeccakSecp256k11111111111111111111111111111");const Ta=new Ti("StakeConfig11111111111111111111111111111111");class Ca{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}Ia=Ca,Ca.default=new Ia(0,0,Ti.default);const Pa=Object.freeze({Initialize:{index:0,layout:Qn.w3([Qn.DH("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return Qn.w3([Mi("staker"),Mi("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return Qn.w3([Qn.Wg("unixTimestamp"),Qn.Wg("epoch"),Mi("custodian")],e)}()])},Authorize:{index:1,layout:Qn.w3([Qn.DH("instruction"),Mi("newAuthorized"),Qn.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:Qn.w3([Qn.DH("instruction")])},Split:{index:3,layout:Qn.w3([Qn.DH("instruction"),Qn.Wg("lamports")])},Withdraw:{index:4,layout:Qn.w3([Qn.DH("instruction"),Qn.Wg("lamports")])},Deactivate:{index:5,layout:Qn.w3([Qn.DH("instruction")])},Merge:{index:7,layout:Qn.w3([Qn.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:Qn.w3([Qn.DH("instruction"),Mi("newAuthorized"),Qn.DH("stakeAuthorizationType"),Oi("authoritySeed"),Mi("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class ja{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||Ca.default,s=is(Pa.Initialize,{authorized:{staker:_i(n.staker.toBuffer()),withdrawer:_i(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:_i(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qi,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Ji(o)}static createAccountWithSeed(e){const t=new Gi;t.add(hs.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new Gi;t.add(hs.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=is(Pa.Delegate);return(new Gi).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Yi,isSigner:!1,isWritable:!1},{pubkey:Xi,isSigner:!1,isWritable:!1},{pubkey:Ta,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:s}=e,o=is(Pa.Authorize,{newAuthorized:_i(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Yi,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Gi).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,l=is(Pa.AuthorizeWithSeed,{newAuthorized:_i(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:r,authorityOwner:_i(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Yi,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Gi).add({keys:c,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,s=is(Pa.Split,{lamports:i});return new Ji({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){const n=new Gi;return n.add(hs.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=e,l=new Gi;return l.add(hs.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),t&&t>0&&l.add(hs.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),l.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=is(Pa.Merge);return(new Gi).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Yi,isSigner:!1,isWritable:!1},{pubkey:Xi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:s}=e,o=is(Pa.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Yi,isSigner:!1,isWritable:!1},{pubkey:Xi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Gi).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=is(Pa.Deactivate);return(new Gi).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Yi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}ja.programId=new Ti("Stake11111111111111111111111111111111111111"),ja.space=200;const Na=Object.freeze({InitializeAccount:{index:0,layout:Qn.w3([Qn.DH("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return Qn.w3([Mi("nodePubkey"),Mi("authorizedVoter"),Mi("authorizedWithdrawer"),Qn.u8("commission")],e)}()])},Authorize:{index:1,layout:Qn.w3([Qn.DH("instruction"),Mi("newAuthorized"),Qn.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:Qn.w3([Qn.DH("instruction"),Qn.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:Qn.w3([Qn.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:Qn.w3([Qn.DH("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return Qn.w3([Qn.DH("voteAuthorizationType"),Mi("currentAuthorityDerivedKeyOwnerPubkey"),Oi("currentAuthorityDerivedKeySeed"),Mi("newAuthorized")],e)}()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Ba{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=is(Na.InitializeAccount,{voteInit:{nodePubkey:_i(r.nodePubkey.toBuffer()),authorizedVoter:_i(r.authorizedVoter.toBuffer()),authorizedWithdrawer:_i(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qi,isSigner:!1,isWritable:!1},{pubkey:Yi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Ji(s)}static createAccount(e){const t=new Gi;return t.add(hs.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,s=is(Na.Authorize,{newAuthorized:_i(r.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Yi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Gi).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=e,a=is(Na.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:_i(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:_i(i.toBuffer()),voteAuthorizationType:s.index}}),l=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Yi,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new Gi).add({keys:l,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,s=is(Na.Withdraw,{lamports:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Gi).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return Ba.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=is(Na.UpdateValidatorIdentity),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Gi).add({keys:s,programId:this.programId,data:i})}}Ba.programId=new Ti("Vote111111111111111111111111111111111111111"),Ba.space=3762;new Ti("Va1idator1nfo111111111111111111111111111111"),xr({name:kr(),website:br(kr()),details:br(kr()),iconUrl:br(kr()),keybaseUsername:br(kr())});new Ti("Vote111111111111111111111111111111111111111"),Qn.w3([Mi("nodePubkey"),Mi("authorizedWithdrawer"),Qn.u8("commission"),Qn.I0(),Qn.O6(Qn.w3([Qn.I0("slot"),Qn.DH("confirmationCount")]),Qn.cY(Qn.DH(),-8),"votes"),Qn.u8("rootSlotValid"),Qn.I0("rootSlot"),Qn.I0(),Qn.O6(Qn.w3([Qn.I0("epoch"),Mi("authorizedVoter")]),Qn.cY(Qn.DH(),-8),"authorizedVoters"),Qn.w3([Qn.O6(Qn.w3([Mi("authorizedPubkey"),Qn.I0("epochOfLastAuthorizedSwitch"),Qn.I0("targetEpoch")]),32,"buf"),Qn.I0("idx"),Qn.u8("isEmpty")],"priorVoters"),Qn.I0(),Qn.O6(Qn.w3([Qn.I0("epoch"),Qn.I0("credits"),Qn.I0("prevCredits")]),Qn.cY(Qn.DH(),-8),"epochCredits"),Qn.w3([Qn.I0("slot"),Qn.I0("timestamp")],"lastTimestamp")]);const Ma={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Oa(e,t){const n=!1===t?"http":"https";if(!e)return Ma[n].devnet;const r=Ma[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}const Ra=1e9;let La=null;let za=0;const Ua=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Date.now();if(e||!La||t-za>12e4){const e=window.SOLANA_RPC_ENDPOINT||"https://rpc.helius.xyz/?api-key=268519a5-accf-40b1-9fe3-d0d61fe3a5ce"||Oa("mainnet-beta");console.log(`Creating new Solana connection to: ${e}`);const r={commitment:"confirmed",disableRetryOnRateLimit:!1,confirmTransactionInitialTimeout:6e4};try{La=new ma(e,r),za=t,Da().catch((e=>console.warn("Connection validation failed, but proceeding:",e.message)))}catch(n){console.error("Failed to create Solana connection:",n.message),console.log("Falling back to public Solana endpoint"),La=new ma(Oa("mainnet-beta"),r)}}return La},Da=async()=>{if(!La)throw new Error("No connection to validate");try{const e=new Promise(((e,t)=>setTimeout((()=>t(new Error("Connection validation timed out"))),1e4))),t=La.getRecentBlockhash();return await Promise.race([t,e]),console.log("Solana connection validated successfully"),za=Date.now(),!0}catch(e){throw console.error("Invalid Solana connection:",e.message),Wa(),e}},$a=e=>{if(!e||"string"!==typeof e)return!1;try{return new Ti(e),!0}catch(t){return!1}},Wa=()=>{console.log("Resetting Solana connection"),La=null,za=0};new class{constructor(){this.tokenCache=new Map,this.knownTokens={EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",name:"USD Coin",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"},So11111111111111111111111111111111111111112:{symbol:"SOL",name:"Solana",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",name:"Tether USD",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB/logo.png"},mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So:{symbol:"mSOL",name:"Marinade staked SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So/logo.png"},DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263:{symbol:"BONK",name:"Bonk",decimals:5,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263/logo.png"}},this.TOKEN_METADATA_PROGRAM_ID=new Ti("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),this.CACHE_EXPIRATION=864e5,this.MAX_BATCH_SIZE=10,this.fetchQueue=[],this.isFetching=!1}async getTokenMetadata(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;try{e=new Ti(e).toString()}catch(n){return console.error(`Invalid token address: ${e}`),null}if(!t){const t=this.getCachedToken(e);if(t)return t}return this.knownTokens[e]?(this.cacheToken(e,this.knownTokens[e]),this.knownTokens[e]):this.queueTokenFetch(e)}async queueTokenFetch(e){return new Promise((t=>{this.fetchQueue.push({tokenAddress:e,resolve:t}),this.isFetching||this.processFetchQueue()}))}async processFetchQueue(){if(0!==this.fetchQueue.length&&!this.isFetching){this.isFetching=!0;try{const e=this.fetchQueue.splice(0,this.MAX_BATCH_SIZE),t=e.map((e=>e.tokenAddress)),n=await this.fetchBatchTokenMetadata(t);e.forEach(((e,t)=>{const r=n[t]||this.createDefaultTokenInfo(e.tokenAddress);this.cacheToken(e.tokenAddress,r),e.resolve(r)}))}catch(e){console.error("Error processing token fetch queue:",e);this.fetchQueue.splice(0,this.MAX_BATCH_SIZE).forEach((e=>{const t=this.createDefaultTokenInfo(e.tokenAddress);e.resolve(t)}))}finally{this.isFetching=!1,this.fetchQueue.length>0&&setTimeout((()=>this.processFetchQueue()),100)}}}async fetchBatchTokenMetadata(e){try{const t=Ua();return(await Promise.allSettled(e.map((e=>this.fetchTokenMetadata(t,e))))).map((e=>"fulfilled"===e.status?e.value:null))}catch(t){return console.error("Error fetching batch token metadata:",t),e.map((()=>null))}}async fetchTokenMetadata(e,t){try{if(!await e.getAccountInfo(new Ti(t)))return this.createDefaultTokenInfo(t);const[n]=Ti.findProgramAddressSync([Buffer.from("metadata"),this.TOKEN_METADATA_PROGRAM_ID.toBuffer(),new Ti(t).toBuffer()],this.TOKEN_METADATA_PROGRAM_ID),r=await e.getAccountInfo(n);if(!r)return await this.fetchTokenOnChainInfo(e,t);const i=this.parseTokenMetadata(r.data);return{address:t,symbol:i.symbol||this.createSymbolFromAddress(t),name:i.name||`Token ${this.createSymbolFromAddress(t)}`,decimals:i.decimals||0,logoURI:i.uri||null}}catch(n){return console.error(`Error fetching token metadata for ${t}:`,n),this.createDefaultTokenInfo(t)}}async fetchTokenOnChainInfo(e,t){try{var n;const r=await e.getTokenSupply(new Ti(t));return{address:t,symbol:this.createSymbolFromAddress(t),name:`Token ${this.createSymbolFromAddress(t)}`,decimals:(null===r||void 0===r||null===(n=r.value)||void 0===n?void 0:n.decimals)||0,logoURI:null}}catch(r){return console.error(`Error fetching on-chain info for ${t}:`,r),this.createDefaultTokenInfo(t)}}parseTokenMetadata(e){try{let t=65;const n=new DataView(e.buffer).getUint32(t,!0);t+=4;const r=e.slice(t,t+n).toString("utf8").replace(/\0/g,"");t+=n;const i=new DataView(e.buffer).getUint32(t,!0);t+=4;const s=e.slice(t,t+i).toString("utf8").replace(/\0/g,"");t+=i;const o=new DataView(e.buffer).getUint32(t,!0);t+=4;return{name:r,symbol:s,uri:e.slice(t,t+o).toString("utf8").replace(/\0/g,"")}}catch(t){return console.error("Error parsing token metadata:",t),{name:"",symbol:"",uri:""}}}getCachedToken(e){const t=this.tokenCache.get(e);return t?Date.now()-t.timestamp>this.CACHE_EXPIRATION?(this.tokenCache.delete(e),null):t.data:null}cacheToken(e,t){this.tokenCache.set(e,{data:t,timestamp:Date.now()})}createDefaultTokenInfo(e){const t=this.createSymbolFromAddress(e);return{address:e,symbol:t,name:`Unknown Token (${t})`,decimals:0,logoURI:null}}async extractTokensFromTransaction(e,t){if(!e||!t||!Array.isArray(t))return[];try{const n=new Set;t.forEach((e=>{const t=null===e||void 0===e?void 0:e.toString();t&&this.knownTokens[t]&&n.add(t)}));const r="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",i=new Set;try{e.transaction.message.instructions.forEach((e=>{if(void 0!==e.programIdIndex){var n;const r=null===(n=t[e.programIdIndex])||void 0===n?void 0:n.toString();r&&i.add(r)}}))}catch(_c){}if(i.has(r))for(const e of t){const t=null===e||void 0===e?void 0:e.toString();t&&t!==r&&n.add(t)}const s=Array.from(n).map((e=>this.getTokenMetadata(e)));return(await Promise.all(s)).filter(Boolean)}catch(n){return console.error("Error extracting tokens from transaction:",n),[]}}createSymbolFromAddress(e){try{return`${e.substring(0,3)}...${e.substring(e.length-3)}`.toUpperCase()}catch(t){return"UNKNOWN"}}clearExpiredCache(){const e=Date.now();for(const[t,n]of this.tokenCache.entries())e-n.timestamp>this.CACHE_EXPIRATION&&this.tokenCache.delete(t)}};const Fa="perps-open",qa="perps-close",Ha="perps-increase",Ka="perps-decrease",Va="perps-instant-increase",Ja="perps-instant-decrease",Ga="perps-liquidation",Ya="perps-add-margin",Za="perps-remove-margin",Qa="fee",Xa=["PERP7Y6dh5AZgz9k9eieE7BcWegMGbUyiYKxHKNPGXE","perpke6JybKfRDi7xYzUssvWvUyEJzqNDGT5T8kqvV9","JPPooLEqRb2LuVYJx6mjSfJA7YWcqQz2iCfBdz7k9Cn"],el=e=>{var t,n,r;if(null===e||void 0===e||null===(t=e.transaction)||void 0===t||null===(n=t.message)||void 0===n||!n.accountKeys)return!1;const i=e.transaction.message.accountKeys.map((e=>"string"===typeof e?e:e.pubkey||e.toString())).some((e=>Xa.includes(e))),s=((null===(r=e.meta)||void 0===r?void 0:r.logMessages)||[]).some((e=>{const t=e.toLowerCase();return t.includes("perp")||t.includes("position")||t.includes("margin")||t.includes("liquidate")||t.includes("instantincreaseposition")||t.includes("instant_increase_position")||t.includes("increaseposition")}));return i||s},tl=e=>{try{const t=e.find((e=>e.includes("market:")));return t?t.split("market:")[1].trim():"Unknown Market"}catch(t){return"Unknown Market"}},nl=e=>{try{const t=e.find((e=>e.includes("PnL:")));if(t){const e=t.match(/PnL:\s*([-+]?\d*\.?\d+)/);return e?parseFloat(e[1]):0}return 0}catch(t){return 0}},rl=e=>{try{const t=e.find((e=>e.includes("size:")));if(t){const e=t.match(/size:\s*(\d*\.?\d+)/);return e?parseFloat(e[1]):0}return 0}catch(t){return 0}},il=e=>{try{const t=e.find((e=>e.includes("direction:")));return t?t.toLowerCase().includes("long")?"long":"short":"unknown"}catch(t){return"unknown"}},sl=e=>{try{const t=e.find((e=>e.includes("amount:")));if(t){const e=t.match(/amount:\s*(\d*\.?\d+)/);return e?parseFloat(e[1]):0}return 0}catch(t){return 0}},ol=e=>{try{const t=e.find((e=>e.includes("margin:")));if(t){const e=t.match(/margin:\s*(\d*\.?\d+)/);return e?parseFloat(e[1]):0}return 0}catch(t){return 0}},al="transfer",ll="perps-order",cl="perps-close",ul="perps-increase",dl="perps-decrease",hl="perps-instant-increase",fl="perps-instant-decrease",pl="perps-liquidation",gl="perps-margin",ml="fee",yl="unknown",vl=(e,t)=>{if(!e)return yl;try{var n,r,i,s,o;if(el(e)){const t=(e=>{if(!el(e))return null;try{var t;const r=(null===(t=e.meta)||void 0===t?void 0:t.logMessages)||[],i=(e.transaction.message.instructions,r.map((e=>e.toLowerCase())));return i.some((e=>e.includes("instantincreaseposition")||e.includes("instant_increase_position")))?{type:Va,details:{market:tl(r),size:rl(r),direction:il(r)}}:i.some((e=>e.includes("instantdecreaseposition")||e.includes("instant_decrease_position")))?{type:Ja,details:{market:tl(r),size:rl(r),direction:il(r)}}:i.some((e=>e.includes("increaseposition")||e.includes("increase_position")))?{type:Ha,details:{market:tl(r),size:rl(r),direction:il(r)}}:i.some((e=>e.includes("decreaseposition")||e.includes("decrease_position")))?{type:Ka,details:{market:tl(r),size:rl(r),direction:il(r)}}:i.some((e=>e.includes("liquidate")||e.includes("liquidation")))?{type:Ga,details:{market:tl(r),liquidationAmount:sl(r)}}:i.some((e=>e.includes("close_position")||e.includes("closeposition")||e.includes("close position")))?{type:qa,details:{market:tl(r),pnl:nl(r)}}:i.some((e=>e.includes("open_position")||e.includes("openposition")||e.includes("open position")))?{type:Fa,details:{market:tl(r),size:rl(r),direction:il(r)}}:i.some((e=>e.includes("add_margin")||e.includes("addmargin")||e.includes("add margin")))?{type:Ya,details:{amount:ol(r)}}:i.some((e=>e.includes("remove_margin")||e.includes("removemargin")||e.includes("remove margin")))?{type:Za,details:{amount:ol(r)}}:i.some((e=>e.includes("perp")))?{type:Qa,details:{fee:(null===(n=e.meta)||void 0===n?void 0:n.fee)||0}}:null;var n}catch(r){return console.error("Error parsing Jupiter Perps transaction:",r),null}})(e);if(t)switch(t.type){case Fa:return{type:ll,details:t.details};case qa:return{type:cl,details:t.details};case Ha:return{type:ul,details:t.details};case Ka:return{type:dl,details:t.details};case Va:return{type:hl,details:t.details};case Ja:return{type:fl,details:t.details};case Ga:return{type:pl,details:t.details};case Ya:case Za:return{type:gl,details:t.details};default:if(t.type===Qa)return{type:ml,details:t.details}}}const a=e.transaction.message.accountKeys.map((e=>"string"===typeof e?e:e.pubkey||e.toString())),l=(null===(n=e.meta)||void 0===n?void 0:n.preBalances)||[],c=(null===(r=e.meta)||void 0===r?void 0:r.postBalances)||[],u=a.findIndex((e=>e===t));if(-1!==u){const n=(c[u]||0)-(l[u]||0);if(Math.abs(n)>5e3)if(n<0){const r=a.findIndex(((e,t)=>{if(t!==u){return(c[t]||0)-(l[t]||0)>5e3}return!1}));if(-1!==r)return{type:al,details:{source:t,destination:a[r],amount:Math.abs(n)/Ra,timestamp:e.blockTime}}}else{const r=a.findIndex(((e,t)=>{if(t!==u){return(c[t]||0)-(l[t]||0)<-5e3}return!1}));if(-1!==r)return{type:al,details:{source:a[r],destination:t,amount:n/Ra,timestamp:e.blockTime}}}}return null===(i=e.meta)||void 0===i||!i.fee||null!==(s=e.meta)&&void 0!==s&&null!==(o=s.logMessages)&&void 0!==o&&o.some((e=>{const t=e.toLowerCase();return t.includes("perp")||t.includes("position")||t.includes("margin")||t.includes("liquidate")}))?yl:{type:ml,details:{amount:e.meta.fee,timestamp:e.blockTime,signature:e.transaction.signatures[0]}}}catch(a){return console.error("Error categorizing transaction:",a),yl}};var bl=n(536),wl=n.n(bl);const kl=new class{constructor(){this.priceCache=new Map,this.failedRequests=new Map,this.MAX_RETRIES=3,this.RETRY_DELAY=1e3,this.BINANCE_SYMBOLS={solana:"SOLUSDT"}}async getPriceAtTimestamp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"solana";const n=`${t}-${e}`;if(this.priceCache.has(n))return this.priceCache.get(n);try{const r=await this.getBinancePrice(e,t);if(r)return this.priceCache.set(n,r),r}catch(r){console.warn("Failed to fetch Binance price, falling back to daily price:",r)}return this.getDailyPrice(e,t)}async getBinancePrice(e,t){const n=this.BINANCE_SYMBOLS[t];if(!n)throw new Error(`No Binance symbol mapping for token: ${t}`);const r=1e3*Math.floor(e);try{await new Promise((e=>setTimeout(e,100)));const e=await fetch(`https://api.binance.com/api/v3/klines?symbol=${n}&interval=1m&startTime=${r-6e4}&endTime=${r+6e4}&limit=2`);if(!e.ok)throw new Error(`Binance HTTP error! status: ${e.status}`);const t=await e.json();if(t&&t.length>0){const e=t[0],n=parseFloat(e[4]);if(isNaN(n))throw new Error("Invalid price data from Binance");return n}throw new Error("No price data available from Binance")}catch(i){return console.error("Binance price fetch error:",i),null}}async getDailyPrice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"solana";const n=new Date(1e3*e).toISOString().split("T")[0],r=`daily-${t}-${n}`;if(this.priceCache.has(r))return this.priceCache.get(r);if(this.failedRequests.get(r)>=this.MAX_RETRIES)return console.warn(`Skipping CoinGecko price fetch for ${n} due to previous failures`),null;try{var i,s;await new Promise((e=>setTimeout(e,200)));const e=await fetch(`https://api.coingecko.com/v3/coins/${t}/history?date=${n}`);if(!e.ok)throw new Error(`CoinGecko HTTP error! status: ${e.status}`);const o=null===(i=(await e.json()).market_data)||void 0===i||null===(s=i.current_price)||void 0===s?void 0:s.usd;if(o)return this.priceCache.set(r,o),o;throw new Error("No price data available from CoinGecko")}catch(o){console.error(`Error fetching CoinGecko price for ${n}:`,o);const e=(this.failedRequests.get(r)||0)+1;return this.failedRequests.set(r,e),null}}async getPricesInRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"solana";const r=[];let i=e;for(;i<=t;)r.push(i),i+=86400;const s=await Promise.all(r.map((e=>this.getPriceAtTimestamp(e,n))));return wl().zipObject(r.map((e=>new Date(1e3*e).toISOString())),s)}clearCache(){this.priceCache.clear(),this.failedRequests.clear()}clearOldCache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const t=Date.now(),n=24*e*60*60*1e3;this.priceCache.forEach(((e,r)=>{const[,i]=r.split("-"),s=new Date(i).getTime();t-s>n&&(this.priceCache.delete(r),this.failedRequests.delete(r))}))}};function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(null,arguments)}function xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Sl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function El(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Al={},Il={};var Tl=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},Cl={};!function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.__esModule=!0,e.default=void 0;var n="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://dkdbooncywawqqmfbbll.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRrZGJvb25jeXdhd3FxbWZiYmxsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA5NDI3NzksImV4cCI6MjA1NjUxODc3OX0.St73lJ1rEo3lvUiNEJz8aqBMYbSyjTJQ4_s4rUdZRJg",REACT_APP_SOLANA_RPC_URL:"https://rpc.helius.xyz/?api-key=268519a5-accf-40b1-9fe3-d0d61fe3a5ce"}&&!0,r=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,i=t.name,o=void 0===i?"stylesheet":i,a=t.optimizeForSpeed,l=void 0===a?n:a,c=t.isBrowser,u=void 0===c?"undefined"!==typeof window:c;s(r(o),"`name` must be a string"),this._name=o,this._deletedRulePlaceholder="#"+o+"-deleted-rule____{}",s("boolean"===typeof l,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=l,this._isBrowser=u,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var d=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=d?d.getAttribute("content"):null}var i,o,a,l=e.prototype;return l.setOptimizeForSpeed=function(e){s("boolean"===typeof e,"`setOptimizeForSpeed` accepts a boolean"),s(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},l.isOptimizeForSpeed=function(){return this._optimizeForSpeed},l.inject=function(){var e=this;if(s(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed)return this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),void(this._optimizeForSpeed||(n||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0));this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"===typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},l.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},l.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},l.insertRule=function(e,t){if(s(r(e),"`insertRule` accepts only strings"),!this._isBrowser)return"number"!==typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var i=this.getSheet();"number"!==typeof t&&(t=i.cssRules.length);try{i.insertRule(e,t)}catch(a){return n||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var o=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,o))}return this._rulesCount++},l.replaceRule=function(e,t){if(this._optimizeForSpeed||!this._isBrowser){var r=this._isBrowser?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(o){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var i=this._tags[e];s(i,"old rule at index `"+e+"` not found"),i.textContent=t}return e},l.deleteRule=function(e){if(this._isBrowser)if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];s(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}else this._serverSheet.deleteRule(e)},l.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach((function(e){return e&&e.parentNode.removeChild(e)})),this._tags=[]):this._serverSheet.cssRules=[]},l.cssRules=function(){var e=this;return this._isBrowser?this._tags.reduce((function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,(function(t){return t.cssText===e._deletedRulePlaceholder?null:t}))):t.push(null),t}),[]):this._serverSheet.cssRules},l.makeStyleTag=function(e,t,n){t&&s(r(t),"makeStyleTag acceps only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-"+e,""),t&&i.appendChild(document.createTextNode(t));var o=document.head||document.getElementsByTagName("head")[0];return n?o.insertBefore(i,n):o.appendChild(i),i},i=e,(o=[{key:"length",get:function(){return this._rulesCount}}])&&t(i.prototype,o),a&&t(i,a),e}();function s(e,t){if(!e)throw new Error("StyleSheet: "+t+".")}e.default=i}(Cl),function(e){e.__esModule=!0,e.default=void 0;var t=r(Tl),n=r(Cl);function r(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,i=void 0===r?null:r,s=t.optimizeForSpeed,o=void 0!==s&&s,a=t.isBrowser,l=void 0===a?"undefined"!==typeof window:a;this._sheet=i||new n.default({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),i&&"boolean"===typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=l,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}var r=e.prototype;return r.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce((function(e,t){return e[t]=0,e}),{}));var n=this.getIdAndRules(e),r=n.styleId,i=n.rules;if(r in this._instancesCounts)this._instancesCounts[r]+=1;else{var s=i.map((function(e){return t._sheet.insertRule(e)})).filter((function(e){return-1!==e}));this._indices[r]=s,this._instancesCounts[r]=1}},r.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw new Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach((function(e){return t._sheet.deleteRule(e)})),delete this._indices[n]),delete this._instancesCounts[n]}},r.update=function(e,t){this.add(t),this.remove(e)},r.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()},r.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map((function(t){return[t,e._fromServer[t]]})):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map((function(t){return[t,e._indices[t].map((function(e){return n[e].cssText})).join(e._optimizeForSpeed?"":"\n")]})).filter((function(e){return Boolean(e[1])})))},r.createComputeId=function(){var e={};return function(n,r){if(!r)return"jsx-"+n;var i=String(r),s=n+i;return e[s]||(e[s]="jsx-"+(0,t.default)(n+"-"+i)),e[s]}},r.createComputeSelector=function(e){void 0===e&&(e=/__jsx-style-dynamic-selector/g);var t={};return function(n,r){this._isBrowser||(r=r.replace(/\/style/gi,"\\/style"));var i=n+r;return t[i]||(t[i]=r.replace(e,n)),t[i]}},r.getIdAndRules=function(e){var t=this,n=e.children,r=e.dynamic,i=e.id;if(r){var s=this.computeId(i,r);return{styleId:s,rules:Array.isArray(n)?n.map((function(e){return t.computeSelector(s,e)})):[this.computeSelector(s,n)]}}return{styleId:this.computeId(i),rules:Array.isArray(n)?n:[n]}},r.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce((function(e,t){return e[t.id.slice(2)]=t,e}),{})},e}();e.default=i}(Il),function(e){e.__esModule=!0,e.default=s,e.flush=function(){var e=r.cssRules();return r.flush(),e};var t,n=i;var r=new((t=Il)&&t.__esModule?t:{default:t}).default;function s(e){return"undefined"===typeof window?(r.add(e),null):((0,n.useLayoutEffect)((function(){return r.add(e),function(){r.remove(e)}}),[e.id,String(e.dynamic)]),null)}s.dynamic=function(e){return e.map((function(e){var t=e[0],n=e[1];return r.computeId(t,n)})).join(" ")}}(Al);var Pl=Al.default||Al;Pl.flush=Al.flush;var jl={};!function(e){e.__esModule=!0,e.default=function(e){void 0===e&&(e={});return(0,r.flush)().map((function(t){var r=t[0],i=t[1];return n.default.createElement("style",{id:"__"+r,key:"__"+r,nonce:e.nonce?e.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})}))},e.flushToHTML=function(e){void 0===e&&(e={});return(0,r.flush)().reduce((function(t,n){var r=n[0],i=n[1];return t+='<style id="__'+r+'"'+(e.nonce?' nonce="'+e.nonce+'"':"")+">"+i+"</style>"}),"")};var t,n=(t=i)&&t.__esModule?t:{default:t},r=Al.default||Al;r.flush=Al.flush}(jl),(jl.default||jl).flushToHTML=jl.flushToHTML;const Nl=Pl;function Bl(e){return Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(e)}var Ml={sans:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',mono:"Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace",prism:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,"Liberation Mono", "Courier New", monospace'},Ol={xs:{min:"0",max:"650px"},sm:{min:"650px",max:"900px"},md:{min:"900px",max:"1280px"},lg:{min:"1280px",max:"1920px"},xl:{min:"1920px",max:"10000px"}},Rl={gap:"16pt",gapNegative:"-16pt",gapHalf:"8pt",gapHalfNegative:"-8pt",gapQuarter:"4pt",gapQuarterNegative:"-4pt",pageMargin:"16pt",pageWidth:"750pt",pageWidthWithMargin:"782pt",breakpointMobile:Ol.xs.max,breakpointTablet:Ol.sm.max,radius:"6px",unit:"16px"};const Ll={type:"light",font:Ml,layout:Rl,palette:{accents_1:"#fafafa",accents_2:"#eaeaea",accents_3:"#999",accents_4:"#888",accents_5:"#666",accents_6:"#444",accents_7:"#333",accents_8:"#111",background:"#fff",foreground:"#000",selection:"#79ffe1",secondary:"#666",code:"#f81ce5",border:"#eaeaea",error:"#e00",errorLight:"#ff1a1a",errorLighter:"#f7d4d6",errorDark:"#c50000",success:"#0070f3",successLight:"#3291ff",successLighter:"#d3e5ff",successDark:"#0761d1",warning:"#f5a623",warningLight:"#f7b955",warningLighter:"#ffefcf",warningDark:"#ab570a",cyan:"#50e3c2",cyanLighter:"#aaffec",cyanLight:"#79ffe1",cyanDark:"#29bc9b",violet:"#7928ca",violetLighter:"#e3d7fc",violetLight:"#8a63d2",violetDark:"#4c2889",purple:"#f81ce5",alert:"#ff0080",magenta:"#eb367f",link:"#0070f3"},breakpoints:Ol,expressiveness:{linkStyle:"none",linkHoverStyle:"none",dropdownBoxShadow:"0 4px 4px 0 rgba(0, 0, 0, 0.02)",scrollerStart:"rgba(255, 255, 255, 1)",scrollerEnd:"rgba(255, 255, 255, 0)",shadowSmall:"0 5px 10px rgba(0, 0, 0, 0.12)",shadowMedium:"0 8px 30px rgba(0, 0, 0, 0.12)",shadowLarge:"0 30px 60px rgba(0, 0, 0, 0.12)",portalOpacity:.25}};const zl={type:"dark",font:Ml,layout:Rl,palette:{accents_1:"#111",accents_2:"#333",accents_3:"#444",accents_4:"#666",accents_5:"#888",accents_6:"#999",accents_7:"#eaeaea",accents_8:"#fafafa",background:"#000",foreground:"#fff",selection:"#f81ce5",secondary:"#888",code:"#79ffe1",border:"#333",error:"#e00",errorLighter:"#f7d4d6",errorLight:"#ff1a1a",errorDark:"#c50000",success:"#0070f3",successLighter:"#d3e5ff",successLight:"#3291ff",successDark:"#0761d1",warning:"#f5a623",warningLighter:"#ffefcf",warningLight:"#f7b955",warningDark:"#ab570a",cyan:"#50e3c2",cyanLighter:"#aaffec",cyanLight:"#79ffe1",cyanDark:"#29bc9b",violet:"#7928ca",violetLighter:"#e3d7fc",violetLight:"#8a63d2",violetDark:"#4c2889",purple:"#f81ce5",alert:"#ff0080",magenta:"#eb367f",link:"#3291ff"},breakpoints:Ol,expressiveness:{linkStyle:"none",linkHoverStyle:"none",dropdownBoxShadow:"0 0 0 1px #333",scrollerStart:"rgba(255, 255, 255, 1)",scrollerEnd:"rgba(255, 255, 255, 0)",shadowSmall:"0 0 0 1px #333",shadowMedium:"0 0 0 1px #333",shadowLarge:"0 0 0 1px #333",portalOpacity:.75}};var Ul=function(e){return e&&"object"===Bl(e)},Dl=function e(t,n){if(!Ul(n)||!Ul(t))return t;for(var r={},i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o],l=n[o];Array.isArray(a)&&Array.isArray(l)?r[o]=l.concat(a):Ul(a)&&Ul(l)?r[o]=e(a,_l({},l)):r[o]=l||a}return r},$l=function(){return[Ll,zl]},Wl=function(e){return!!e&&!$l().find((function(t){return t.type===e}))},Fl=function(e,t){if(!Wl(t.type))throw new Error("Duplicate or unavailable theme type");return Dl(e,t)};var ql={isPresetTheme:function(e){if(!e)return!1;var t="string"===typeof e?e:e.type;return!Wl(t)},isAvailableThemeType:Wl,hasUserCustomTheme:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(e){return Wl(e.type)}))},getPresets:$l,getPresetStaticTheme:function(){return Ll},create:Fl,createFromDark:function(e){return Fl(zl,e)},createFromLight:function(e){return Fl(Ll,e)}}.getPresetStaticTheme(),Hl=i.createContext(ql);const Kl=function(){return i.useContext(Hl)};var Vl=["width","height","padding","margin","w","h","paddingLeft","paddingRight","paddingTop","paddingBottom","pl","pr","pt","pb","marginLeft","marginRight","marginTop","marginBottom","ml","mr","mt","mb","px","py","mx","my","font","unit","scale"],Jl=function(e){return"".concat(e)},Gl={getScaleProps:function(){},getAllScaleProps:function(){return{}},SCALES:{pl:Jl,pr:Jl,pb:Jl,pt:Jl,px:Jl,py:Jl,mb:Jl,ml:Jl,mr:Jl,mt:Jl,mx:Jl,my:Jl,width:Jl,height:Jl,font:Jl},unit:"16px"},Yl=i.createContext(Gl);const Zl=function(){return i.useContext(Yl)};function Ql(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Xl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xl(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ec=function(e){return function(t){if(!Array.isArray(t))return e[t];var n,r=void 0,i=Ql(t);try{for(i.s();!(n=i.n()).done;){var s=n.value,o=e[s];"undefined"!==typeof o&&(r=o)}}catch(a){i.e(a)}finally{i.f()}return r}},tc=function(e){return function(){var t,n={},r=Ql(Vl);try{for(r.s();!(t=r.n()).done;){var i=t.value,s=e[i];"undefined"!==typeof s&&(n[i]=s)}}catch(o){r.e(o)}finally{r.f()}return n}},nc=["children"],rc=["paddingLeft","pl","paddingRight","pr","paddingTop","pt","paddingBottom","pb","marginTop","mt","marginRight","mr","marginBottom","mb","marginLeft","ml","px","py","mx","my","width","height","font","w","h","margin","padding","unit","scale"];const ic=function(e){var t=(0,i.forwardRef)((function(t,n){var r,s,o,a,l,c,u,d,h,f,p,g,m,y,v,b,w,k,_,x,S,E,A,I,T,C,P,j,N,B,M,O,R=t.children,L=El(t,nc),z=Kl().layout,U=L.paddingLeft,D=L.pl,$=L.paddingRight,W=L.pr,F=L.paddingTop,q=L.pt,H=L.paddingBottom,K=L.pb,V=L.marginTop,J=L.mt,G=L.marginRight,Y=L.mr,Z=L.marginBottom,Q=L.mb,X=L.marginLeft,ee=L.ml,te=L.px,ne=L.py,re=L.mx,ie=L.my,se=L.width,oe=L.height,ae=L.font,le=L.w,ce=L.h,ue=L.margin,de=L.padding,he=L.unit,fe=void 0===he?z.unit:he,pe=L.scale,ge=void 0===pe?1:pe,me=El(L,rc),ye=function(e){return function(t,n){0===t&&(t=1,n=n||0);var r=function(e){if(1===e)return e;var t=Math.abs((e-1)/2);return e>1?1+t:1-t}(ge)*t;if("undefined"===typeof e)return"undefined"!==typeof n?"".concat(n):"calc(".concat(r," * ").concat(fe,")");if(!function(e){return void 0!==e&&!Number.isNaN(+e)}(e))return"".concat(e);var i=r*Number(e);return"calc(".concat(i," * ").concat(fe,")")}},ve={unit:fe,SCALES:{pt:ye(null!==(r=null!==(s=null!==F&&void 0!==F?F:q)&&void 0!==s?s:ne)&&void 0!==r?r:de),pr:ye(null!==(o=null!==(a=null!==$&&void 0!==$?$:W)&&void 0!==a?a:te)&&void 0!==o?o:de),pb:ye(null!==(l=null!==(c=null!==H&&void 0!==H?H:K)&&void 0!==c?c:ne)&&void 0!==l?l:de),pl:ye(null!==(u=null!==(d=null!==U&&void 0!==U?U:D)&&void 0!==d?d:te)&&void 0!==u?u:de),px:ye(null!==(h=null!==(f=null!==(p=null!==(g=null!==te&&void 0!==te?te:U)&&void 0!==g?g:$)&&void 0!==p?p:D)&&void 0!==f?f:W)&&void 0!==h?h:de),py:ye(null!==(m=null!==(y=null!==(v=null!==(b=null!==ne&&void 0!==ne?ne:F)&&void 0!==b?b:H)&&void 0!==v?v:q)&&void 0!==y?y:K)&&void 0!==m?m:de),mt:ye(null!==(w=null!==(k=null!==V&&void 0!==V?V:J)&&void 0!==k?k:ie)&&void 0!==w?w:ue),mr:ye(null!==(_=null!==(x=null!==G&&void 0!==G?G:Y)&&void 0!==x?x:re)&&void 0!==_?_:ue),mb:ye(null!==(S=null!==(E=null!==Z&&void 0!==Z?Z:Q)&&void 0!==E?E:ie)&&void 0!==S?S:ue),ml:ye(null!==(A=null!==(I=null!==X&&void 0!==X?X:ee)&&void 0!==I?I:re)&&void 0!==A?A:ue),mx:ye(null!==(T=null!==(C=null!==(P=null!==(j=null!==re&&void 0!==re?re:X)&&void 0!==j?j:G)&&void 0!==P?P:ee)&&void 0!==C?C:Y)&&void 0!==T?T:ue),my:ye(null!==(N=null!==(B=null!==(M=null!==(O=null!==ie&&void 0!==ie?ie:V)&&void 0!==O?O:Z)&&void 0!==M?M:J)&&void 0!==B?B:Q)&&void 0!==N?N:ue),width:ye(null!==se&&void 0!==se?se:le),height:ye(null!==oe&&void 0!==oe?oe:ce),font:ye(ae)},getScaleProps:ec(L),getAllScaleProps:tc(L)};return i.createElement(Yl.Provider,{value:ve},i.createElement(e,_l({},me,{ref:n}),R))}));return t.displayName="Scale".concat(e.displayName||"Wrapper"),t};var sc=function(e){for(var t=Object.keys(e),n=t.length,r="",i=0;i<n;i++){var s=t[i];e[t[i]]&&(r=r?"".concat(r," ").concat(String(s)):String(s))}return r};const oc=function(){var e,t=arguments.length,n="";if(0===t)return n;for(var r=0;r<t;r++){var i=r<0||arguments.length<=r?void 0:arguments[r];i&&("object"!==Bl(e=i)||Array.isArray(e)?n+=" ".concat(String(i).trim()):n+=" ".concat(sc(i)))}return n.trim()};var ac=["initialChecked","checked","disabled","onChange","type","className"],lc=function(e){var t=e.initialChecked,n=e.checked,r=e.disabled,s=e.onChange,o=e.type,a=e.className,l=El(e,ac),c=Kl(),u=Zl().SCALES,d=Sl((0,i.useState)(t),2),h=d[0],f=d[1],p=oc("toggle",{checked:h,disabled:r}),g=(0,i.useCallback)((function(e){if(!r){var t={target:{checked:!h},stopPropagation:e.stopPropagation,preventDefault:e.preventDefault,nativeEvent:e};f(!h),s&&s(t)}}),[r,h,s]),m=(0,i.useMemo)((function(){return function(e,t){var n={default:{bg:e.success},secondary:{bg:e.secondary},success:{bg:e.success},warning:{bg:e.warning},error:{bg:e.error}};return t?n[t]:n.default}(c.palette,o)}),[c.palette,o]).bg;return(0,i.useEffect)((function(){void 0!==n&&f(n)}),[n]),i.createElement("label",_l({},l,{className:Nl.dynamic([["4106206985",[r?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,m]]])+" "+(l&&null!=l.className&&l.className||a||"")}),i.createElement("input",{type:"checkbox",disabled:r,checked:h,onChange:g,className:Nl.dynamic([["4106206985",[r?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,m]]])}),i.createElement("div",{className:Nl.dynamic([["4106206985",[r?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,m]]])+" "+(p||"")},i.createElement("span",{className:Nl.dynamic([["4106206985",[r?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,m]]])+" inner"})),i.createElement(Nl,{id:"4106206985",dynamic:[r?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,m]},"label.__jsx-style-dynamic-selector{-webkit-tap-highlight-color:transparent;display:inline-block;vertical-align:middle;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;cursor:".concat(r?"not-allowed":"pointer",";--toggle-font-size:").concat(u.font(1),";--toggle-height:").concat(u.height(.875),";width:").concat(u.width(1.75),";height:var(--toggle-height);padding:").concat(u.pt(.1875)," ").concat(u.pr(0)," ").concat(u.pb(.1875)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}input.__jsx-style-dynamic-selector{overflow:hidden;visibility:hidden;height:0;opacity:0;width:0;position:absolute;background-color:transparent;z-index:-1;}.toggle.__jsx-style-dynamic-selector{height:var(--toggle-height);width:100%;border-radius:var(--toggle-height);-webkit-transition-delay:0.12s;transition-delay:0.12s;-webkit-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-property:background,border;transition-property:background,border;-webkit-transition-timing-function:cubic-bezier(0,0,0.2,1);transition-timing-function:cubic-bezier(0,0,0.2,1);position:relative;border:1px solid transparent;background-color:").concat(c.palette.accents_2,";padding:0;}.inner.__jsx-style-dynamic-selector{width:calc(var(--toggle-height) - 2px);height:calc(var(--toggle-height) - 2px);position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:1px;box-shadow:rgba(0,0,0,0.2) 0 1px 2px 0,rgba(0,0,0,0.1) 0 1px 3px 0;-webkit-transition:left 280ms cubic-bezier(0,0,0.2,1);transition:left 280ms cubic-bezier(0,0,0.2,1);border-radius:50%;background-color:").concat(c.palette.background,";}.disabled.__jsx-style-dynamic-selector{border-color:").concat(c.palette.accents_2,";background-color:").concat(c.palette.accents_1,";}.disabled.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{background-color:").concat(c.palette.accents_2,";}.disabled.checked.__jsx-style-dynamic-selector{border-color:").concat(c.palette.accents_4,";background-color:").concat(c.palette.accents_4,";}.checked.__jsx-style-dynamic-selector{background-color:").concat(m,";}.checked.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{left:calc(100% - (var(--toggle-height) - 2px));box-shadow:none;}")))};lc.defaultProps={type:"default",disabled:!1,initialChecked:!1,className:""},lc.displayName="GeistToggle";const cc=ic(lc),uc=e=>{let{onClick:t}=e;return(0,Ie.jsx)("div",{className:"flex justify-center py-4",children:(0,Ie.jsxs)("button",{onClick:t,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,Ie.jsx)("svg",{className:"w-4 h-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Load All Transactions"]})})},dc=e=>{let{transactions:t=[],selectedWallet:n="all",walletMap:r={},walletAddresses:s=[],walletNames:o=[],onWalletSelect:a,loading:l,batchProgress:c,walletProcessingStatus:u,queueWalletForProcessing:d,validateWalletAddress:h,onLoadTransactions:f}=e;const[p,g]=(0,i.useState)(1),[m,y]=(0,i.useState)({key:"timestamp",direction:"desc"}),[v,b]=(0,i.useState)(!0),w=(0,i.useMemo)((()=>{let e="all"===n?t:t.filter((e=>e.walletAddress===n));return v&&(e=e.filter((e=>!1!==e.success&&Math.abs(e.solChange)>0&&(null===e.usdValue||Math.abs(e.usdValue)>=.01)))),e}),[t,n,v]),k=(0,i.useMemo)((()=>{const e=[...w];return m.key&&e.sort(((e,t)=>e[m.key]<t[m.key]?"asc"===m.direction?-1:1:e[m.key]>t[m.key]?"asc"===m.direction?1:-1:0)),e}),[w,m]),_=Math.ceil(k.length/10),x=10*(p-1),S=k.slice(x,x+10),E=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"buy":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"sell":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"transfer":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"swap":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}},A=e=>new Date(1e3*e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),I=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e||null===e)return"-";const n=Math.abs(e).toFixed(4);return t?e>=0?`+${n}`:`-${n}`:n},T=e=>void 0===e||null===e?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),C=e=>{window.open(`https://solscan.io/tx/${e}`,"_blank")};return(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ie.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Ie.jsx)("button",{onClick:()=>a("all"),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-colors "+("all"===n?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-geist-accent-100 text-geist-accent-700 dark:bg-geist-accent-800 dark:text-geist-accent-300 hover:bg-geist-accent-200 dark:hover:bg-geist-accent-700"),children:"All Wallets"}),s.map(((e,t)=>e&&(0,Ie.jsx)("button",{onClick:()=>a(e),className:"px-3 py-1.5 rounded-lg text-sm font-medium transition-colors "+(n===e?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-geist-accent-100 text-geist-accent-700 dark:bg-geist-accent-800 dark:text-geist-accent-300 hover:bg-geist-accent-200 dark:hover:bg-geist-accent-700"),children:o[t]||`Wallet ${t+1}`},e)))]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)("span",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-400",children:"Hide Spam"}),(0,Ie.jsx)(cc,{checked:v,onChange:e=>b(e.target.checked),scale:.8})]})]}),l&&(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-geist-success mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-geist-accent-700 dark:text-geist-accent-300 font-medium",children:"Loading all transactions..."}),(0,Ie.jsx)("p",{className:"text-geist-accent-600 dark:text-geist-accent-400 text-sm mt-2",children:"This may take a few minutes for large wallets."}),c&&(0,Ie.jsxs)("div",{className:"mt-2 text-sm text-geist-accent-600 dark:text-geist-accent-400",children:["Processed ",c.processedTransactions," of ",c.totalTransactions," transactions"]})]}),!l&&0===t.length&&(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)("p",{className:"text-geist-accent-700 dark:text-geist-accent-300 mb-4",children:"No transactions found for the selected wallet."}),(0,Ie.jsx)(uc,{onClick:f||(()=>window.location.reload())})]}),(0,Ie.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Ie.jsxs)("table",{className:"min-w-full divide-y divide-geist-accent-200 dark:divide-geist-accent-700",children:[(0,Ie.jsx)("thead",{className:"bg-geist-accent-50 dark:bg-geist-accent-800",children:(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-geist-accent-600 dark:text-geist-accent-400 uppercase tracking-wider",children:"Date"}),(0,Ie.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-geist-accent-600 dark:text-geist-accent-400 uppercase tracking-wider",children:"Type"}),(0,Ie.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-geist-accent-600 dark:text-geist-accent-400 uppercase tracking-wider",children:"Amount"}),(0,Ie.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-geist-accent-600 dark:text-geist-accent-400 uppercase tracking-wider",children:"USD Value"}),(0,Ie.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-geist-accent-600 dark:text-geist-accent-400 uppercase tracking-wider",children:"Wallet"}),(0,Ie.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-geist-accent-600 dark:text-geist-accent-400 uppercase tracking-wider",children:"Details"}),(0,Ie.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-geist-accent-600 dark:text-geist-accent-400 uppercase tracking-wider",children:"Actions"})]})}),(0,Ie.jsx)("tbody",{className:"divide-y divide-geist-accent-200 dark:divide-geist-accent-700",children:S.map(((e,t)=>{return(0,Ie.jsxs)("tr",{className:"text-sm "+(t%2===0?"bg-white dark:bg-geist-accent-800":"bg-geist-accent-50 dark:bg-geist-accent-800/50"),children:[(0,Ie.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-geist-accent-900 dark:text-geist-accent-100",children:A(e.timestamp)}),(0,Ie.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Ie.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(e.type)}`,children:e.type})}),(0,Ie.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap font-medium "+(e.solChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[I(e.solChange)," SOL"]}),(0,Ie.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-geist-accent-900 dark:text-geist-accent-100",children:T(e.usdValue)}),(0,Ie.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-geist-accent-600 dark:text-geist-accent-400",children:r[e.walletAddress]||"Unknown Wallet"}),(0,Ie.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-geist-accent-600 dark:text-geist-accent-400",children:e.type===al&&e.destination_address&&(0,Ie.jsxs)("div",{className:"flex flex-col",children:[(0,Ie.jsxs)("span",{className:"text-xs",children:["To: ",r[e.destination_address]||(n=e.destination_address,n?`${n.slice(0,4)}...${n.slice(-4)}`:"")]}),e.is_internal_transfer&&(0,Ie.jsx)("span",{className:"text-xs text-geist-success dark:text-geist-success/70",children:"Internal Transfer"})]})}),(0,Ie.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Ie.jsx)("button",{onClick:()=>C(e.signature),className:"text-xs px-2 py-1 rounded-md bg-geist-accent-100 text-geist-accent-700 dark:bg-geist-accent-800 dark:text-geist-accent-300 hover:bg-geist-accent-200 dark:hover:bg-geist-accent-700 transition-colors",children:"View on Solflare"})})]},e.signature);var n}))})]})}),(0,Ie.jsx)("div",{className:"lg:hidden",children:S.map(((e,t)=>(0,Ie.jsxs)("div",{className:"p-4 rounded-lg mb-2 "+(t%2===0?"bg-white dark:bg-geist-accent-800":"bg-geist-accent-50 dark:bg-geist-accent-800/50"),children:[(0,Ie.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ie.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(e.type)}`,children:e.type}),(0,Ie.jsx)("span",{className:"text-xs text-geist-accent-600 dark:text-geist-accent-400",children:A(e.timestamp)})]}),(0,Ie.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Ie.jsx)("span",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-400",children:"Amount:"}),(0,Ie.jsxs)("span",{className:"text-sm font-medium "+(e.solChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[I(e.solChange)," SOL"]})]}),(0,Ie.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ie.jsx)("span",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-400",children:"Value:"}),(0,Ie.jsx)("span",{className:"text-sm text-geist-accent-900 dark:text-geist-accent-100",children:T(e.usdValue)})]}),(0,Ie.jsx)("div",{className:"mt-2 flex justify-end",children:(0,Ie.jsx)("button",{onClick:()=>C(e.signature),className:"text-xs px-2 py-1 rounded-md bg-geist-accent-100 text-geist-accent-700 dark:bg-geist-accent-800 dark:text-geist-accent-300 hover:bg-geist-accent-200 dark:hover:bg-geist-accent-700 transition-colors",children:"View on Solflare"})})]},e.signature)))}),_>1&&(0,Ie.jsxs)("div",{className:"flex justify-between items-center mt-4 px-4",children:[(0,Ie.jsx)("button",{onClick:()=>g((e=>Math.max(e-1,1))),disabled:1===p,className:"px-3 py-1 rounded-lg text-sm font-medium bg-geist-accent-100 text-geist-accent-700 dark:bg-geist-accent-800 dark:text-geist-accent-300 disabled:opacity-50",children:"Previous"}),(0,Ie.jsxs)("span",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-400",children:["Page ",p," of ",_]}),(0,Ie.jsx)("button",{onClick:()=>g((e=>Math.min(e+1,_))),disabled:p===_,className:"px-3 py-1 rounded-lg text-sm font-medium bg-geist-accent-100 text-geist-accent-700 dark:bg-geist-accent-800 dark:text-geist-accent-300 disabled:opacity-50",children:"Next"})]})]})};n(256);const hc=[{id:"solana",name:"Solana",icon:(0,Ie.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 128 128",children:(0,Ie.jsx)("path",{fill:"currentColor",d:"M93.94 42.63H44.82a2.45 2.45 0 0 1-1.72-.71l-7.58-7.58a2.43 2.43 0 0 1 1.71-4.15h49.12a2.4 2.4 0 0 1 1.72.71l7.58 7.58a2.43 2.43 0 0 1-1.71 4.15zm0 27.55H44.82a2.45 2.45 0 0 1-1.72-.71l-7.58-7.58a2.43 2.43 0 0 1 1.71-4.15h49.12a2.4 2.4 0 0 1 1.72.71l7.58 7.58a2.43 2.43 0 0 1-1.71 4.15zm0 27.54H44.82a2.45 2.45 0 0 1-1.72-.71l-7.58-7.58a2.43 2.43 0 0 1 1.71-4.15h49.12a2.4 2.4 0 0 1 1.72.71l7.58 7.58a2.43 2.43 0 0 1-1.71 4.15z"})}),placeholder:"Enter Solana wallet address",validateAddress:e=>/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(e)},{id:"coming-soon",name:"More coming soon...",icon:(0,Ie.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})}),placeholder:"",validateAddress:()=>!1,disabled:!0}],fc=e=>{let{formData:t,setFormData:n,handleWalletNameChange:r,loading:s,loadingProgress:o,walletProcessingStatus:a,queueWalletForProcessing:l,saveWalletAndPull:c,removeWallet:u,walletSaving:d,activeWalletIndex:h,validateWalletAddress:f,hasWalletTransactions:p}=e;const{user:g}=Pe(),[m,y]=(0,i.useState)(!1),[v,b]=(0,i.useState)(hc[0]),[w,k]=(0,i.useState)(""),[_,x]=(0,i.useState)(""),[S,E]=(0,i.useState)(""),[A,I]=(0,i.useState)(!1),T=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=e=>{T.current&&!T.current.contains(e.target)&&I(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);return(0,Ie.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ie.jsxs)("div",{className:"space-y-4 sm:space-y-0 sm:flex sm:justify-between sm:items-center mb-8",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-geist-accent-900 dark:text-geist-foreground",children:"Wallet Management"}),(0,Ie.jsx)("p",{className:"mt-2 text-geist-accent-600 dark:text-geist-accent-300",children:"Manage your crypto wallets across different networks"})]}),(0,Ie.jsxs)("button",{onClick:()=>y(!0),className:"w-full sm:w-auto px-4 py-2 bg-geist-success text-white rounded-xl font-medium hover:bg-opacity-90 transition-all flex items-center justify-center sm:justify-start",children:[(0,Ie.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Wallet"]})]}),m&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,Ie.jsxs)("div",{className:"bg-white dark:bg-geist-accent-800 rounded-2xl p-6 w-full max-w-md shadow-2xl transform transition-all duration-300 scale-100 animate-scale-up border border-geist-accent-200/50 dark:border-geist-accent-700/50",onClick:e=>e.stopPropagation(),children:[(0,Ie.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-geist-accent-900 dark:text-geist-foreground",children:"Add New Wallet"}),(0,Ie.jsx)("button",{onClick:()=>{y(!1),E("")},className:"text-geist-accent-500 hover:text-geist-accent-700 dark:text-geist-accent-400 dark:hover:text-geist-accent-200 p-1 rounded-lg hover:bg-geist-accent-100 dark:hover:bg-geist-accent-700 transition-colors",children:(0,Ie.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Ie.jsxs)("div",{className:"mb-4",children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"Select Network"}),(0,Ie.jsxs)("div",{className:"relative",ref:T,children:[(0,Ie.jsxs)("button",{onClick:()=>I(!A),className:"w-full flex items-center justify-between p-3 bg-white dark:bg-geist-accent-800 border border-geist-accent-200 dark:border-geist-accent-700 rounded-xl focus:ring-2 focus:ring-geist-success focus:border-transparent",children:[(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("span",{className:"mr-2 text-geist-accent-500 dark:text-geist-accent-400",children:v.icon}),(0,Ie.jsx)("span",{className:"font-medium text-geist-accent-900 dark:text-geist-foreground",children:v.name})]}),(0,Ie.jsx)("svg",{className:"w-5 h-5 text-geist-accent-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),A&&(0,Ie.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-geist-accent-800 border border-geist-accent-200 dark:border-geist-accent-700 rounded-xl shadow-lg",children:hc.map((e=>(0,Ie.jsxs)("button",{onClick:()=>{e.disabled||(b(e),I(!1))},disabled:e.disabled,className:`w-full flex items-center p-3 hover:bg-geist-accent-50 dark:hover:bg-geist-accent-700 ${e.disabled?"opacity-50 cursor-not-allowed":""} ${v.id===e.id?"bg-geist-accent-50 dark:bg-geist-accent-700":""}`,children:[(0,Ie.jsx)("span",{className:"mr-2 text-geist-accent-500 dark:text-geist-accent-400",children:e.icon}),(0,Ie.jsx)("span",{className:"font-medium text-geist-accent-900 dark:text-geist-foreground",children:e.name})]},e.id)))})]})]}),(0,Ie.jsxs)("div",{className:"mb-4",children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"Wallet Name"}),(0,Ie.jsx)("input",{type:"text",value:_,onChange:e=>x(e.target.value),className:"block w-full px-4 py-3 bg-white dark:bg-geist-accent-800 border border-geist-accent-200 dark:border-geist-accent-600 rounded-xl focus:ring-geist-success focus:border-geist-success transition-colors",placeholder:"Enter a name for this wallet"})]}),(0,Ie.jsxs)("div",{className:"mb-4",children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-geist-accent-600 dark:text-geist-accent-300 mb-2",children:"Wallet Address"}),(0,Ie.jsx)("input",{type:"text",value:w,onChange:e=>k(e.target.value),className:"block w-full px-4 py-3 bg-white dark:bg-geist-accent-800 border border-geist-accent-200 dark:border-geist-accent-600 rounded-xl focus:ring-geist-success focus:border-geist-success transition-colors",placeholder:v.placeholder})]}),S&&(0,Ie.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl text-red-600 dark:text-red-400 text-sm",children:S}),(0,Ie.jsx)("button",{onClick:async()=>{if(v.validateAddress(w))if(_.trim())try{const e=[...t.walletAddresses,w],r=[...t.walletNames,_];n({...t,walletAddresses:e,walletNames:r}),k(""),x(""),E(""),y(!1),g&&await c(w,_,e.length-1)}catch(e){E(e.message)}else E("Please enter a wallet name");else E("Invalid wallet address for selected network")},className:"w-full px-4 py-3 bg-geist-success text-white rounded-xl font-medium hover:bg-opacity-90 transition-all",children:"Add Wallet"})]})}),t.walletAddresses.length>0?(0,Ie.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.walletAddresses.map(((e,n)=>(0,Ie.jsxs)("div",{className:"bg-white dark:bg-geist-accent-800 rounded-2xl border border-geist-accent-200 dark:border-geist-accent-700 p-6",children:[(0,Ie.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{className:"font-medium text-geist-accent-900 dark:text-geist-foreground",children:t.walletNames[n]}),(0,Ie.jsxs)("p",{className:"text-sm text-geist-accent-500 dark:text-geist-accent-400 mt-1",children:[e.slice(0,4),"...",e.slice(-4)]})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e)},className:"p-2 text-geist-accent-500 hover:text-geist-accent-700 dark:text-geist-accent-400 dark:hover:text-geist-accent-200",children:(0,Ie.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Ie.jsx)("button",{onClick:()=>u(n),className:"p-2 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:(0,Ie.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("span",{className:"mr-2 text-geist-accent-500 dark:text-geist-accent-400",children:hc[0].icon}),(0,Ie.jsx)("span",{className:"text-sm font-medium text-geist-accent-900 dark:text-geist-foreground",children:"Solana"})]}),a.currentWallet===e?(0,Ie.jsxs)("span",{className:"text-sm text-blue-500 dark:text-blue-400 flex items-center",children:[(0,Ie.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ie.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ie.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"In Progress"]}):a.queuedWallets.includes(e)?(0,Ie.jsx)("span",{className:"text-sm text-geist-accent-500 dark:text-geist-accent-400",children:"Queued"}):p(e)?(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsxs)("span",{className:"text-sm text-green-500 dark:text-green-400 flex items-center mr-2",children:[(0,Ie.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Synced"]}),(0,Ie.jsx)("button",{onClick:()=>l(e),className:"p-1 rounded-full bg-geist-accent-100 dark:bg-geist-accent-700 hover:bg-geist-accent-200 dark:hover:bg-geist-accent-600","aria-label":"Refresh",children:(0,Ie.jsx)("svg",{className:"w-4 h-4 text-geist-accent-600 dark:text-geist-accent-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}):(0,Ie.jsx)("button",{onClick:()=>l(e),className:"text-sm text-geist-success hover:text-geist-success/90",children:"Sync Now"})]})]},n)))}):(0,Ie.jsxs)("div",{className:"text-center py-12 px-4 bg-white dark:bg-geist-accent-800 rounded-2xl border border-geist-accent-200 dark:border-geist-accent-700",children:[(0,Ie.jsx)("h3",{className:"text-lg font-medium text-geist-accent-900 dark:text-geist-foreground mb-2",children:"No wallets connected"}),(0,Ie.jsx)("p",{className:"text-geist-accent-600 dark:text-geist-accent-300",children:'Click the "Add Wallet" button above to start tracking your crypto transactions'})]})]})},pc="solana_tx_",gc="268519a5-accf-40b1-9fe3-d0d61fe3a5ce",mc=`https://rpc.helius.xyz/?api-key=${gc}`;window.SOLANA_RPC_ENDPOINT=mc;const yc=50;(()=>{let e=0})();const vc=function(e){let{user:t}=e;const{user:r}=Pe(),[s,o]=(0,i.useState)(!1),[a,l]=(0,i.useState)((()=>{const e=localStorage.getItem("lastVisitedPage");return!t&&!e})),[c,u]=(0,i.useState)((()=>localStorage.getItem("lastVisitedPage")||"wallets")),[d,h]=(0,i.useState)((()=>{const e=localStorage.getItem("lastVisitedPage");return"dashboard"===e?"dashboard":"reports"===e?"reports":"account"===e?"account":"wallets"})),[f,p]=(0,i.useState)((()=>"account"===localStorage.getItem("lastVisitedPage"))),[g,m]=(0,i.useState)([]),[y,v]=(0,i.useState)({walletAddresses:[],walletNames:[],firstName:"",lastName:"",salary:"",stockIncome:"",realEstateIncome:"",dividends:""}),[b,w]=(0,i.useState)(!1),[k,_]=(0,i.useState)(""),[x,S]=(0,i.useState)(null),[E,A]=(0,i.useState)({status:"",progress:0}),[I,T]=(0,i.useState)(!1),[C,P]=(0,i.useState)({isLimited:!1,retryCount:0,nextRetryTime:null,message:""}),[j,N]=(0,i.useState)((()=>localStorage.getItem("selectedWallet")||"all")),[B,M]=(0,i.useState)(0),[O,R]=(0,i.useState)(!1),[L,z]=(0,i.useState)({}),[U,D]=(0,i.useState)(!1),[$,W]=(0,i.useState)(!1),[F,q]=(0,i.useState)(null),[H,K]=(0,i.useState)(!1),[V,J]=(0,i.useState)({currentWallet:null,queuedWallets:[],completedWallets:[]}),G=(0,i.useRef)(null),Y=(0,i.useRef)(null),Z=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=setTimeout((()=>{Z.current=e=>{if(!e)return console.error("Cannot process empty wallet address"),Promise.resolve();if(!$a(e))return console.error(`Invalid Solana wallet address: ${e}`),Promise.resolve();console.log(`Queueing wallet for processing: ${e}`);try{return V.currentWallet===e?(console.log(`Wallet ${e} is already being processed`),Promise.resolve()):V.queuedWallets.includes(e)?(console.log(`Wallet ${e} is already queued for processing`),Promise.resolve()):(m([]),h("transactions"),N(e),J((t=>t.currentWallet===e||t.queuedWallets.includes(e)?t:t.currentWallet?(console.log(`Adding ${e} to processing queue`),{...t,queuedWallets:[...t.queuedWallets,e],completedWallets:t.completedWallets.filter((t=>t!==e))}):(console.log(`Starting immediate processing of wallet: ${e}`),setTimeout((()=>{ae(e)}),100),{...t,currentWallet:e,completedWallets:t.completedWallets.filter((t=>t!==e))}))),Ee((t=>({...t,[e]:void 0}))),Promise.resolve())}catch(t){return console.error(`Error queueing wallet ${e}:`,t),Promise.resolve()}};const e=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{console.log("Starting transaction analysis..."),w(!0),S(null);if(!await(async()=>{try{console.log("Validating Solana connection...");const e=new ma(mc),t=await e.getBlockHeight();return console.log("Connection validated, current block height:",t),!0}catch(e){return console.error("Failed to validate Solana connection:",e),!1}})())throw new Error("Failed to connect to Solana network");const n=e?[e]:y.walletAddresses.filter((e=>e.length>=32));if(0===n.length)throw new Error("No valid wallet addresses to process");let r=[];for(const e of n){console.log("Processing wallet:",e);try{const t=await ve(e);r=[...r,...t],S((n=>({...n,transactions:r,walletStats:{...null===n||void 0===n?void 0:n.walletStats,[e]:{totalTransactions:t.length,lastUpdated:(new Date).toISOString()}}})))}catch(t){console.error(`Error processing wallet ${e}:`,t)}}const i={totalTransactions:r.length,totalVolume:r.reduce(((e,t)=>e+Math.abs(t.usd_value)),0),realizedGains:r.filter((e=>"sell"===e.transaction_type)).reduce(((e,t)=>e+t.usd_value),0),uniqueTokens:new Set(r.map((e=>e.token_address))).size,gasFees:r.reduce(((e,t)=>e+(t.fee||0)),0)};return S((e=>({...e,summary:i,isComplete:!0}))),console.log("Analysis complete"),!0}catch(t){return console.error("Error in transaction analysis:",t),S((e=>({...e,error:t.message}))),!1}finally{w(!1)}},t=async()=>{console.log("Processing next wallet in queue");let n=null;if(J((e=>(n=e,e))),await new Promise((e=>setTimeout(e,0))),!n||!n.queuedWallets||0===n.queuedWallets.length)return console.log("No wallets in queue"),!1;const r=n.queuedWallets[0];console.log("Found wallet in queue, processing:",r),J((e=>({...e,currentWallet:r})));try{return await e(r),!0}catch(i){return console.error("Error processing wallet:",i),J((e=>{if(e.currentWallet===r){const n={...e,currentWallet:null,queuedWallets:e.queuedWallets.filter((e=>e!==r)),completedWallets:[...e.completedWallets,r]};return n.queuedWallets.length>0&&setTimeout((()=>{console.log("Processing next wallet after error recovery"),t()}),500),n}return e})),!1}};G.current=e,Y.current=t}),100);return()=>clearTimeout(e)}),[y.walletAddresses,w,A,J,V]);const Q=(0,i.useMemo)((()=>{const e={};return y.walletAddresses.forEach(((t,n)=>{t&&t.length>0&&(e[t]=y.walletNames[n]||`Wallet ${n+1}`)})),e}),[y.walletAddresses,y.walletNames]);(0,i.useEffect)((()=>{const e=setTimeout((()=>{R(!0)}),100);return()=>clearTimeout(e)}),[]),(0,i.useEffect)((()=>{if(O&&!f){y.walletAddresses.filter((e=>e.length>=32)).length>0&&oe()}}),[O,f,y.walletAddresses]);const X=(e,t)=>{const n=[...y.walletNames];n[e]=t,v((e=>({...e,walletNames:n})))},ee=e=>new Promise((t=>setTimeout(t,e))),te=()=>{console.log("Clearing all transaction cache...");const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(pc)&&e.push(n)}e.forEach((e=>{localStorage.removeItem(e)})),console.log(`Cleared ${e.length} cached items`),m([]),S(null),A(0)},ne=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=0,r=null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const s=e=>{if(!e)return!1;const t=e.message||"";return t.includes("Method not found")||t.includes("Helius API")||!0===e.heliusError};for(console.log("Making RPC call with retry logic");n<=t;)try{return await e()}catch(o){r=o;const e=o.message||"",a=o.responseText||"";if((e.includes("Method not found")||a.includes("Method not found"))&&(o.heliusError=!0),s(o))throw console.error(`Helius API error detected, not retrying with same method: ${e}`),o;const l=e.includes("429")||e.includes("rate limit")||e.includes("too many requests"),c=e.includes("network")||e.includes("ECONNRESET")||e.includes("ETIMEDOUT")||e.includes("failed to fetch");if(n===t)throw console.error(`Max retries (${t}) reached. Last error: ${e}`),o;l?(console.warn(`Rate limit hit (retry ${n+1}/${t}). Waiting ${i}ms before retrying...`),P({isRateLimited:!0,message:`Rate limit reached. Retrying in ${Math.ceil(i/1e3)}s...`,nextRetryTime:new Date(Date.now()+i)})):c?console.warn(`Network error (retry ${n+1}/${t}): ${e}. Waiting ${i}ms before retrying...`):console.warn(`Error (retry ${n+1}/${t}): ${e}. Waiting ${i}ms before retrying...`),await new Promise((e=>setTimeout(e,i))),i*=2,n++}throw r||new Error("Max retries reached")},re=(e,t)=>{try{var n,r;if(!e||!e.transaction||!e.meta)return 0;const i=e.transaction.message.accountKeys.map((e=>"string"===typeof e?e:e.pubkey||e.toString())).findIndex((e=>e===t));if(-1===i)return 0;const s=(null===(n=e.meta.preBalances)||void 0===n?void 0:n[i])||0;return(((null===(r=e.meta.postBalances)||void 0===r?void 0:r[i])||0)-s)/Ra}catch(i){return console.error("Error calculating SOL change:",i),0}},[ie,se]=(0,i.useState)({totalTransactions:0,processedTransactions:0,currentBatch:1,isComplete:!1}),oe=async()=>{const e=y.walletAddresses.filter((e=>e.length>=32));if(0===e.length)return{};try{console.log("Fetching current wallet balances..."),D(!0);const n=new ma(mc,"confirmed"),r={};for(const i of e){try{console.log(`Fetching balance for wallet: ${i}`);const e=new Ti(i),t=await n.getBalance(e);r[i]=t/Ra,console.log(`Wallet ${i} balance: ${r[i]} SOL`)}catch(t){console.error(`Error fetching balance for ${i}:`,t),r[i]=0}await ee(200)}return console.log("Wallet balances successfully fetched:",r),z(r),r}catch(t){return console.error("Error fetching wallet balances:",t),{}}finally{D(!1)}};(0,i.useEffect)((()=>{if(s)return;const e=localStorage.getItem("lastVisitedPage"),t=localStorage.getItem("selectedWallet");e&&(console.log("Restoring saved page:",e),u(e),p("account"===e),h(e),"dashboard"===e?t&&"all"!==t?(N(t),setTimeout((()=>{ae(t)}),500)):setTimeout((()=>{Ue()}),500):"wallets"===e&&K(!0)),o(!0)}),[]),(0,i.useEffect)((()=>{if(!s)return;const e=localStorage.getItem("lastVisitedPage");e&&e!==c&&(console.log("Page state mismatch, restoring to:",e),u(e),h(e),p("account"===e))}),[c,s]);const ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return G.current?G.current(e):(console.log("analyzeTaxes called but not fully initialized"),Promise.resolve())},le=e=>Z.current?Z.current(e):(console.log("queueWalletForProcessing called but not fully initialized"),Promise.resolve());(0,i.useEffect)((()=>{(async()=>{if(r)try{console.log("Loading wallets from Supabase for user:",r.id);const{success:e,data:t}=await(0,Me.u9)(r.id);if(e&&t&&t.length>0){const e=t.map((e=>e.wallet_address)),n=t.map((e=>e.wallet_name));v((t=>({...t,walletAddresses:e.length?e:[""],walletNames:n.length?n:["My Wallet"]}))),console.log("Loaded wallets from Supabase:",e),oe()}}catch(e){console.error("Error loading wallets from Supabase:",e)}})()}),[r]),(0,i.useEffect)((()=>{(t||r)&&(l(!1),localStorage.getItem("lastVisitedPage")||(u("wallets"),h("wallets")))}),[t,r]);const[ce,ue]=(0,i.useState)(!1),[de,he]=(0,i.useState)(null),fe=async(e,t,n)=>{if(!r)return console.error("No authenticated user found"),!1;try{if(ue(!0),he(n),!e||e.length<32)throw new Error("Invalid wallet address");const{data:i}=await Ae.N.from("wallets").select("wallet_address, wallet_name").eq("user_id",r.id).eq("wallet_address",e);let s=!1;if(i&&i.length>0){if(console.log("Wallet already exists for this user"),i[0].wallet_name!==t){const{error:n}=await Ae.N.from("wallets").update({wallet_name:t}).eq("user_id",r.id).eq("wallet_address",e);if(n)throw n}s=!0}else{const{error:n}=await Ae.N.from("wallets").insert([{user_id:r.id,wallet_address:e,wallet_name:t}]);if(n)throw n;s=!0}if(s){console.log("Wallet saved successfully, initiating transaction fetch...");const t=new ma(mc),n=await t.getBalance(new Ti(e));z((t=>({...t,[e]:n/Ra}))),J((t=>({...t,currentWallet:e,queuedWallets:t.queuedWallets.filter((t=>t!==e)),completedWallets:t.completedWallets.filter((t=>t!==e))}))),await ve(e)}return!0}catch(i){return console.error("Failed to save wallet or fetch transactions:",i),S((e=>({...e,error:i.message}))),!1}finally{ue(!1),he(null)}},pe=async e=>{const t=y.walletAddresses[e];if(window.confirm("Are you sure you want to remove this wallet? This will delete all associated transaction data."))try{if(r){const e=await(async e=>{if(!r)return!1;try{console.log(`Deleting wallet ${e} from database...`);const{data:t,error:n}=await Ae.N.from("wallets").select("id, wallet_address").eq("user_id",r.id).eq("wallet_address",e);if(n)throw n;if(!t||0===t.length)return console.log("Wallet not found in database"),!1;const i=t[0].id,{error:s}=await Ae.N.from("wallets").delete().eq("id",i);if(s)throw s;return console.log(`Successfully deleted wallet ${e} and its transactions`),!0}catch(t){return console.error("Error deleting wallet from database:",t),!1}})(t);if(!e)return void console.error("Failed to delete wallet from database")}const n=[...y.walletAddresses],i=[...y.walletNames];n.splice(e,1),i.splice(e,1),v({...y,walletAddresses:n,walletNames:i}),z((e=>{const n={...e};return delete n[t],n})),J((e=>({...e,currentWallet:e.currentWallet===t?null:e.currentWallet,queuedWallets:e.queuedWallets.filter((e=>e!==t)),completedWallets:e.completedWallets.filter((e=>e!==t))}))),await Ue()}catch(n){console.error("Error removing wallet:",n)}},ge=async e=>{try{if("string"!==typeof e)throw console.error("Invalid signature type:",typeof e,e),new Error("Invalid signature type");const t=await ne((async()=>{const t=await fetch(mc,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"my-id",method:"getTransaction",params:[e,{encoding:"jsonParsed",maxSupportedTransactionVersion:0}]})});if(!t.ok){if(429===t.status)throw new Error("RATE_LIMIT");throw new Error(`HTTP error! status: ${t.status}`)}return t}),3,1e3),n=await t.json();if(n.error)throw new Error(`Helius API error: ${n.error.message}`);return n.result}catch(t){throw console.error(`Error fetching transaction details for ${e}:`,t),t}},[me,ye]=(0,i.useState)({active:!1,walletAddress:null,progress:0}),ve=async e=>{try{console.log(`Starting transaction fetch for wallet: ${e}`),ye((t=>({active:!0,walletAddress:e,progress:0})));let n=[],r=null,i=!0,s=1,o=0;const a=3;for(m((t=>t.filter((t=>t.walletAddress!==e)))),xe((t=>t.filter((t=>t.walletAddress!==e))));i;){console.log(`Fetching batch ${s} for wallet ${e}...`);try{const t=await be(e,r);if(!t.transactions.length){if(console.log(`Empty batch received (${o+1}/${a})`),o++,o>=a){console.log("Max empty batches reached, stopping fetch"),i=!1;break}await ee(Math.min(1e3*Math.pow(2,o),5e3));continue}o=0;const l=await we(t.transactions,e);console.log(`Processed ${l.length} transactions in batch ${s}`),l.length>0&&(console.log(`Saving ${l.length} transactions to database...`),await ke(l),m((t=>[...t.filter((t=>t.walletAddress!==e)),...l])),xe((t=>[...t.filter((t=>t.walletAddress!==e)),...l]))),n=[...n,...l],r=t.lastSignature,ye((e=>({...e,progress:Math.min(5*s,100)})));const c=Math.max(100,Math.min(500,10*l.length));await ee(c),s++}catch(t){console.error(`Error processing batch ${s}:`,t),await ee(Math.min(1e3*Math.pow(2,o),5e3));continue}}return ye((e=>({...e,active:!1,progress:100}))),console.log(`Completed processing ${n.length} transactions for ${e}`),J((t=>({...t,currentWallet:null,completedWallets:[...t.completedWallets,e],queuedWallets:t.queuedWallets.filter((t=>t!==e))}))),n}catch(t){throw console.error("Error in fetchAndProcessTransactions:",t),ye((e=>({...e,active:!1}))),t}},be=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n;console.log(`Fetching transaction batch for wallet: ${e}`);const i=await ne((async()=>{const n=await fetch(mc,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"my-id",method:"getSignaturesForAddress",params:[e,{limit:10,before:t,commitment:"confirmed"}]})});if(!n.ok){if(429===n.status)throw new Error("RATE_LIMIT");throw new Error(`HTTP error! status: ${n.status}`)}const r=await n.json();if(r.error)throw new Error(`Helius API error: ${r.error.message}`);return r}),5,2e3);if(!i||!i.result)return console.log("No transaction data received from API"),{transactions:[],lastSignature:null};const s=i.result||[];console.log(`Found ${s.length} signatures to process`);const o=[];for(const e of s)try{await ee(500);const t=await ne((async()=>{const t=await ge(e.signature);if(!t)throw new Error("No transaction data received");return t}),3,1e3);t&&o.push(t)}catch(r){console.error(`Error fetching transaction ${e.signature}:`,r)}return{transactions:o,lastSignature:null===(n=s[s.length-1])||void 0===n?void 0:n.signature}}catch(r){throw console.error("Error fetching transaction batch:",r),"RATE_LIMIT"===r.message&&await ee(5e3),r}},we=async(e,t)=>Promise.all(e.map((async e=>{try{var n,r,i,s;const o=vl(e,t),a=re(e,t),l=e.blockTime?new Date(1e3*e.blockTime):new Date,{currentPrice:c,valueUSD:u}=await(async(e,t,n)=>{try{const r=e.blockTime||e.timestamp||Date.now()/1e3,i=await kl.getPriceAtTimestamp(r);let s=0;if(n<0&&"gas"!==t){const e=r-365*Math.random()*24*60*60,t=await kl.getPriceAtTimestamp(e);s=Math.abs(n)*(i-t)}return{currentPrice:i,valueUSD:n*(i||0),realizedGain:s}}catch(r){return console.error("Error getting price data:",r),{currentPrice:0,valueUSD:0,realizedGain:0}}})(e,o.type,a);let d=null;return o.type===al&&o.details&&(d={destination:o.details.destination,amount:o.details.amount,isInternalTransfer:y.walletAddresses.includes(o.details.destination)}),{signature:e.transaction.signatures[0],wallet_address:t,block_time:l,transaction_type:o.type,amount:a,usd_value:u,fee:null!==(n=e.meta)&&void 0!==n&&n.fee?e.meta.fee/Ra:0,success:null===(null===(r=e.meta)||void 0===r?void 0:r.err),destination_address:(null===(i=d)||void 0===i?void 0:i.destination)||null,is_internal_transfer:(null===(s=d)||void 0===s?void 0:s.isInternalTransfer)||!1,raw_data:JSON.stringify({...e,type:o,transferDetails:d,solChange:a,valueUSD:u})}}catch(o){return console.error("Error processing transaction:",o),null}}))).then((e=>e.filter(Boolean))),ke=async e=>{try{if(!e||0===e.length)return!0;e[0].wallet_address;const{data:t,error:n}=await Ae.N.from("wallets").select("id, wallet_address");if(n)throw n;const r=Object.fromEntries(t.map((e=>[e.wallet_address,e.id]))),i=e.map((e=>{const t=r[e.wallet_address];let n=null;return e.destination_address&&r[e.destination_address]&&(n=r[e.destination_address]),{signature:e.signature,block_time:e.block_time,transaction_type:e.transaction_type,amount:e.amount,usd_value:e.usd_value,fee:e.fee,success:e.success,raw_data:e.raw_data,wallet_id:t,destination_address:e.destination_address||null,is_internal_transfer:e.is_internal_transfer||!1,destination_wallet_id:n}})),{error:s}=await Ae.N.from("transactions").upsert(i,{onConflict:"signature",ignoreDuplicates:!0});if(s)throw s;return console.log(`Successfully saved ${i.length} transactions to database`),!0}catch(t){return console.error("Error saving transactions to database:",t),!1}},[_e,xe]=(0,i.useState)([]),[Se,Ee]=(0,i.useState)({}),[Te,Ce]=(0,i.useState)(0),[je,Ne]=(0,i.useState)(!0),[Re,Le]=(0,i.useState)(!1),Ue=async()=>{if(r)try{console.log("Loading all transactions from database - this may take a few minutes..."),W(!0);const{data:e,error:t}=await Ae.N.from("wallets").select("id, wallet_address").eq("user_id",r.id);if(t)throw t;if(!e||0===e.length)return console.log("No wallets found for user"),m([]),xe([]),void W(!1);const n=e.map((e=>e.id)),i=Object.fromEntries(e.map((e=>[e.id,e.wallet_address])));await Promise.all(e.map((async e=>{if(void 0===Se[e.wallet_address]){const t=await De(e.wallet_address);Ee((n=>({...n,[e.wallet_address]:t})))}})));const{data:s,error:o,count:a}=await Ae.N.from("transactions").select("\n          id, \n          wallet_id, \n          signature, \n          block_time, \n          success, \n          fee, \n          transaction_type, \n          amount, \n          usd_value, \n          token_symbol, \n          token_address\n        ",{count:"exact"}).in("wallet_id",n).order("block_time",{ascending:!1});if(o)throw o;if(console.log(`Found ${(null===s||void 0===s?void 0:s.length)||0} transactions (total: ${a||"unknown"})`),!s||0===s.length)return m([]),xe([]),void W(!1);const l=s.map((e=>({signature:e.signature,timestamp:new Date(e.block_time).getTime()/1e3,type:e.transaction_type,solChange:e.amount,success:e.success,fee:e.fee,walletAddress:i[e.wallet_id],walletName:y.walletNames[y.walletAddresses.indexOf(i[e.wallet_id])]||"Unknown",usdValue:parseFloat(e.usd_value)||null,tokenInfo:e.token_symbol?{symbol:e.token_symbol,address:e.token_address}:null,rawData:{}})));console.log(`Formatted ${l.length} transactions for display`),m(l),xe(l)}catch(e){console.error("Error loading transactions from database:",e)}finally{W(!1)}},De=async e=>{try{if(void 0!==Se[e])return Se[e];const{data:t}=await Ae.N.from("wallets").select("id").eq("wallet_address",e).single();if(!t)return!1;const{count:n,error:r}=await Ae.N.from("transactions").select("id",{count:"exact",head:!0}).eq("wallet_id",t.id).limit(1),i=n>0;return Ee((t=>({...t,[e]:i}))),i}catch(t){return console.error("Error checking wallet transactions:",t),!1}};return(0,i.useEffect)((()=>{(async()=>{Ce(0),Ne(!0),await Ue(0),await(async()=>{y.walletAddresses.length>0&&await Promise.all(y.walletAddresses.map((async e=>{void 0===Se[e]&&await De(e)})))})()})()}),[r,y.walletAddresses,y.walletNames]),(0,i.useEffect)((()=>{const e=localStorage.getItem("lastVisitedPage");e&&(h(e),p("account"===e))}),[]),(0,i.useEffect)((()=>{d&&localStorage.setItem("lastVisitedPage",d)}),[d]),(0,i.useEffect)((()=>{j&&localStorage.setItem("selectedWallet",j)}),[j]),(0,i.useEffect)((()=>{t||r?(t||r)&&(t||r||(l(!1),localStorage.getItem("lastVisitedPage")||(u("wallets"),h("wallets")))):(l(!0),u("landing"),h("landing"),localStorage.removeItem("lastVisitedPage"),localStorage.removeItem("selectedWallet"),m([]),v({walletAddresses:[],walletNames:[],firstName:"",lastName:"",salary:"",stockIncome:"",realEstateIncome:"",dividends:""}),S(null),z({}),N("all"),p(!1),M(0))}),[t,r]),(0,Ie.jsx)("div",{className:""+(O?"fade-in":"opacity-0"),children:a?(0,Ie.jsx)(Be,{onGetStarted:()=>{l(!1),M(1)}}):(0,Ie.jsx)(ze,{toggleUserInfoPage:()=>{p(!f)},currentPage:c,userProfile:y,onNavigate:e=>{if(t||r||"landing"===e)if(console.log("Navigating to:",e),u(e),localStorage.setItem("lastVisitedPage",e),"dashboard"===e){p(!1),h("dashboard");const e=localStorage.getItem("selectedWallet");e&&"all"!==e&&e!==j?(N(e),setTimeout((()=>{ae(e)}),100)):me.active||Ue()}else"account"===e?(p(!0),h("account")):"reports"===e?(p(!1),h("reports")):"wallets"===e&&(p(!1),h("wallets"),K(!0));else console.log("Preventing navigation while logged out")},children:f?(0,Ie.jsx)(Oe,{formData:y,setFormData:v,handleInputChange:e=>{const{name:t,value:n}=e.target;v((e=>({...e,[t]:n})))},handleWalletNameChange:X,analyzeTaxes:ae,loading:b,loadingProgress:E,results:x,clearTransactionCache:()=>{const e=y.walletAddresses.filter((e=>e.length>=32));0!==e.length?(e.forEach((e=>{const t=`${e}_${(()=>{try{new ma(mc);const e=new Date,t=e.getFullYear(),n=e.getMonth()+1>=7?t:t-1;return{startDate:new Date(`${n}-07-01`),endDate:new Date(`${n+1}-06-30`)}}catch(e){return console.error("Error getting fiscal year dates:",e),null}})().startDate.getTime()}`;localStorage.removeItem(pc+t)})),T(!0),m([]),S(null),A(0),alert('Cache cleared. Click "Calculate All Taxes" to refresh the data.')):alert("Please add valid wallet addresses first.")},clearAllTransactionCache:te,resetAllAppData:async()=>{if(console.log("Resetting all application data..."),te(),m([]),S(null),A(0),se({totalTransactions:0,processedTransactions:0,currentBatch:0,totalBatches:0,isComplete:!0}),r)try{const{deleteAllUserData:e}=await Promise.resolve().then(n.bind(n,765)),t=await e(r.id);t.success?console.log("Successfully reset all Supabase data"):console.error("Error resetting Supabase data:",t.error)}catch(e){console.error("Error importing or calling deleteAllUserData:",e)}alert("All application data has been reset successfully.")},goBackToDashboard:()=>{p(!1),u("dashboard"),h("dashboard"),x&&oe()},walletProcessingStatus:V,queueWalletForProcessing:le,user:r,saveTransactionsToSupabase:async(e,t)=>{if(!r||!e||!t||0===t.length)return console.log("Cannot save transactions: missing required data"),!1;try{console.log(`Saving ${t.length} transactions for wallet ${e} to Supabase`);const{success:n,data:i}=await(0,Me.u9)(r.id);if(n&&i){const n=i.find((t=>t.wallet_address===e));if(n){const e=t.map((e=>{var t;return{wallet_id:n.id,signature:e.signature,block_time:e.timestamp?new Date(1e3*e.timestamp):null,success:e.success,transaction_type:e.type||"unknown",amount:e.solChange||null,token_symbol:(null===(t=e.tokenInfo)||void 0===t?void 0:t.symbol)||null,usd_value:e.valueUSD||null,raw_data:JSON.stringify(e)}}));if((await(0,Me.xo)(n.id,e)).success)return console.log(`Successfully saved ${e.length} transactions to Supabase`),!0}else console.error(`Wallet ${e} not found in user's wallets`)}return!1}catch(n){return console.error("Error saving transactions to Supabase:",n),!1}},saveWalletAndPull:fe,removeWallet:pe,walletSaving:ce,activeWalletIndex:de}):(0,Ie.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:["wallets"===d&&(0,Ie.jsx)(fc,{formData:y,setFormData:v,handleWalletNameChange:X,analyzeTaxes:ae,loading:b,loadingProgress:E,results:x,walletProcessingStatus:V,queueWalletForProcessing:le,saveWalletAndPull:fe,removeWallet:pe,walletSaving:ce,activeWalletIndex:de,validateWalletAddress:$a,hasWalletTransactions:e=>void 0!==Se[e]?Se[e]:_e.some((t=>t.walletAddress===e))}),"dashboard"===d&&(0,Ie.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-4",children:[me.active&&(0,Ie.jsx)("div",{className:"bg-white dark:bg-geist-accent-800 rounded-xl shadow-sm border border-geist-accent-200 dark:border-geist-accent-700 p-3 animate-fade-in",children:(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ie.jsx)("div",{className:"flex-1",children:(0,Ie.jsxs)("p",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-300",children:["Processing ",Q[me.walletAddress]||"wallet"]})}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)("div",{className:"w-16 bg-geist-accent-100 dark:bg-geist-accent-700 rounded-full h-1.5",children:(0,Ie.jsx)("div",{className:"bg-geist-success h-full rounded-full transition-all duration-500",style:{width:`${me.progress}%`}})}),(0,Ie.jsxs)("span",{className:"text-xs text-geist-accent-500 dark:text-geist-accent-400 tabular-nums",children:[me.progress,"%"]})]})]})}),(0,Ie.jsxs)("div",{className:"bg-white dark:bg-geist-accent-800 rounded-xl shadow-sm border border-geist-accent-200 dark:border-geist-accent-700 animate-fade-in",children:[(0,Ie.jsxs)("div",{className:"lg:hidden",children:[(0,Ie.jsx)("div",{className:"p-4 border-b border-geist-accent-200 dark:border-geist-accent-700",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsx)("h2",{className:"text-base font-semibold text-geist-accent-900 dark:text-geist-foreground",children:"Wallet Overview"}),(0,Ie.jsxs)("span",{className:"text-xs text-geist-accent-500 dark:text-geist-accent-400",children:[y.walletAddresses.filter((e=>e.length>=32)).length," wallets"]})]})}),(0,Ie.jsxs)("div",{className:"divide-y divide-geist-accent-200 dark:divide-geist-accent-700",children:[(0,Ie.jsx)("div",{className:"p-4",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsx)("span",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-400",children:"Total Balance"}),U?(0,Ie.jsx)("div",{className:"flex items-center justify-center h-6",children:(0,Ie.jsxs)("svg",{className:"animate-spin h-4 w-4 text-geist-success",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ie.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ie.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,Ie.jsxs)("span",{className:"text-base font-medium text-geist-success dark:text-green-300",children:[Object.values(L).reduce(((e,t)=>e+t),0).toFixed(4)," SOL"]})]})}),(0,Ie.jsx)("div",{className:"p-4",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsx)("span",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-400",children:"Transactions"}),$?(0,Ie.jsx)("div",{className:"flex items-center justify-center h-6",children:(0,Ie.jsxs)("svg",{className:"animate-spin h-4 w-4 text-geist-success",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ie.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ie.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,Ie.jsx)("span",{className:"text-base font-medium text-geist-accent-900 dark:text-geist-foreground",children:g.length})]})})]})]}),(0,Ie.jsxs)("div",{className:"hidden lg:block p-6",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold mb-6 text-geist-accent-900 dark:text-geist-foreground",children:"Wallet Overview"}),(0,Ie.jsxs)("div",{className:"grid grid-cols-3 gap-8",children:[(0,Ie.jsxs)("div",{className:"p-4 bg-geist-accent-50 dark:bg-geist-accent-700 rounded-xl",children:[(0,Ie.jsx)("div",{className:"text-3xl font-bold text-geist-accent-900 dark:text-geist-foreground mb-2",children:y.walletAddresses.filter((e=>e.length>=32)).length}),(0,Ie.jsx)("div",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-300",children:"Connected Wallets"})]}),(0,Ie.jsx)("div",{className:"p-4 bg-geist-accent-50 dark:bg-geist-accent-700 rounded-xl",children:U?(0,Ie.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Ie.jsxs)("svg",{className:"animate-spin h-6 w-6 text-geist-success",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ie.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ie.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("div",{className:"text-3xl font-bold text-geist-success dark:text-green-300 mb-2",children:[Object.values(L).reduce(((e,t)=>e+t),0).toFixed(4)," SOL"]}),(0,Ie.jsx)("div",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-300",children:"Current Balance"})]})}),(0,Ie.jsxs)("div",{className:"p-4 bg-geist-accent-50 dark:bg-geist-accent-700 rounded-xl",children:[(0,Ie.jsx)("div",{className:"text-3xl font-bold text-geist-accent-900 dark:text-geist-foreground mb-2",children:$?(0,Ie.jsx)("div",{className:"flex items-center justify-center",children:(0,Ie.jsxs)("svg",{className:"animate-spin h-6 w-6 text-geist-accent-900 dark:text-geist-foreground",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ie.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ie.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):g.length}),(0,Ie.jsx)("div",{className:"text-sm text-geist-accent-600 dark:text-geist-accent-300",children:"Total Transactions"})]})]})]})]}),(0,Ie.jsxs)("div",{className:"bg-white dark:bg-geist-accent-800 rounded-2xl shadow-lg border border-geist-accent-200 dark:border-geist-accent-700 p-6 animate-fade-in",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold mb-6 text-geist-accent-900 dark:text-geist-foreground",children:"Transaction Dashboard"}),(0,Ie.jsx)(dc,{transactions:g,selectedWallet:j,walletMap:Q,walletAddresses:y.walletAddresses,walletNames:y.walletNames,onWalletSelect:N,loading:$,batchProgress:ie,onLoadTransactions:Ue})]})]}),"reports"===d&&(0,Ie.jsxs)("div",{className:"mt-6 bg-white dark:bg-geist-accent-800 rounded-2xl shadow-lg border border-geist-accent-200 dark:border-geist-accent-700 p-6 animate-fade-in",children:[(0,Ie.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-geist-accent-900 dark:text-geist-foreground",children:"Tax Reports"}),(0,Ie.jsx)("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-sm rounded-full",children:"Coming Soon"})]}),(0,Ie.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 opacity-60"})]})]})})})},bc=()=>{const{user:e,loading:t}=Pe(),n=ne();return(0,i.useEffect)((()=>{t||e||n("/login")}),[e,t,n]),t?(0,Ie.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-geist-background",children:(0,Ie.jsxs)("svg",{className:"animate-spin h-8 w-8 text-geist-success",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ie.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ie.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,Ie.jsx)(vc,{user:e})},wc=()=>{const{user:e,loading:t}=Pe(),n=ne(),[r,s]=(0,i.useState)(!e);(0,i.useEffect)((()=>{document.documentElement.classList.add("dark")}),[]),(0,i.useEffect)((()=>{t||s(!e)}),[e,t]);return t?(0,Ie.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-geist-background",children:(0,Ie.jsxs)("svg",{className:"animate-spin h-8 w-8 text-geist-success",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ie.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ie.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,Ie.jsxs)(ve,{children:[(0,Ie.jsx)(me,{path:"/",element:r?(0,Ie.jsx)(Be,{onGetStarted:()=>{s(!1),n("/login")}}):e?(0,Ie.jsx)(ge,{to:"/app"}):(0,Ie.jsx)(ge,{to:"/login"})}),(0,Ie.jsx)(me,{path:"/login",element:e?(0,Ie.jsx)(ge,{to:"/app"}):(0,Ie.jsx)(Ne,{onSuccess:()=>n("/app")})}),(0,Ie.jsx)(me,{path:"/app/*",element:e?(0,Ie.jsx)(bc,{}):(0,Ie.jsx)(ge,{to:"/"})}),(0,Ie.jsx)(me,{path:"*",element:(0,Ie.jsx)(ge,{to:"/"})})]})},kc=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,488)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};o.createRoot(document.getElementById("root")).render((0,Ie.jsx)(i.StrictMode,{children:(0,Ie.jsx)(ke,{children:(0,Ie.jsx)(Ce,{children:(0,Ie.jsx)(wc,{})})})})),kc()})()})();
//# sourceMappingURL=main.2c4823f4.js.map